var a0=Object.defineProperty,c0=Object.defineProperties;var u0=Object.getOwnPropertyDescriptors;var jm=Object.getOwnPropertySymbols;var l0=Object.prototype.hasOwnProperty,d0=Object.prototype.propertyIsEnumerable;var Um=(n,e,t)=>e in n?a0(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,De=(n,e)=>{for(var t in e||={})l0.call(e,t)&&Um(n,t,e[t]);if(jm)for(var t of jm(e))d0.call(e,t)&&Um(n,t,e[t]);return n},Re=(n,e)=>c0(n,u0(e));var b=(n,e,t)=>new Promise((r,i)=>{var o=u=>{try{c(t.next(u))}catch(d){i(d)}},s=u=>{try{c(t.throw(u))}catch(d){i(d)}},c=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);c((t=t.apply(n,e)).next())});function Bm(n,e){return Object.is(n,e)}var Se=null,Rs=!1,al=1,Tr=Symbol("SIGNAL");function X(n){let e=Se;return Se=n,e}function cl(){return Se}var Ms={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function ul(n){if(Rs)throw new Error("");if(Se===null)return;Se.consumerOnSignalRead(n);let e=Se.nextProducerIndex++;if(Ps(Se),e<Se.producerNode.length&&Se.producerNode[e]!==n&&Ji(Se)){let t=Se.producerNode[e];Ns(t,Se.producerIndexOfThis[e])}Se.producerNode[e]!==n&&(Se.producerNode[e]=n,Se.producerIndexOfThis[e]=Ji(Se)?Gm(n,Se,e):0),Se.producerLastReadVersion[e]=n.version}function $m(){al++}function Hm(n){if(!(Ji(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===al)){if(!n.producerMustRecompute(n)&&!hl(n)){sl(n);return}n.producerRecomputeValue(n),sl(n)}}function ll(n){if(n.liveConsumerNode===void 0)return;let e=Rs;Rs=!0;try{for(let t of n.liveConsumerNode)t.dirty||h0(t)}finally{Rs=e}}function qm(){return Se?.consumerAllowSignalWrites!==!1}function h0(n){n.dirty=!0,ll(n),n.consumerMarkedDirty?.(n)}function sl(n){n.dirty=!1,n.lastCleanEpoch=al}function dl(n){return n&&(n.nextProducerIndex=0),X(n)}function zm(n,e){if(X(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(Ji(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)Ns(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function hl(n){Ps(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(Hm(t),r!==t.version))return!0}return!1}function fl(n){if(Ps(n),Ji(n))for(let e=0;e<n.producerNode.length;e++)Ns(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function Gm(n,e,t){if(Wm(n),n.liveConsumerNode.length===0&&Km(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=Gm(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function Ns(n,e){if(Wm(n),n.liveConsumerNode.length===1&&Km(n))for(let r=0;r<n.producerNode.length;r++)Ns(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];Ps(i),i.producerIndexOfThis[r]=e}}function Ji(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Ps(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function Wm(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function Km(n){return n.producerNode!==void 0}function f0(){throw new Error}var Qm=f0;function p0(n){Qm(n)}function pl(n){Qm=n}var g0=null;function gl(n,e){qm()||p0(n),n.equal(n.value,e)||(n.value=e,m0(n))}var ml=Re(De({},Ms),{equal:Bm,value:void 0,kind:"signal"});function m0(n){n.version++,$m(),ll(n),g0?.()}var yl;function Xi(){return yl}function Wt(n){let e=yl;return yl=n,e}var xs=Symbol("NotFound");function se(n){return typeof n=="function"}function ks(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Os=ks(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function On(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var Me=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(se(r))try{r()}catch(o){e=o instanceof Os?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{Ym(o)}catch(s){e=e??[],s instanceof Os?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Os(e)}}add(e){var t;if(e&&e!==this)if(this.closed)Ym(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&On(t,e)}remove(e){let{_finalizers:t}=this;t&&On(t,e),e instanceof n&&e._removeParent(this)}};Me.EMPTY=(()=>{let n=new Me;return n.closed=!0,n})();var vl=Me.EMPTY;function Fs(n){return n instanceof Me||n&&"closed"in n&&se(n.remove)&&se(n.add)&&se(n.unsubscribe)}function Ym(n){se(n)?n():n.unsubscribe()}var ht={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Cr={setTimeout(n,e,...t){let{delegate:r}=Cr;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=Cr;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Vs(n){Cr.setTimeout(()=>{let{onUnhandledError:e}=ht;if(e)e(n);else throw n})}function _l(){}var Zm=Il("C",void 0,void 0);function Jm(n){return Il("E",void 0,n)}function Xm(n){return Il("N",n,void 0)}function Il(n,e,t){return{kind:n,value:e,error:t}}var Fn=null;function br(n){if(ht.useDeprecatedSynchronousErrorHandling){let e=!Fn;if(e&&(Fn={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=Fn;if(Fn=null,t)throw r}}else n()}function ey(n){ht.useDeprecatedSynchronousErrorHandling&&Fn&&(Fn.errorThrown=!0,Fn.error=n)}var Vn=class extends Me{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Fs(e)&&e.add(this)):this.destination=b0}static create(e,t,r){return new Sr(e,t,r)}next(e){this.isStopped?El(Xm(e),this):this._next(e)}error(e){this.isStopped?El(Jm(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?El(Zm,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},T0=Function.prototype.bind;function wl(n,e){return T0.call(n,e)}var Dl=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Ls(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Ls(r)}else Ls(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Ls(t)}}},Sr=class extends Vn{constructor(e,t,r){super();let i;if(se(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&ht.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&wl(e.next,o),error:e.error&&wl(e.error,o),complete:e.complete&&wl(e.complete,o)}):i=e}this.destination=new Dl(i)}};function Ls(n){ht.useDeprecatedSynchronousErrorHandling?ey(n):Vs(n)}function C0(n){throw n}function El(n,e){let{onStoppedNotification:t}=ht;t&&Cr.setTimeout(()=>t(n,e))}var b0={closed:!0,next:_l,error:C0,complete:_l};var Ar=typeof Symbol=="function"&&Symbol.observable||"@@observable";function ty(n){return n}function ny(n){return n.length===0?ty:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var pe=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=A0(t)?t:new Sr(t,r,i);return br(()=>{let{operator:s,source:c}=this;o.add(s?s.call(o,c):c?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=ry(r),new r((i,o)=>{let s=new Sr({next:c=>{try{t(c)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[Ar](){return this}pipe(...t){return ny(t)(this)}toPromise(t){return t=ry(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function ry(n){var e;return(e=n??ht.Promise)!==null&&e!==void 0?e:Promise}function S0(n){return n&&se(n.next)&&se(n.error)&&se(n.complete)}function A0(n){return n&&n instanceof Vn||S0(n)&&Fs(n)}function R0(n){return se(n?.lift)}function Rr(n){return e=>{if(R0(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function js(n,e,t,r,i){return new Tl(n,e,t,r,i)}var Tl=class extends Vn{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(c){try{t(c)}catch(u){e.error(u)}}:super._next,this._error=i?function(c){try{i(c)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};var iy=ks(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var mn=(()=>{class n extends pe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new Us(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new iy}next(t){br(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){br(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){br(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?vl:(this.currentObservers=null,o.push(t),new Me(()=>{this.currentObservers=null,On(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new pe;return t.source=this,t}}return n.create=(e,t)=>new Us(e,t),n})(),Us=class extends mn{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:vl}};var Mr=class extends mn{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Cl={now(){return(Cl.delegate||Date).now()},delegate:void 0};var Bs=class extends Me{constructor(e,t){super()}schedule(e,t=0){return this}};var eo={setInterval(n,e,...t){let{delegate:r}=eo;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=eo;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var Nr=class extends Bs{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return eo.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&eo.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,On(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var Pr=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};Pr.now=Cl.now;var xr=class extends Pr{constructor(e,t=Pr.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var bl=new xr(Nr);var $s=class extends Nr{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var Hs=class extends xr{};var Sl=new Hs($s);function oy(n){return n&&se(n.schedule)}function M0(n){return n[n.length-1]}function sy(n){return oy(M0(n))?n.pop():void 0}function Al(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function cy(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function c(f){try{d(r.next(f))}catch(g){s(g)}}function u(f){try{d(r.throw(f))}catch(g){s(g)}}function d(f){f.done?o(f.value):i(f.value).then(c,u)}d((r=r.apply(n,e||[])).next())})}function ay(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ln(n){return this instanceof Ln?(this.v=n,this):new Ln(n)}function uy(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(m){return function(S){return Promise.resolve(S).then(m,g)}}function c(m,S){r[m]&&(i[m]=function(N){return new Promise(function(P,F){o.push([m,N,P,F])>1||u(m,N)})},S&&(i[m]=S(i[m])))}function u(m,S){try{d(r[m](S))}catch(N){v(o[0][3],N)}}function d(m){m.value instanceof Ln?Promise.resolve(m.value.v).then(f,g):v(o[0][2],m)}function f(m){u("next",m)}function g(m){u("throw",m)}function v(m,S){m(S),o.shift(),o.length&&u(o[0][0],o[0][1])}}function ly(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof ay=="function"?ay(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(c,u){s=n[o](s),i(c,u,s.done,s.value)})}}function i(o,s,c,u){Promise.resolve(u).then(function(d){o({value:d,done:c})},s)}}var qs=n=>n&&typeof n.length=="number"&&typeof n!="function";function zs(n){return se(n?.then)}function Gs(n){return se(n[Ar])}function Ws(n){return Symbol.asyncIterator&&se(n?.[Symbol.asyncIterator])}function Ks(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function N0(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Qs=N0();function Ys(n){return se(n?.[Qs])}function Zs(n){return uy(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield Ln(t.read());if(i)return yield Ln(void 0);yield yield Ln(r)}}finally{t.releaseLock()}})}function Js(n){return se(n?.getReader)}function kr(n){if(n instanceof pe)return n;if(n!=null){if(Gs(n))return P0(n);if(qs(n))return x0(n);if(zs(n))return k0(n);if(Ws(n))return dy(n);if(Ys(n))return O0(n);if(Js(n))return F0(n)}throw Ks(n)}function P0(n){return new pe(e=>{let t=n[Ar]();if(se(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function x0(n){return new pe(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function k0(n){return new pe(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Vs)})}function O0(n){return new pe(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function dy(n){return new pe(e=>{V0(n,e).catch(t=>e.error(t))})}function F0(n){return dy(Zs(n))}function V0(n,e){var t,r,i,o;return cy(this,void 0,void 0,function*(){try{for(t=ly(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function St(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function yn(n,e=0){return Rr((t,r)=>{t.subscribe(js(r,i=>St(r,n,()=>r.next(i),e),()=>St(r,n,()=>r.complete(),e),i=>St(r,n,()=>r.error(i),e)))})}function vn(n,e=0){return Rr((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function hy(n,e){return kr(n).pipe(vn(e),yn(e))}function fy(n,e){return kr(n).pipe(vn(e),yn(e))}function py(n,e){return new pe(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function gy(n,e){return new pe(t=>{let r;return St(t,e,()=>{r=n[Qs](),St(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>se(r?.return)&&r.return()})}function Xs(n,e){if(!n)throw new Error("Iterable cannot be null");return new pe(t=>{St(t,e,()=>{let r=n[Symbol.asyncIterator]();St(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function my(n,e){return Xs(Zs(n),e)}function yy(n,e){if(n!=null){if(Gs(n))return hy(n,e);if(qs(n))return py(n,e);if(zs(n))return fy(n,e);if(Ws(n))return Xs(n,e);if(Ys(n))return gy(n,e);if(Js(n))return my(n,e)}throw Ks(n)}function Rl(n,e){return e?yy(n,e):kr(n)}function Ml(...n){let e=sy(n);return Rl(n,e)}function jn(n,e){return Rr((t,r)=>{let i=0;t.subscribe(js(r,o=>{r.next(n.call(e,o,i++))}))})}var sv="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",H=class extends Error{code;constructor(e,t){super(j0(e,t)),this.code=e}};function L0(n){return`NG0${Math.abs(n)}`}function j0(n,e){return`${L0(n)}${e?": "+e:""}`}var av=Symbol("InputSignalNode#UNSET"),U0=Re(De({},ml),{transformFn:void 0,applyValueToInputSignal(n,e){gl(n,e)}});function cv(n,e){let t=Object.create(U0);t.value=n,t.transformFn=e?.transform;function r(){if(ul(t),t.value===av){let i=null;throw new H(-950,i)}return t.value}return r[Tr]=t,r}function po(n){return{toString:n}.toString()}var ea="__parameters__";function B0(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function $0(n,e,t){return po(()=>{let r=B0(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return c.annotation=s,c;function c(u,d,f){let g=u.hasOwnProperty(ea)?u[ea]:Object.defineProperty(u,ea,{value:[]})[ea];for(;g.length<=f;)g.push(null);return(g[f]=g[f]||[]).push(s),u}}return i.prototype.ngMetadataName=n,i.annotationCls=i,i})}function ge(n){for(let e in n)if(n[e]===ge)return e;throw Error("Could not find renamed property on target object.")}function H0(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function gt(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(gt).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function vy(n,e){return n?e?`${n} ${e}`:n:e||""}var q0=ge({__forward_ref__:ge});function go(n){return n.__forward_ref__=go,n.toString=function(){return gt(this())},n}function ze(n){return uv(n)?n():n}function uv(n){return typeof n=="function"&&n.hasOwnProperty(q0)&&n.__forward_ref__===go}function ue(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Kr(n){return{providers:n.providers||[],imports:n.imports||[]}}function bd(n){return _y(n,lv)||_y(n,dv)}function _y(n,e){return n.hasOwnProperty(e)?n[e]:null}function z0(n){let e=n&&(n[lv]||n[dv]);return e||null}function Iy(n){return n&&(n.hasOwnProperty(wy)||n.hasOwnProperty(G0))?n[wy]:null}var lv=ge({\u0275prov:ge}),wy=ge({\u0275inj:ge}),dv=ge({ngInjectableDef:ge}),G0=ge({ngInjectorDef:ge}),z=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=ue({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function hv(n){return n&&!!n.\u0275providers}var W0=ge({\u0275cmp:ge}),K0=ge({\u0275dir:ge}),Q0=ge({\u0275pipe:ge});var sa=ge({\u0275fac:ge}),io=ge({__NG_ELEMENT_ID__:ge}),Ey=ge({__NG_ENV_ID__:ge});function Sd(n){return typeof n=="string"?n:n==null?"":String(n)}function Y0(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Sd(n)}function fv(n,e){throw new H(-200,n)}function Ad(n,e){throw new H(-201,!1)}var Y=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(Y||{}),Hl;function pv(){return Hl}function st(n){let e=Hl;return Hl=n,e}function gv(n,e,t){let r=bd(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&Y.Optional)return null;if(e!==void 0)return e;Ad(n,"Injector")}var Z0={},Un=Z0,ql="__NG_DI_FLAG__",aa=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=t;return this.injector.get(e,r.optional?xs:Un,r)}},ca="ngTempTokenPath",J0="ngTokenPath",X0=/\n/gm,eC="\u0275",Dy="__source";function tC(n,e=Y.Default){if(Xi()===void 0)throw new H(-203,!1);if(Xi()===null)return gv(n,void 0,e);{let t=Xi(),r;return t instanceof aa?r=t.injector:r=t,r.get(n,e&Y.Optional?null:void 0,e)}}function re(n,e=Y.Default){return(pv()||tC)(ze(n),e)}function j(n,e=Y.Default){return re(n,xa(e))}function xa(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function zl(n){let e=[];for(let t=0;t<n.length;t++){let r=ze(n[t]);if(Array.isArray(r)){if(r.length===0)throw new H(900,!1);let i,o=Y.Default;for(let s=0;s<r.length;s++){let c=r[s],u=rC(c);typeof u=="number"?u===-1?i=c.token:o|=u:i=c}e.push(re(i,o))}else e.push(re(r))}return e}function nC(n,e){return n[ql]=e,n.prototype[ql]=e,n}function rC(n){return n[ql]}function iC(n,e,t,r){let i=n[ca];throw e[Dy]&&i.unshift(e[Dy]),n.message=oC(`
`+n.message,i,t,r),n[J0]=i,n[ca]=null,n}function oC(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==eC?n.slice(2):n;let i=gt(e);if(Array.isArray(e))i=e.map(gt).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let c=e[s];o.push(s+":"+(typeof c=="string"?JSON.stringify(c):gt(c)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(X0,`
  `)}`}var wn=nC($0("Optional"),8);function jr(n,e){let t=n.hasOwnProperty(sa);return t?n[sa]:null}function Rd(n,e){n.forEach(t=>Array.isArray(t)?Rd(t,e):e(t))}function mv(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function ua(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}var $n={},pt=[],la=new z(""),yv=new z("",-1),vv=new z(""),da=class{get(e,t=Un){if(t===Un){let r=new Error(`NullInjectorError: No provider for ${gt(e)}!`);throw r.name="NullInjectorError",r}return t}};function oo(n){return n[W0]||null}function sC(n){return n[K0]||null}function aC(n){return n[Q0]||null}function ka(n){return{\u0275providers:n}}function cC(...n){return{\u0275providers:_v(!0,n),\u0275fromNgModule:!0}}function _v(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return Rd(e,s=>{let c=s;Gl(c,o,[],r)&&(i||=[],i.push(c))}),i!==void 0&&Iv(i,o),t}function Iv(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];Md(i,o=>{e(o,r)})}}function Gl(n,e,t,r){if(n=ze(n),!n)return!1;let i=null,o=Iy(n),s=!o&&oo(n);if(!o&&!s){let u=n.ngModule;if(o=Iy(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=n}let c=r.has(i);if(s){if(c)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let d of u)Gl(d,e,t,r)}}else if(o){if(o.imports!=null&&!c){r.add(i);let d;try{Rd(o.imports,f=>{Gl(f,e,t,r)&&(d||=[],d.push(f))})}finally{}d!==void 0&&Iv(d,e)}if(!c){let d=jr(i)||(()=>new i);e({provide:i,useFactory:d,deps:pt},i),e({provide:vv,useValue:i,multi:!0},i),e({provide:la,useValue:()=>re(i),multi:!0},i)}let u=o.providers;if(u!=null&&!c){let d=n;Md(u,f=>{e(f,d)})}}else return!1;return i!==n&&n.providers!==void 0}function Md(n,e){for(let t of n)hv(t)&&(t=t.\u0275providers),Array.isArray(t)?Md(t,e):e(t)}var uC=ge({provide:String,useValue:ge});function wv(n){return n!==null&&typeof n=="object"&&uC in n}function lC(n){return!!(n&&n.useExisting)}function dC(n){return!!(n&&n.useFactory)}function Ur(n){return typeof n=="function"}function hC(n){return!!n.useClass}var Oa=new z(""),ta={},Ty={},Nl;function Nd(){return Nl===void 0&&(Nl=new da),Nl}var tt=class{},so=class extends tt{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,Kl(e,s=>this.processProvider(s)),this.records.set(yv,Or(void 0,this)),i.has("environment")&&this.records.set(tt,Or(void 0,this));let o=this.records.get(Oa);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(vv,pt,Y.Self))}retrieve(e,t){let r=t;return this.get(e,r.optional?xs:Un,r)}destroy(){no(this),this._destroyed=!0;let e=X(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),X(e)}}onDestroy(e){return no(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){no(this);let t=Wt(this),r=st(void 0),i;try{return e()}finally{Wt(t),st(r)}}get(e,t=Un,r=Y.Default){if(no(this),e.hasOwnProperty(Ey))return e[Ey](this);r=xa(r);let i,o=Wt(this),s=st(void 0);try{if(!(r&Y.SkipSelf)){let u=this.records.get(e);if(u===void 0){let d=yC(e)&&bd(e);d&&this.injectableDefInScope(d)?u=Or(Wl(e),ta):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let c=r&Y.Self?Nd():this.parent;return t=r&Y.Optional&&t===Un?null:t,c.get(e,t)}catch(c){if(c.name==="NullInjectorError"){if((c[ca]=c[ca]||[]).unshift(gt(e)),o)throw c;return iC(c,e,"R3InjectorError",this.source)}else throw c}finally{st(s),Wt(o)}}resolveInjectorInitializers(){let e=X(null),t=Wt(this),r=st(void 0),i;try{let o=this.get(la,pt,Y.Self);for(let s of o)s()}finally{Wt(t),st(r),X(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(gt(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=ze(e);let t=Ur(e)?e:ze(e&&e.provide),r=pC(e);if(!Ur(e)&&e.multi===!0){let i=this.records.get(t);i||(i=Or(void 0,ta,!0),i.factory=()=>zl(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){let r=X(null);try{return t.value===Ty?fv(gt(e)):t.value===ta&&(t.value=Ty,t.value=t.factory()),typeof t.value=="object"&&t.value&&mC(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{X(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=ze(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function Wl(n){let e=bd(n),t=e!==null?e.factory:jr(n);if(t!==null)return t;if(n instanceof z)throw new H(204,!1);if(n instanceof Function)return fC(n);throw new H(204,!1)}function fC(n){if(n.length>0)throw new H(204,!1);let t=z0(n);return t!==null?()=>t.factory(n):()=>new n}function pC(n){if(wv(n))return Or(void 0,n.useValue);{let e=Ev(n);return Or(e,ta)}}function Ev(n,e,t){let r;if(Ur(n)){let i=ze(n);return jr(i)||Wl(i)}else if(wv(n))r=()=>ze(n.useValue);else if(dC(n))r=()=>n.useFactory(...zl(n.deps||[]));else if(lC(n))r=()=>re(ze(n.useExisting));else{let i=ze(n&&(n.useClass||n.provide));if(gC(n))r=()=>new i(...zl(n.deps));else return jr(i)||Wl(i)}return r}function no(n){if(n.destroyed)throw new H(205,!1)}function Or(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function gC(n){return!!n.deps}function mC(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function yC(n){return typeof n=="function"||typeof n=="object"&&n instanceof z}function Kl(n,e){for(let t of n)Array.isArray(t)?Kl(t,e):t&&hv(t)?Kl(t.\u0275providers,e):e(t)}function Wn(n,e){let t;n instanceof so?(no(n),t=n):t=new aa(n);let r,i=Wt(t),o=st(void 0);try{return e()}finally{Wt(i),st(o)}}function Dv(){return pv()!==void 0||Xi()!=null}function Tv(n){if(!Dv())throw new H(-203,!1)}function vC(n){return typeof n=="function"}var Yt=0,W=1,q=2,We=3,mt=4,_t=5,ao=6,ha=7,ke=8,Br=9,Kt=10,Ke=11,co=12,Cy=13,mo=14,yt=15,$r=16,Fr=17,Hr=18,Fa=19,Cv=20,_n=21,Pl=22,fa=23,at=24,xl=25,vt=26,bv=1;var Hn=7,pa=8,ga=9,Ge=10;function In(n){return Array.isArray(n)&&typeof n[bv]=="object"}function Zt(n){return Array.isArray(n)&&n[bv]===!0}function Sv(n){return(n.flags&4)!==0}function Qr(n){return n.componentOffset>-1}function Pd(n){return(n.flags&1)===1}function Rt(n){return!!n.template}function ma(n){return(n[q]&512)!==0}function yo(n){return(n[q]&256)===256}var Ql=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function Av(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var Va=(()=>{let n=()=>Rv;return n.ngInherit=!0,n})();function Rv(n){return n.type.prototype.ngOnChanges&&(n.setInput=IC),_C}function _C(){let n=Nv(this),e=n?.current;if(e){let t=n.previous;if(t===$n)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function IC(n,e,t,r,i){let o=this.declaredInputs[r],s=Nv(n)||wC(n,{previous:$n,current:null}),c=s.current||(s.current={}),u=s.previous,d=u[o];c[o]=new Ql(d&&d.currentValue,t,u===$n),Av(n,e,i,t)}var Mv="__ngSimpleChanges__";function Nv(n){return n[Mv]||null}function wC(n,e){return n[Mv]=e}var by=null;var de=function(n,e=null,t){by?.(n,e,t)},Pv="svg",EC="math";function Mt(n){for(;Array.isArray(n);)n=n[Yt];return n}function DC(n,e){return Mt(e[n])}function Jt(n,e){return Mt(e[n.index])}function xd(n,e){return n.data[e]}function TC(n,e){return n[e]}function Nt(n,e){let t=e[n];return In(t)?t:t[Yt]}function kd(n){return(n[q]&128)===128}function CC(n){return Zt(n[We])}function uo(n,e){return e==null?null:n[e]}function xv(n){n[Fr]=0}function kv(n){n[q]&1024||(n[q]|=1024,kd(n)&&ja(n))}function La(n){return!!(n[q]&9216||n[at]?.dirty)}function Yl(n){n[Kt].changeDetectionScheduler?.notify(8),n[q]&64&&(n[q]|=1024),La(n)&&ja(n)}function ja(n){n[Kt].changeDetectionScheduler?.notify(0);let e=qn(n);for(;e!==null&&!(e[q]&8192||(e[q]|=8192,!kd(e)));)e=qn(e)}function Ov(n,e){if(yo(n))throw new H(911,!1);n[_n]===null&&(n[_n]=[]),n[_n].push(e)}function bC(n,e){if(n[_n]===null)return;let t=n[_n].indexOf(e);t!==-1&&n[_n].splice(t,1)}function qn(n){let e=n[We];return Zt(e)?e[We]:e}function Fv(n){return n[ha]??=[]}function Vv(n){return n.cleanup??=[]}var Z={lFrame:Gv(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Zl=!1;function SC(){return Z.lFrame.elementDepthCount}function AC(){Z.lFrame.elementDepthCount++}function RC(){Z.lFrame.elementDepthCount--}function Lv(){return Z.bindingsEnabled}function MC(){return Z.skipHydrationRootTNode!==null}function NC(n){return Z.skipHydrationRootTNode===n}function PC(){Z.skipHydrationRootTNode=null}function ve(){return Z.lFrame.lView}function Xt(){return Z.lFrame.tView}function Ua(n){return Z.lFrame.contextLView=n,n[ke]}function Ba(n){return Z.lFrame.contextLView=null,n}function xt(){let n=jv();for(;n!==null&&n.type===64;)n=n.parent;return n}function jv(){return Z.lFrame.currentTNode}function xC(){let n=Z.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function vo(n,e){let t=Z.lFrame;t.currentTNode=n,t.isParent=e}function Uv(){return Z.lFrame.isParent}function kC(){Z.lFrame.isParent=!1}function OC(){return Z.lFrame.contextLView}function Bv(){return Zl}function Sy(n){let e=Zl;return Zl=n,e}function $v(){let n=Z.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function FC(n){return Z.lFrame.bindingIndex=n}function Od(){return Z.lFrame.bindingIndex++}function VC(){return Z.lFrame.inI18n}function LC(n,e){let t=Z.lFrame;t.bindingIndex=t.bindingRootIndex=n,Jl(e)}function jC(){return Z.lFrame.currentDirectiveIndex}function Jl(n){Z.lFrame.currentDirectiveIndex=n}function Hv(n){Z.lFrame.currentQueryIndex=n}function UC(n){let e=n[W];return e.type===2?e.declTNode:e.type===1?n[_t]:null}function qv(n,e,t){if(t&Y.SkipSelf){let i=e,o=n;for(;i=i.parent,i===null&&!(t&Y.Host);)if(i=UC(o),i===null||(o=o[mo],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=Z.lFrame=zv();return r.currentTNode=e,r.lView=n,!0}function Fd(n){let e=zv(),t=n[W];Z.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function zv(){let n=Z.lFrame,e=n===null?null:n.child;return e===null?Gv(n):e}function Gv(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function Wv(){let n=Z.lFrame;return Z.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var Kv=Wv;function Vd(){let n=Wv();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function $a(){return Z.lFrame.selectedIndex}function zn(n){Z.lFrame.selectedIndex=n}function BC(){let n=Z.lFrame;return xd(n.tView,n.selectedIndex)}function Yr(){Z.lFrame.currentNamespace=Pv}function _o(){$C()}function $C(){Z.lFrame.currentNamespace=null}function HC(){return Z.lFrame.currentNamespace}var Qv=!0;function Ld(){return Qv}function jd(n){Qv=n}function qC(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=Rv(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function Yv(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:c,ngAfterViewInit:u,ngAfterViewChecked:d,ngOnDestroy:f}=o;s&&(n.contentHooks??=[]).push(-t,s),c&&((n.contentHooks??=[]).push(t,c),(n.contentCheckHooks??=[]).push(t,c)),u&&(n.viewHooks??=[]).push(-t,u),d&&((n.viewHooks??=[]).push(t,d),(n.viewCheckHooks??=[]).push(t,d)),f!=null&&(n.destroyHooks??=[]).push(t,f)}}function na(n,e,t){Zv(n,e,3,t)}function ra(n,e,t,r){(n[q]&3)===t&&Zv(n,e,t,r)}function kl(n,e){let t=n[q];(t&3)===e&&(t&=16383,t+=1,n[q]=t)}function Zv(n,e,t,r){let i=r!==void 0?n[Fr]&65535:0,o=r??-1,s=e.length-1,c=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(c=e[u],r!=null&&c>=r)break}else e[u]<0&&(n[Fr]+=65536),(c<o||o==-1)&&(zC(n,t,e,u),n[Fr]=(n[Fr]&4294901760)+u+2),u++}function Ay(n,e){de(4,n,e);let t=X(null);try{e.call(n)}finally{X(t),de(5,n,e)}}function zC(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],c=n[s];i?n[q]>>14<n[Fr]>>16&&(n[q]&3)===e&&(n[q]+=16384,Ay(c,o)):Ay(c,o)}var Lr=-1,Gn=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r){this.factory=e,this.canSeeViewProviders=t,this.injectImpl=r}};function GC(n){return(n.flags&8)!==0}function WC(n){return(n.flags&16)!==0}function KC(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],c=t[r++];n.setAttribute(e,s,c,o)}else{let o=i,s=t[++r];YC(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function QC(n){return n===3||n===4||n===6}function YC(n){return n.charCodeAt(0)===64}function lo(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?Ry(n,t,i,null,e[++r]):Ry(n,t,i,null,null))}}return n}function Ry(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let c=n[o++];if(typeof c=="number"){if(c===e){s=-1;break}else if(c>e){s=o-1;break}}}for(;o<n.length;){let c=n[o];if(typeof c=="number")break;if(c===t){i!==null&&(n[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i)}function Jv(n){return n!==Lr}function ya(n){return n&32767}function ZC(n){return n>>16}function va(n,e){let t=ZC(n),r=e;for(;t>0;)r=r[mo],t--;return r}var Xl=!0;function My(n){let e=Xl;return Xl=n,e}var JC=256,Xv=JC-1,e_=5,XC=0,At={};function eb(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(io)&&(r=t[io]),r==null&&(r=t[io]=XC++);let i=r&Xv,o=1<<i;e.data[n+(i>>e_)]|=o}function _a(n,e){let t=t_(n,e);if(t!==-1)return t;let r=e[W];r.firstCreatePass&&(n.injectorIndex=e.length,Ol(r.data,n),Ol(e,null),Ol(r.blueprint,null));let i=Ud(n,e),o=n.injectorIndex;if(Jv(i)){let s=ya(i),c=va(i,e),u=c[W].data;for(let d=0;d<8;d++)e[o+d]=c[s+d]|u[s+d]}return e[o+8]=i,o}function Ol(n,e){n.push(0,0,0,0,0,0,0,0,e)}function t_(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function Ud(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=s_(i),r===null)return Lr;if(t++,i=i[mo],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return Lr}function ed(n,e,t){eb(n,e,t)}function n_(n,e,t){if(t&Y.Optional||n!==void 0)return n;Ad(e,"NodeInjector")}function r_(n,e,t,r){if(t&Y.Optional&&r===void 0&&(r=null),(t&(Y.Self|Y.Host))===0){let i=n[Br],o=st(void 0);try{return i?i.get(e,r,t&Y.Optional):gv(e,r,t&Y.Optional)}finally{st(o)}}return n_(r,e,t)}function i_(n,e,t,r=Y.Default,i){if(n!==null){if(e[q]&2048&&!(r&Y.Self)){let s=ob(n,e,t,r,At);if(s!==At)return s}let o=o_(n,e,t,r,At);if(o!==At)return o}return r_(e,t,r,i)}function o_(n,e,t,r,i){let o=rb(t);if(typeof o=="function"){if(!qv(e,n,r))return r&Y.Host?n_(i,t,r):r_(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&Y.Optional))Ad(t);else return s}finally{Kv()}}else if(typeof o=="number"){let s=null,c=t_(n,e),u=Lr,d=r&Y.Host?e[yt][_t]:null;for((c===-1||r&Y.SkipSelf)&&(u=c===-1?Ud(n,e):e[c+8],u===Lr||!Py(r,!1)?c=-1:(s=e[W],c=ya(u),e=va(u,e)));c!==-1;){let f=e[W];if(Ny(o,c,f.data)){let g=tb(c,e,t,s,r,d);if(g!==At)return g}u=e[c+8],u!==Lr&&Py(r,e[W].data[c+8]===d)&&Ny(o,c,e)?(s=f,c=ya(u),e=va(u,e)):c=-1}}return i}function tb(n,e,t,r,i,o){let s=e[W],c=s.data[n+8],u=r==null?Qr(c)&&Xl:r!=s&&(c.type&3)!==0,d=i&Y.Host&&o===c,f=nb(c,s,t,u,d);return f!==null?Ia(e,s,f,c):At}function nb(n,e,t,r,i){let o=n.providerIndexes,s=e.data,c=o&1048575,u=n.directiveStart,d=n.directiveEnd,f=o>>20,g=r?c:c+f,v=i?c+f:d;for(let m=g;m<v;m++){let S=s[m];if(m<u&&t===S||m>=u&&S.type===t)return m}if(i){let m=s[u];if(m&&Rt(m)&&m.type===t)return u}return null}function Ia(n,e,t,r){let i=n[t],o=e.data;if(i instanceof Gn){let s=i;s.resolving&&fv(Y0(o[t]));let c=My(s.canSeeViewProviders);s.resolving=!0;let u,d=s.injectImpl?st(s.injectImpl):null,f=qv(n,r,Y.Default);try{i=n[t]=s.factory(void 0,o,n,r),e.firstCreatePass&&t>=r.directiveStart&&qC(t,o[t],e)}finally{d!==null&&st(d),My(c),s.resolving=!1,Kv()}}return i}function rb(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(io)?n[io]:void 0;return typeof e=="number"?e>=0?e&Xv:ib:e}function Ny(n,e,t){let r=1<<n;return!!(t[e+(n>>e_)]&r)}function Py(n,e){return!(n&Y.Self)&&!(n&Y.Host&&e)}var Bn=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return i_(this._tNode,this._lView,e,xa(r),t)}};function ib(){return new Bn(xt(),ve())}function Io(n){return po(()=>{let e=n.prototype.constructor,t=e[sa]||td(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[sa]||td(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function td(n){return uv(n)?()=>{let e=td(ze(n));return e&&e()}:jr(n)}function ob(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[q]&2048&&!ma(s);){let c=o_(o,s,t,r|Y.Self,At);if(c!==At)return c;let u=o.parent;if(!u){let d=s[Cv];if(d){let f=d.get(t,At,r);if(f!==At)return f}u=s_(s),s=s[mo]}o=u}return i}function s_(n){let e=n[W],t=e.type;return t===2?e.declTNode:t===1?n[_t]:null}function xy(n,e=null,t=null,r){let i=sb(n,e,t,r);return i.resolveInjectorInitializers(),i}function sb(n,e=null,t=null,r,i=new Set){let o=[t||pt,cC(n)];return r=r||(typeof n=="object"?void 0:gt(n)),new so(o,e||Nd(),r||null,i)}var ct=class n{static THROW_IF_NOT_FOUND=Un;static NULL=new da;static create(e,t){if(Array.isArray(e))return xy({name:""},t,e,"");{let r=e.name??"";return xy({name:r},e.parent,e.providers,r)}}static \u0275prov=ue({token:n,providedIn:"any",factory:()=>re(yv)});static __NG_ELEMENT_ID__=-1};var ab=new z("");ab.__NG_ELEMENT_ID__=n=>{let e=xt();if(e===null)throw new H(204,!1);if(e.type&2)return e.value;if(n&Y.Optional)return null;throw new H(204,!1)};var a_=!1,Ha=(()=>{class n{static __NG_ELEMENT_ID__=cb;static __NG_ENV_ID__=t=>t}return n})(),nd=class extends Ha{_lView;constructor(e){super(),this._lView=e}onDestroy(e){return Ov(this._lView,e),()=>bC(this._lView,e)}};function cb(){return new nd(ve())}var qr=class{},c_=new z("",{providedIn:"root",factory:()=>!1});var u_=new z(""),l_=new z(""),Zr=(()=>{class n{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new Mr(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=ue({token:n,providedIn:"root",factory:()=>new n})}return n})(),qa=(()=>{class n{internalPendingTasks=j(Zr);scheduler=j(qr);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){return b(this,null,function*(){let r=this.add();try{return yield t()}finally{r()}})}static \u0275prov=ue({token:n,providedIn:"root",factory:()=>new n})}return n})(),rd=class extends mn{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,Dv()&&(this.destroyRef=j(Ha,{optional:!0})??void 0,this.pendingTasks=j(Zr,{optional:!0})??void 0)}emit(e){let t=X(null);try{super.next(e)}finally{X(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let c=super.subscribe({next:i,error:o,complete:s});return e instanceof Me&&e.add(c),c}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(t),r!==void 0&&this.pendingTasks?.remove(r)})}}},Je=rd;function wa(...n){}function d_(n){let e,t;function r(){n=wa;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function ky(n){return queueMicrotask(()=>n()),()=>{n=wa}}var Bd="isAngularZone",Ea=Bd+"_ID",ub=0,me=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Je(!1);onMicrotaskEmpty=new Je(!1);onStable=new Je(!1);onError=new Je(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=a_}=e;if(typeof Zone>"u")throw new H(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,hb(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Bd)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new H(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new H(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,lb,wa,wa);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},lb={};function $d(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function db(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){d_(()=>{n.callbackScheduled=!1,id(n),n.isCheckStableRunning=!0,$d(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),id(n)}function hb(n){let e=()=>{db(n)},t=ub++;n._inner=n._inner.fork({name:"angular",properties:{[Bd]:!0,[Ea]:t,[Ea+t]:!0},onInvokeTask:(r,i,o,s,c,u)=>{if(fb(u))return r.invokeTask(o,s,c,u);try{return Oy(n),r.invokeTask(o,s,c,u)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),Fy(n)}},onInvoke:(r,i,o,s,c,u,d)=>{try{return Oy(n),r.invoke(o,s,c,u,d)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!pb(u)&&e(),Fy(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,id(n),$d(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function id(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function Oy(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function Fy(n){n._nesting--,$d(n)}var od=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Je;onMicrotaskEmpty=new Je;onStable=new Je;onError=new Je;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function fb(n){return h_(n,"__ignore_ng_zone__")}function pb(n){return h_(n,"__scheduler_tick__")}function h_(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var Qt=class{_console=console;handleError(e){this._console.error("ERROR",e)}},gb=new z("",{providedIn:"root",factory:()=>{let n=j(me),e=j(Qt);return t=>n.runOutsideAngular(()=>e.handleError(t))}});function Vy(n,e){return cv(n,e)}function mb(n){return cv(av,n)}var f_=(Vy.required=mb,Vy);function yb(){return Hd(xt(),ve())}function Hd(n,e){return new Jr(Jt(n,e))}var Jr=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=yb}return n})();function p_(n){return(n.flags&128)===128}var g_=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(g_||{}),m_=new Map,vb=0;function _b(){return vb++}function Ib(n){m_.set(n[Fa],n)}function sd(n){m_.delete(n[Fa])}var Ly="__ngContext__";function wo(n,e){In(e)?(n[Ly]=e[Fa],Ib(e)):n[Ly]=e}function y_(n){return __(n[co])}function v_(n){return __(n[mt])}function __(n){for(;n!==null&&!Zt(n);)n=n[mt];return n}var ad;function I_(n){ad=n}function wb(){if(ad!==void 0)return ad;if(typeof document<"u")return document;throw new H(210,!1)}var qd=new z("",{providedIn:"root",factory:()=>Eb}),Eb="ng",zd=new z(""),Kn=new z("",{providedIn:"platform",factory:()=>"unknown"});var Gd=new z("",{providedIn:"root",factory:()=>wb().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var Db="h",Tb="b";var w_=!1,Cb=new z("",{providedIn:"root",factory:()=>w_});var E_=function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n}(E_||{}),za=new z(""),jy=new Set;function D_(n){jy.has(n)||(jy.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var bb=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=ue({token:n,providedIn:"root",factory:()=>new n})}return n})();var Sb=()=>null;function T_(n,e,t=!1){return Sb(n,e,t)}function C_(n,e){let t=n.contentQueries;if(t!==null){let r=X(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let c=n.data[s];Hv(o),c.contentQueries(2,e[s],s)}}}finally{X(r)}}}function cd(n,e,t){Hv(0);let r=X(null);try{e(n,t)}finally{X(r)}}function b_(n,e,t){if(Sv(e)){let r=X(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let c=n.data[s];if(c.contentQueries){let u=t[s];c.contentQueries(1,u,s)}}}finally{X(r)}}}var Pt=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Pt||{});var Da=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${sv})`}};function Ab(n){return n instanceof Da?n.changingThisBreaksApplicationSecurity:n}function Rb(n,e){let t=Mb(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${sv})`)}return t===e}function Mb(n){return n instanceof Da&&n.getTypeName()||null}var Nb=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Pb(n){return n=String(n),n.match(Nb)?n:"unsafe:"+n}var S_=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(S_||{});function A_(n){let e=xb();return e?e.sanitize(S_.URL,n)||"":Rb(n,"URL")?Ab(n):Pb(Sd(n))}function xb(){let n=ve();return n&&n[Kt].sanitizer}function kb(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}var R_="ng-template";function Ob(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&kb(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(Wd(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function Wd(n){return n.type===4&&n.value!==R_}function Fb(n,e,t){let r=n.type===4&&!t?R_:n.value;return e===r}function Vb(n,e,t){let r=4,i=n.attrs,o=i!==null?Ub(i):0,s=!1;for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="number"){if(!s&&!ft(r)&&!ft(u))return!1;if(s&&ft(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!Fb(n,u,t)||u===""&&e.length===1){if(ft(r))return!1;s=!0}}else if(r&8){if(i===null||!Ob(n,i,u,t)){if(ft(r))return!1;s=!0}}else{let d=e[++c],f=Lb(u,i,Wd(n),t);if(f===-1){if(ft(r))return!1;s=!0;continue}if(d!==""){let g;if(f>o?g="":g=i[f+1].toLowerCase(),r&2&&d!==g){if(ft(r))return!1;s=!0}}}}return ft(r)||s}function ft(n){return(n&1)===0}function Lb(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let c=e[++i];for(;typeof c=="string";)c=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return Bb(e,n)}function jb(n,e,t=!1){for(let r=0;r<e.length;r++)if(Vb(n,e[r],t))return!0;return!1}function Ub(n){for(let e=0;e<n.length;e++){let t=n[e];if(QC(t))return e}return n.length}function Bb(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function Uy(n,e){return n?":not("+e.trim()+")":e}function $b(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let c=n[++t];i+="["+s+(c.length>0?'="'+c+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!ft(s)&&(e+=Uy(o,i),i=""),r=s,o=o||!ft(r);t++}return i!==""&&(e+=Uy(o,i)),e}function Hb(n){return n.map($b).join(",")}function qb(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!ft(i))break;i=o}r++}return t.length&&e.push(1,...t),e}var Eo={};function zb(n,e){return n.createText(e)}function Gb(n,e,t){n.setValue(e,t)}function M_(n,e,t){return n.createElement(e,t)}function Ta(n,e,t,r,i){n.insertBefore(e,t,r,i)}function N_(n,e,t){n.appendChild(e,t)}function By(n,e,t,r,i){r!==null?Ta(n,e,t,r,i):N_(n,e,t)}function Wb(n,e,t){n.removeChild(null,e,t)}function Kb(n,e,t){n.setAttribute(e,"style",t)}function Qb(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function P_(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&KC(n,e,r),i!==null&&Qb(n,e,i),o!==null&&Kb(n,e,o)}function Kd(n,e,t,r,i,o,s,c,u,d,f){let g=vt+r,v=g+i,m=Yb(g,v),S=typeof d=="function"?d():d;return m[W]={type:n,blueprint:m,template:t,queries:null,viewQuery:c,declTNode:e,data:m.slice().fill(null,g),bindingStartIndex:g,expandoStartIndex:v,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:S,incompleteFirstPass:!1,ssrId:f}}function Yb(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:Eo);return t}function Zb(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=Kd(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function Qd(n,e,t,r,i,o,s,c,u,d,f){let g=e.blueprint.slice();return g[Yt]=i,g[q]=r|4|128|8|64|1024,(d!==null||n&&n[q]&2048)&&(g[q]|=2048),xv(g),g[We]=g[mo]=n,g[ke]=t,g[Kt]=s||n&&n[Kt],g[Ke]=c||n&&n[Ke],g[Br]=u||n&&n[Br]||null,g[_t]=o,g[Fa]=_b(),g[ao]=f,g[Cv]=d,g[yt]=e.type==2?n[yt]:g,g}function Jb(n,e,t){let r=Jt(e,n),i=Zb(t),o=n[Kt].rendererFactory,s=Yd(n,Qd(n,i,null,x_(t),r,e,null,o.createRenderer(r,t),null,null,null));return n[e.index]=s}function x_(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function k_(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function Yd(n,e){return n[co]?n[Cy][mt]=e:n[co]=e,n[Cy]=e,e}function kt(n=1){O_(Xt(),ve(),$a()+n,!1)}function O_(n,e,t,r){if(!r)if((e[q]&3)===3){let o=n.preOrderCheckHooks;o!==null&&na(e,o,t)}else{let o=n.preOrderHooks;o!==null&&ra(e,o,0,t)}zn(t)}var Ga=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(Ga||{});function ud(n,e,t,r){let i=X(null);try{let[o,s,c]=n.inputs[t],u=null;(s&Ga.SignalBased)!==0&&(u=e[o][Tr]),u!==null&&u.transformFn!==void 0?r=u.transformFn(r):c!==null&&(r=c.call(e,r)),n.setInput!==null?n.setInput(e,u,r,t,o):Av(e,u,o,r)}finally{X(i)}}function F_(n,e,t,r,i){let o=$a(),s=r&2;try{zn(-1),s&&e.length>vt&&O_(n,e,vt,!1),de(s?2:0,i),t(r,i)}finally{zn(o),de(s?3:1,i)}}function Zd(n,e,t){oS(n,e,t),(t.flags&64)===64&&sS(n,e,t)}function V_(n,e,t=Jt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],c=s===-1?t(e,n):n[s];n[i++]=c}}}function Xb(n,e,t,r){let o=r.get(Cb,w_)||t===Pt.ShadowDom,s=n.selectRootElement(e,o);return eS(s),s}function eS(n){tS(n)}var tS=()=>null;function nS(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function rS(n,e,t,r,i,o,s,c){if(!c&&Jd(e,n,t,r,i)){Qr(e)&&iS(t,e.index);return}if(e.type&3){let u=Jt(e,t);r=nS(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(u,r,i)}else e.type&12}function iS(n,e){let t=Nt(e,n);t[q]&16||(t[q]|=64)}function oS(n,e,t){let r=t.directiveStart,i=t.directiveEnd;Qr(t)&&Jb(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||_a(t,e);let o=t.initialInputs;for(let s=r;s<i;s++){let c=n.data[s],u=Ia(e,n,s,t);if(wo(u,e),o!==null&&cS(e,s-r,u,c,t,o),Rt(c)){let d=Nt(t.index,e);d[ke]=Ia(e,n,s,t)}}}function sS(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=jC();try{zn(o);for(let c=r;c<i;c++){let u=n.data[c],d=e[c];Jl(c),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&aS(u,d)}}finally{zn(-1),Jl(s)}}function aS(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function L_(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];jb(e,o.selectors,!1)&&(r??=[],Rt(o)?r.unshift(o):r.push(o))}return r}function cS(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let c=0;c<s.length;c+=2){let u=s[c],d=s[c+1];ud(r,t,u,d)}}function uS(n,e){let t=n[Br],r=t?t.get(Qt,null):null;r&&r.handleError(e)}function Jd(n,e,t,r,i){let o=n.inputs?.[r],s=n.hostDirectiveInputs?.[r],c=!1;if(s)for(let u=0;u<s.length;u+=2){let d=s[u],f=s[u+1],g=e.data[d];ud(g,t[d],f,i),c=!0}if(o)for(let u of o){let d=t[u],f=e.data[u];ud(f,d,r,i),c=!0}return c}function lS(n,e){let t=Nt(e,n),r=t[W];dS(r,t);let i=t[Yt];i!==null&&t[ao]===null&&(t[ao]=T_(i,t[Br])),de(18),Xd(r,t,t[ke]),de(19,t[ke])}function dS(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function Xd(n,e,t){Fd(e);try{let r=n.viewQuery;r!==null&&cd(1,r,t);let i=n.template;i!==null&&F_(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Hr]?.finishViewCreation(n),n.staticContentQueries&&C_(n,e),n.staticViewQueries&&cd(2,n.viewQuery,t);let o=n.components;o!==null&&hS(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[q]&=-5,Vd()}}function hS(n,e){for(let t=0;t<e.length;t++)lS(n,e[t])}function j_(n,e,t,r){let i=X(null);try{let o=e.tView,c=n[q]&4096?4096:16,u=Qd(n,o,t,c,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),d=n[e.index];u[$r]=d;let f=n[Hr];return f!==null&&(u[Hr]=f.createEmbeddedView(o)),Xd(o,u,t),u}finally{X(i)}}function Ca(n,e){return!e||e.firstChild===null||p_(n)}var fS;function eh(n,e){return fS(n,e)}var Xr=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Xr||{});function U_(n){return(n.flags&32)===32}function Vr(n,e,t,r,i){if(r!=null){let o,s=!1;Zt(r)?o=r:In(r)&&(s=!0,r=r[Yt]);let c=Mt(r);n===0&&t!==null?i==null?N_(e,t,c):Ta(e,t,c,i||null,!0):n===1&&t!==null?Ta(e,t,c,i||null,!0):n===2?Wb(e,c,s):n===3&&e.destroyNode(c),o!=null&&CS(e,n,o,t,i)}}function pS(n,e){B_(n,e),e[Yt]=null,e[_t]=null}function gS(n,e,t,r,i,o){r[Yt]=i,r[_t]=e,Ka(n,r,t,1,i,o)}function B_(n,e){e[Kt].changeDetectionScheduler?.notify(9),Ka(n,e,e[Ke],2,null,null)}function mS(n){let e=n[co];if(!e)return Fl(n[W],n);for(;e;){let t=null;if(In(e))t=e[co];else{let r=e[Ge];r&&(t=r)}if(!t){for(;e&&!e[mt]&&e!==n;)In(e)&&Fl(e[W],e),e=e[We];e===null&&(e=n),In(e)&&Fl(e[W],e),t=e&&e[mt]}e=t}}function th(n,e){let t=n[ga],r=t.indexOf(e);t.splice(r,1)}function Wa(n,e){if(yo(e))return;let t=e[Ke];t.destroyNode&&Ka(n,e,t,3,null,null),mS(e)}function Fl(n,e){if(yo(e))return;let t=X(null);try{e[q]&=-129,e[q]|=256,e[at]&&fl(e[at]),vS(n,e),yS(n,e),e[W].type===1&&e[Ke].destroy();let r=e[$r];if(r!==null&&Zt(e[We])){r!==e[We]&&th(r,e);let i=e[Hr];i!==null&&i.detachView(n)}sd(e)}finally{X(t)}}function yS(n,e){let t=n.cleanup,r=e[ha];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let c=t[s+3];c>=0?r[c]():r[-c].unsubscribe(),s+=2}else{let c=r[t[s+1]];t[s].call(c)}r!==null&&(e[ha]=null);let i=e[_n];if(i!==null){e[_n]=null;for(let s=0;s<i.length;s++){let c=i[s];c()}}let o=e[fa];if(o!==null){e[fa]=null;for(let s of o)s.destroy()}}function vS(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof Gn)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let c=i[o[s]],u=o[s+1];de(4,c,u);try{u.call(c)}finally{de(5,c,u)}}else{de(4,i,o);try{o.call(i)}finally{de(5,i,o)}}}}}function _S(n,e,t){return IS(n,e.parent,t)}function IS(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[Yt];if(Qr(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===Pt.None||i===Pt.Emulated)return null}return Jt(r,t)}function wS(n,e,t){return DS(n,e,t)}function ES(n,e,t){return n.type&40?Jt(n,t):null}var DS=ES,$y;function nh(n,e,t,r){let i=_S(n,r,e),o=e[Ke],s=r.parent||e[_t],c=wS(s,r,e);if(i!=null)if(Array.isArray(t))for(let u=0;u<t.length;u++)By(o,i,t[u],c,!1);else By(o,i,t,c,!1);$y!==void 0&&$y(o,r,e,t,i)}function ro(n,e){if(e!==null){let t=e.type;if(t&3)return Jt(e,n);if(t&4)return ld(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return ro(n,r);{let i=n[e.index];return Zt(i)?ld(-1,i):Mt(i)}}else{if(t&128)return ro(n,e.next);if(t&32)return eh(e,n)()||Mt(n[e.index]);{let r=$_(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=qn(n[yt]);return ro(i,r)}else return ro(n,e.next)}}}return null}function $_(n,e){if(e!==null){let r=n[yt][_t],i=e.projection;return r.projection[i]}return null}function ld(n,e){let t=Ge+n+1;if(t<e.length){let r=e[t],i=r[W].firstChild;if(i!==null)return ro(r,i)}return e[Hn]}function rh(n,e,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let c=r[t.index],u=t.type;if(s&&e===0&&(c&&wo(Mt(c),r),t.flags|=2),!U_(t))if(u&8)rh(n,e,t.child,r,i,o,!1),Vr(e,n,i,c,o);else if(u&32){let d=eh(t,r),f;for(;f=d();)Vr(e,n,i,f,o);Vr(e,n,i,c,o)}else u&16?TS(n,e,r,t,i,o):Vr(e,n,i,c,o);t=s?t.projectionNext:t.next}}function Ka(n,e,t,r,i,o){rh(t,r,n.firstChild,e,i,o,!1)}function TS(n,e,t,r,i,o){let s=t[yt],u=s[_t].projection[r.projection];if(Array.isArray(u))for(let d=0;d<u.length;d++){let f=u[d];Vr(e,n,i,f,o)}else{let d=u,f=s[We];p_(r)&&(d.flags|=128),rh(n,e,d,f,i,o,!0)}}function CS(n,e,t,r,i){let o=t[Hn],s=Mt(t);o!==s&&Vr(e,n,r,o,i);for(let c=Ge;c<t.length;c++){let u=t[c];Ka(u[W],u,n,e,r,o)}}function ba(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(Mt(o)),Zt(o)&&bS(o,r);let s=t.type;if(s&8)ba(n,e,t.child,r);else if(s&32){let c=eh(t,e),u;for(;u=c();)r.push(u)}else if(s&16){let c=$_(e,t);if(Array.isArray(c))r.push(...c);else{let u=qn(e[yt]);ba(u[W],u,c,r,!0)}}t=i?t.projectionNext:t.next}return r}function bS(n,e){for(let t=Ge;t<n.length;t++){let r=n[t],i=r[W].firstChild;i!==null&&ba(r[W],r,i,e)}n[Hn]!==n[Yt]&&e.push(n[Hn])}function H_(n){if(n[xl]!==null){for(let e of n[xl])e.impl.addSequence(e);n[xl].length=0}}var q_=[];function SS(n){return n[at]??AS(n)}function AS(n){let e=q_.pop()??Object.create(MS);return e.lView=n,e}function RS(n){n.lView[at]!==n&&(n.lView=null,q_.push(n))}var MS=Re(De({},Ms),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{ja(n.lView)},consumerOnSignalRead(){this.lView[at]=this}});function NS(n){let e=n[at]??Object.create(PS);return e.lView=n,e}var PS=Re(De({},Ms),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=qn(n.lView);for(;e&&!z_(e[W]);)e=qn(e);e&&kv(e)},consumerOnSignalRead(){this.lView[at]=this}});function z_(n){return n.type!==2}function G_(n){if(n[fa]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[fa])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[q]&8192)}}var xS=100;function W_(n,e=!0,t=0){let i=n[Kt].rendererFactory,o=!1;o||i.begin?.();try{kS(n,t)}catch(s){throw e&&uS(n,s),s}finally{o||i.end?.()}}function kS(n,e){let t=Bv();try{Sy(!0),dd(n,e);let r=0;for(;La(n);){if(r===xS)throw new H(103,!1);r++,dd(n,1)}}finally{Sy(t)}}function OS(n,e,t,r){if(yo(e))return;let i=e[q],o=!1,s=!1;Fd(e);let c=!0,u=null,d=null;o||(z_(n)?(d=SS(e),u=dl(d)):cl()===null?(c=!1,d=NS(e),u=dl(d)):e[at]&&(fl(e[at]),e[at]=null));try{xv(e),FC(n.bindingStartIndex),t!==null&&F_(n,e,t,2,r);let f=(i&3)===3;if(!o)if(f){let m=n.preOrderCheckHooks;m!==null&&na(e,m,null)}else{let m=n.preOrderHooks;m!==null&&ra(e,m,0,null),kl(e,0)}if(s||FS(e),G_(e),K_(e,0),n.contentQueries!==null&&C_(n,e),!o)if(f){let m=n.contentCheckHooks;m!==null&&na(e,m)}else{let m=n.contentHooks;m!==null&&ra(e,m,1),kl(e,1)}LS(n,e);let g=n.components;g!==null&&Y_(e,g,0);let v=n.viewQuery;if(v!==null&&cd(2,v,r),!o)if(f){let m=n.viewCheckHooks;m!==null&&na(e,m)}else{let m=n.viewHooks;m!==null&&ra(e,m,2),kl(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[Pl]){for(let m of e[Pl])m();e[Pl]=null}o||(H_(e),e[q]&=-73)}catch(f){throw o||ja(e),f}finally{d!==null&&(zm(d,u),c&&RS(d)),Vd()}}function K_(n,e){for(let t=y_(n);t!==null;t=v_(t))for(let r=Ge;r<t.length;r++){let i=t[r];Q_(i,e)}}function FS(n){for(let e=y_(n);e!==null;e=v_(e)){if(!(e[q]&2))continue;let t=e[ga];for(let r=0;r<t.length;r++){let i=t[r];kv(i)}}}function VS(n,e,t){de(18);let r=Nt(e,n);Q_(r,t),de(19,r[ke])}function Q_(n,e){kd(n)&&dd(n,e)}function dd(n,e){let r=n[W],i=n[q],o=n[at],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&hl(o)),s||=!1,o&&(o.dirty=!1),n[q]&=-9217,s)OS(r,n,r.template,n[ke]);else if(i&8192){G_(n),K_(n,1);let c=r.components;c!==null&&Y_(n,c,1),H_(n)}}function Y_(n,e,t){for(let r=0;r<e.length;r++)VS(n,e[r],t)}function LS(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)zn(~i);else{let o=i,s=t[++r],c=t[++r];LC(s,o);let u=e[o];de(24,u),c(2,u),de(25,u)}}}finally{zn(-1)}}function ih(n,e){let t=Bv()?64:1088;for(n[Kt].changeDetectionScheduler?.notify(e);n;){n[q]|=t;let r=qn(n);if(ma(n)&&!r)return n;n=r}return null}function Z_(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function jS(n,e){let t=Ge+e;if(t<n.length)return n[t]}function oh(n,e,t,r=!0){let i=e[W];if(BS(i,e,n,t),r){let s=ld(t,n),c=e[Ke],u=c.parentNode(n[Hn]);u!==null&&gS(i,n[_t],c,e,u,s)}let o=e[ao];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function US(n,e){let t=ho(n,e);return t!==void 0&&Wa(t[W],t),t}function ho(n,e){if(n.length<=Ge)return;let t=Ge+e,r=n[t];if(r){let i=r[$r];i!==null&&i!==n&&th(i,r),e>0&&(n[t-1][mt]=r[mt]);let o=ua(n,Ge+e);pS(r[W],r);let s=o[Hr];s!==null&&s.detachView(o[W]),r[We]=null,r[mt]=null,r[q]&=-129}return r}function BS(n,e,t,r){let i=Ge+r,o=t.length;r>0&&(t[i-1][mt]=e),r<o-Ge?(e[mt]=t[i],mv(t,Ge+r,e)):(t.push(e),e[mt]=null),e[We]=t;let s=e[$r];s!==null&&t!==s&&J_(s,e);let c=e[Hr];c!==null&&c.insertView(n),Yl(e),e[q]|=128}function J_(n,e){let t=n[ga],r=e[We];if(In(r))n[q]|=2;else{let i=r[We][yt];e[yt]!==i&&(n[q]|=2)}t===null?n[ga]=[e]:t.push(e)}var Sa=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let e=this._lView,t=e[W];return ba(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r}get context(){return this._lView[ke]}set context(e){this._lView[ke]=e}get destroyed(){return yo(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[We];if(Zt(e)){let t=e[pa],r=t?t.indexOf(this):-1;r>-1&&(ho(e,r),ua(t,r))}this._attachedToViewContainer=!1}Wa(this._lView[W],this._lView)}onDestroy(e){Ov(this._lView,e)}markForCheck(){ih(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[q]&=-129}reattach(){Yl(this._lView),this._lView[q]|=128}detectChanges(){this._lView[q]|=1024,W_(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new H(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=ma(this._lView),t=this._lView[$r];t!==null&&!e&&th(t,this._lView),B_(this._lView[W],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new H(902,!1);this._appRef=e;let t=ma(this._lView),r=this._lView[$r];r!==null&&!t&&J_(r,this._lView),Yl(this._lView)}};function sh(n,e,t,r,i){let o=n.data[e];if(o===null)o=$S(n,e,t,r,i),VC()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=xC();o.injectorIndex=s===null?-1:s.injectorIndex}return vo(o,!0),o}function $S(n,e,t,r,i){let o=jv(),s=Uv(),c=s?o:o&&o.parent,u=n.data[e]=qS(n,c,t,e,r,i);return HS(n,u,o,s),u}function HS(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function qS(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,c=0;return MC()&&(c|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var RL=new RegExp(`^(\\d+)*(${Tb}|${Db})*(.*)`);var zS=()=>null;function Aa(n,e){return zS(n,e)}var GS=class{},X_=class{},hd=class{resolveComponentFactory(e){throw Error(`No component factory found for ${gt(e)}.`)}},ah=class{static NULL=new hd},zr=class{},Do=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>WS()}return n})();function WS(){let n=ve(),e=xt(),t=Nt(e.index,n);return(In(t)?t:n)[Ke]}var KS=(()=>{class n{static \u0275prov=ue({token:n,providedIn:"root",factory:()=>null})}return n})();var Vl={},fd=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=xa(r);let i=this.injector.get(e,Vl,r);return i!==Vl||t===Vl?i:this.parentInjector.get(e,t,r)}};function Hy(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let c=e[s];if(typeof c=="number")o=c;else if(o==1)i=vy(i,c);else if(o==2){let u=c,d=e[++s];r=vy(r,u+": "+d+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function Qe(n,e=Y.Default){let t=ve();if(t===null)return re(n,e);let r=xt();return i_(r,t,ze(n),e)}function eI(n,e,t,r,i){let o=r===null?null:{"":-1},s=i(n,t);if(s!==null){let c,u=null,d=null,f=YS(s);f===null?c=s:[c,u,d]=f,XS(n,e,t,c,o,u,d)}o!==null&&r!==null&&QS(t,r,o)}function QS(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new H(-301,!1);r.push(e[i],o)}}function YS(n){let e=null,t=!1;for(let s=0;s<n.length;s++){let c=n[s];if(s===0&&Rt(c)&&(e=c),c.findHostDirectiveDefs!==null){t=!0;break}}if(!t)return null;let r=null,i=null,o=null;for(let s of n)s.findHostDirectiveDefs!==null&&(r??=[],i??=new Map,o??=new Map,ZS(s,r,o,i)),s===e&&(r??=[],r.push(s));return r!==null?(r.push(...e===null?n:n.slice(1)),[r,i,o]):null}function ZS(n,e,t,r){let i=e.length;n.findHostDirectiveDefs(n,e,r),t.set(n,[i,e.length-1])}function JS(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function XS(n,e,t,r,i,o,s){let c=r.length,u=!1;for(let v=0;v<c;v++){let m=r[v];!u&&Rt(m)&&(u=!0,JS(n,t,v)),ed(_a(t,e),n,m.type)}oA(t,n.data.length,c);for(let v=0;v<c;v++){let m=r[v];m.providersResolver&&m.providersResolver(m)}let d=!1,f=!1,g=k_(n,e,c,null);c>0&&(t.directiveToIndex=new Map);for(let v=0;v<c;v++){let m=r[v];if(t.mergedAttrs=lo(t.mergedAttrs,m.hostAttrs),tA(n,t,e,g,m),iA(g,m,i),s!==null&&s.has(m)){let[N,P]=s.get(m);t.directiveToIndex.set(m.type,[g,N+t.directiveStart,P+t.directiveStart])}else(o===null||!o.has(m))&&t.directiveToIndex.set(m.type,g);m.contentQueries!==null&&(t.flags|=4),(m.hostBindings!==null||m.hostAttrs!==null||m.hostVars!==0)&&(t.flags|=64);let S=m.type.prototype;!d&&(S.ngOnChanges||S.ngOnInit||S.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),d=!0),!f&&(S.ngOnChanges||S.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),f=!0),g++}eA(n,t,o)}function eA(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))qy(0,e,i,r),qy(1,e,i,r),Gy(e,r,!1);else{let o=t.get(i);zy(0,e,o,r),zy(1,e,o,r),Gy(e,r,!0)}}}function qy(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),tI(e,o)}}function zy(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],c;n===0?c=e.hostDirectiveInputs??={}:c=e.hostDirectiveOutputs??={},c[s]??=[],c[s].push(r,o),tI(e,s)}}function tI(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function Gy(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=n;if(r===null||!t&&i===null||t&&o===null||Wd(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,c=0;for(;c<r.length;){let u=r[c];if(u===0){c+=4;continue}else if(u===5){c+=2;continue}else if(typeof u=="number")break;if(!t&&i.hasOwnProperty(u)){let d=i[u];for(let f of d)if(f===e){s??=[],s.push(u,r[c+1]);break}}else if(t&&o.hasOwnProperty(u)){let d=o[u];for(let f=0;f<d.length;f+=2)if(d[f]===e){s??=[],s.push(d[f+1],r[c+1]);break}}c+=2}n.initialInputs??=[],n.initialInputs.push(s)}function tA(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=jr(i.type,!0)),s=new Gn(o,Rt(i),Qe);n.blueprint[r]=s,t[r]=s,nA(n,e,r,k_(n,t,i.hostVars,Eo),i)}function nA(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let c=~e.index;rA(s)!=c&&s.push(c),s.push(t,r,o)}}function rA(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function iA(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Rt(e)&&(t[""]=n)}}function oA(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function nI(n,e,t,r,i,o,s,c){let u=e.consts,d=uo(u,s),f=sh(e,n,2,r,d);return o&&eI(e,t,f,uo(u,c),i),f.mergedAttrs=lo(f.mergedAttrs,f.attrs),f.attrs!==null&&Hy(f,f.attrs,!1),f.mergedAttrs!==null&&Hy(f,f.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,f),f}function rI(n,e){Yv(n,e),Sv(e)&&n.queries.elementEnd(e)}var pd=class extends ah{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=oo(e);return new Ra(t,this.ngModule)}};function sA(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],o={propName:t,templateName:e,isSignal:(r&Ga.SignalBased)!==0};return i&&(o.transform=i),o})}function aA(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function cA(n,e,t){let r=e instanceof tt?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new fd(t,r):t}function uA(n){let e=n.get(zr,null);if(e===null)throw new H(407,!1);let t=n.get(KS,null),r=n.get(qr,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r}}function lA(n,e){let t=(n.selectors[0][0]||"div").toLowerCase();return M_(e,t,t==="svg"?Pv:t==="math"?EC:null)}var Ra=class extends X_{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=sA(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=aA(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=Hb(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i){de(22);let o=X(null);try{let s=this.componentDef,c=r?["ng-version","19.2.6"]:qb(this.componentDef.selectors[0]),u=Kd(0,null,null,1,0,null,null,null,null,[c],null),d=cA(s,i||this.ngModule,e),f=uA(d),g=f.rendererFactory.createRenderer(null,s),v=r?Xb(g,r,s.encapsulation,d):lA(s,g),m=Qd(null,u,null,512|x_(s),null,null,f,g,d,null,T_(v,d,!0));m[vt]=v,Fd(m);let S=null;try{let N=nI(vt,u,m,"#host",()=>[this.componentDef],!0,0);v&&(P_(g,v,N),wo(v,m)),Zd(u,m,N),b_(u,N,m),rI(u,N),t!==void 0&&dA(N,this.ngContentSelectors,t),S=Nt(N.index,m),m[ke]=S[ke],Xd(u,m,null)}catch(N){throw S!==null&&sd(S),sd(m),N}finally{de(23),Vd()}return new gd(this.componentType,m)}finally{X(o)}}},gd=class extends GS{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t){super(),this._rootLView=t,this._tNode=xd(t[W],vt),this.location=Hd(this._tNode,t),this.instance=Nt(this._tNode.index,t)[ke],this.hostView=this.changeDetectorRef=new Sa(t,void 0,!1),this.componentType=e}setInput(e,t){let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,o=Jd(r,i[W],i,e,t);this.previousInputValues.set(e,t);let s=Nt(r.index,i);ih(s,1)}get injector(){return new Bn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function dA(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var Qa=(()=>{class n{static __NG_ELEMENT_ID__=hA}return n})();function hA(){let n=xt();return pA(n,ve())}var fA=Qa,iI=class extends fA{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Hd(this._hostTNode,this._hostLView)}get injector(){return new Bn(this._hostTNode,this._hostLView)}get parentInjector(){let e=Ud(this._hostTNode,this._hostLView);if(Jv(e)){let t=va(e,this._hostLView),r=ya(e),i=t[W].data[r+8];return new Bn(i,t)}else return new Bn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=Wy(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-Ge}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Aa(this._lContainer,e.ssrId),c=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(c,i,Ca(this._hostTNode,s)),c}createComponent(e,t,r,i,o){let s=e&&!vC(e),c;if(s)c=t;else{let S=t||{};c=S.index,r=S.injector,i=S.projectableNodes,o=S.environmentInjector||S.ngModuleRef}let u=s?e:new Ra(oo(e)),d=r||this.parentInjector;if(!o&&u.ngModule==null){let N=(s?d:this.parentInjector).get(tt,null);N&&(o=N)}let f=oo(u.componentType??{}),g=Aa(this._lContainer,f?.id??null),v=g?.firstChild??null,m=u.create(d,i,v,o);return this.insertImpl(m.hostView,c,Ca(this._hostTNode,g)),m}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(CC(i)){let c=this.indexOf(e);if(c!==-1)this.detach(c);else{let u=i[We],d=new iI(u,u[_t],u[We]);d.detach(d.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return oh(s,i,o,r),e.attachToViewContainerRef(),mv(Ll(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=Wy(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=ho(this._lContainer,t);r&&(ua(Ll(this._lContainer),t),Wa(r[W],r))}detach(e){let t=this._adjustIndex(e,-1),r=ho(this._lContainer,t);return r&&ua(Ll(this._lContainer),t)!=null?new Sa(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function Wy(n){return n[pa]}function Ll(n){return n[pa]||(n[pa]=[])}function pA(n,e){let t,r=e[n.index];return Zt(r)?t=r:(t=Z_(r,e,null,n),e[n.index]=t,Yd(e,t)),mA(t,e,n,r),new iI(t,n,e)}function gA(n,e){let t=n[Ke],r=t.createComment(""),i=Jt(e,n),o=t.parentNode(i);return Ta(t,o,r,t.nextSibling(i),!1),r}var mA=_A,yA=()=>!1;function vA(n,e,t){return yA(n,e,t)}function _A(n,e,t,r){if(n[Hn])return;let i;t.type&8?i=Mt(r):i=gA(e,t),n[Hn]=i}var md=class{};var Ma=class extends md{injector;componentFactoryResolver=new pd(this);instance=null;constructor(e){super();let t=new so([...e.providers,{provide:md,useValue:this},{provide:ah,useValue:this.componentFactoryResolver}],e.parent||Nd(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function oI(n,e,t=null){return new Ma({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var IA=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=_v(!1,t.type),i=r.length>0?oI([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=ue({token:n,providedIn:"environment",factory:()=>new n(re(tt))})}return n})();function To(n){return po(()=>{let e=sI(n),t=Re(De({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===g_.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(IA).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Pt.Emulated,styles:n.styles||pt,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&D_("NgStandalone"),aI(t);let r=n.dependencies;return t.directiveDefs=Ky(r,!1),t.pipeDefs=Ky(r,!0),t.id=CA(t),t})}function wA(n){return oo(n)||sC(n)}function EA(n){return n!==null}function ei(n){return po(()=>({type:n.type,bootstrap:n.bootstrap||pt,declarations:n.declarations||pt,imports:n.imports||pt,exports:n.exports||pt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function DA(n,e){if(n==null)return $n;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,c,u;Array.isArray(i)?(c=i[0],o=i[1],s=i[2]??o,u=i[3]||null):(o=i,s=i,c=Ga.None,u=null),t[o]=[r,c,u],e[o]=s}return t}function TA(n){if(n==null)return $n;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function Ot(n){return po(()=>{let e=sI(n);return aI(e),e})}function sI(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||$n,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||pt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:DA(n.inputs,e),outputs:TA(n.outputs),debugInfo:null}}function aI(n){n.features?.forEach(e=>e(n))}function Ky(n,e){if(!n)return null;let t=e?aC:wA;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter(EA)}function CA(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function bA(n){return Object.getPrototypeOf(n.prototype).constructor}function Co(n){let e=bA(n.type),t=!0,r=[n];for(;e;){let i;if(Rt(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new H(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=jl(n.inputs),s.declaredInputs=jl(n.declaredInputs),s.outputs=jl(n.outputs);let c=i.hostBindings;c&&NA(n,c);let u=i.viewQuery,d=i.contentQueries;if(u&&RA(n,u),d&&MA(n,d),SA(n,i),H0(n.outputs,i.outputs),Rt(i)&&i.data.animation){let f=n.data;f.animation=(f.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let c=o[s];c&&c.ngInherit&&c(n),c===Co&&(t=!1)}}e=Object.getPrototypeOf(e)}AA(r)}function SA(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t])}}function AA(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=lo(i.hostAttrs,t=lo(t,i.hostAttrs))}}function jl(n){return n===$n?{}:n===pt?[]:n}function RA(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function MA(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function NA(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function cI(n,e,t){return n[e]=t}function uI(n,e){return n[e]}function Gr(n,e,t){let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function Qy(n,e,t,r){let i=Gr(n,e,t);return Gr(n,e+1,r)||i}function PA(n,e,t,r,i,o){let s=Qy(n,e,t,r);return Qy(n,e+2,i,o)||s}function xA(n,e,t,r,i,o,s,c,u){let d=e.consts,f=sh(e,n,4,s||null,c||null);Lv()&&eI(e,t,f,uo(d,u),L_),f.mergedAttrs=lo(f.mergedAttrs,f.attrs),Yv(e,f);let g=f.tView=Kd(2,f,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,d,null);return e.queries!==null&&(e.queries.template(e,f),g.queries=e.queries.embeddedTView(f)),f}function Yy(n,e,t,r,i,o,s,c,u,d){let f=t+vt,g=e.firstCreatePass?xA(f,e,n,r,i,o,s,c,u):e.data[f];vo(g,!1);let v=kA(e,n,g,t);Ld()&&nh(e,n,v,g),wo(v,n);let m=Z_(v,n,v,g);return n[f]=m,Yd(n,m),vA(m,g,n),Pd(g)&&Zd(e,n,g),u!=null&&V_(n,g,d),g}var kA=OA;function OA(n,e,t,r){return jd(!0),e[Ke].createComment("")}var lI=new z("");var FA=(()=>{class n{static \u0275prov=ue({token:n,providedIn:"root",factory:()=>new yd})}return n})(),yd=class{queuedEffectCount=0;queues=new Map;schedule(e){this.enqueue(e)}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),this.queuedEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,t]of this.queues)e===null?this.flushQueue(t):e.run(()=>this.flushQueue(t))}flushQueue(e){for(let t of e)e.delete(t),this.queuedEffectCount--,t.run()}};function Ya(n){return!!n&&typeof n.then=="function"}function VA(n){return!!n&&typeof n.subscribe=="function"}var LA=new z("");var dI=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=j(LA,{optional:!0})??[];injector=j(ct);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=Wn(this.injector,i);if(Ya(o))t.push(o);else if(VA(o)){let s=new Promise((c,u)=>{o.subscribe({complete:c,error:u})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),jA=new z("");function UA(){pl(()=>{throw new H(600,!1)})}function BA(n){return n.isBoundToModule}var $A=10;var fo=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=j(gb);afterRenderManager=j(bb);zonelessEnabled=j(c_);rootEffectScheduler=j(FA);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new mn;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=j(Zr).hasPendingTasks.pipe(jn(t=>!t));constructor(){j(za,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=j(tt);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=ct.NULL){de(10);let o=t instanceof X_;if(!this._injector.get(dI).done){let m="";throw new H(405,m)}let c;o?c=t:c=this._injector.get(ah).resolveComponentFactory(t),this.componentTypes.push(c.componentType);let u=BA(c)?void 0:this._injector.get(md),d=r||c.selector,f=c.create(i,[],d,u),g=f.location.nativeElement,v=f.injector.get(lI,null);return v?.registerApplication(g),f.onDestroy(()=>{this.detachView(f.hostView),ia(this.components,f),v?.unregisterApplication(g)}),this._loadComponent(f),de(11,f),f}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){de(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(E_.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new H(101,!1);let t=X(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,X(t),this.afterTick.next(),de(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(zr,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<$A;)de(14),this.synchronizeOnce(),de(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let t=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)HA(r,i,t,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>La(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;ia(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(jA,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>ia(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new H(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function ia(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function HA(n,e,t,r){if(!t&&!La(n))return;W_(n,e,t&&!r?0:1)}function qA(n,e,t,r){return Gr(n,Od(),t)?e+Sd(t)+r:Eo}function ch(n,e,t){let r=ve(),i=Od();if(Gr(r,i,e)){let o=Xt(),s=BC();rS(o,s,r,n,e,r[Ke],t,!1)}return ch}function Zy(n,e,t,r,i){Jd(e,n,t,i?"class":"style",r)}var vd=class{destroy(e){}updateValue(e,t){}swap(e,t){let r=Math.min(e,t),i=Math.max(e,t),o=this.detach(i);if(i-r>1){let s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(e,t){this.attach(t,this.detach(e))}};function Ul(n,e,t,r,i){return n===t&&Object.is(e,r)?1:Object.is(i(n,e),i(t,r))?-1:0}function zA(n,e,t){let r,i,o=0,s=n.length-1,c=void 0;if(Array.isArray(e)){let u=e.length-1;for(;o<=s&&o<=u;){let d=n.at(o),f=e[o],g=Ul(o,d,o,f,t);if(g!==0){g<0&&n.updateValue(o,f),o++;continue}let v=n.at(s),m=e[u],S=Ul(s,v,u,m,t);if(S!==0){S<0&&n.updateValue(s,m),s--,u--;continue}let N=t(o,d),P=t(s,v),F=t(o,f);if(Object.is(F,P)){let $=t(u,m);Object.is($,N)?(n.swap(o,s),n.updateValue(s,m),u--,s--):n.move(s,o),n.updateValue(o,f),o++;continue}if(r??=new Na,i??=Xy(n,o,s,t),_d(n,r,o,F))n.updateValue(o,f),o++,s++;else if(i.has(F))r.set(N,n.detach(o)),s--;else{let $=n.create(o,e[o]);n.attach(o,$),o++,s++}}for(;o<=u;)Jy(n,r,t,o,e[o]),o++}else if(e!=null){let u=e[Symbol.iterator](),d=u.next();for(;!d.done&&o<=s;){let f=n.at(o),g=d.value,v=Ul(o,f,o,g,t);if(v!==0)v<0&&n.updateValue(o,g),o++,d=u.next();else{r??=new Na,i??=Xy(n,o,s,t);let m=t(o,g);if(_d(n,r,o,m))n.updateValue(o,g),o++,s++,d=u.next();else if(!i.has(m))n.attach(o,n.create(o,g)),o++,s++,d=u.next();else{let S=t(o,f);r.set(S,n.detach(o)),s--}}}for(;!d.done;)Jy(n,r,t,n.length,d.value),d=u.next()}for(;o<=s;)n.destroy(n.detach(s--));r?.forEach(u=>{n.destroy(u)})}function _d(n,e,t,r){return e!==void 0&&e.has(r)?(n.attach(t,e.get(r)),e.delete(r),!0):!1}function Jy(n,e,t,r,i){if(_d(n,e,r,t(r,i)))n.updateValue(r,i);else{let o=n.create(r,i);n.attach(r,o)}}function Xy(n,e,t,r){let i=new Set;for(let o=e;o<=t;o++)i.add(r(o,n.at(o)));return i}var Na=class{kvMap=new Map;_vMap=void 0;has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let t=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(t)?(this.kvMap.set(e,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,t){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,t)}else this.kvMap.set(e,t)}forEach(e){for(let[t,r]of this.kvMap)if(e(r,t),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,t)}}};var Id=class{lContainer;$implicit;$index;constructor(e,t,r){this.lContainer=e,this.$implicit=t,this.$index=r}get $count(){return this.lContainer.length-Ge}};var wd=class{hasEmptyBlock;trackByFn;liveCollection;constructor(e,t,r){this.hasEmptyBlock=e,this.trackByFn=t,this.liveCollection=r}};function Za(n,e,t,r,i,o,s,c,u,d,f,g,v){D_("NgControlFlow");let m=ve(),S=Xt(),N=u!==void 0,P=ve(),F=c?s.bind(P[yt][ke]):s,$=new wd(N,F);P[vt+n]=$,Yy(m,S,n+1,e,t,r,i,uo(S.consts,o)),N&&Yy(m,S,n+2,u,d,f,g,uo(S.consts,v))}var Ed=class extends vd{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(e,t,r){super(),this.lContainer=e,this.hostLView=t,this.templateTNode=r}get length(){return this.lContainer.length-Ge}at(e){return this.getLView(e)[ke].$implicit}attach(e,t){let r=t[ao];this.needsIndexUpdate||=e!==this.length,oh(this.lContainer,t,e,Ca(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,GA(this.lContainer,e)}create(e,t){let r=Aa(this.lContainer,this.templateTNode.tView.ssrId),i=j_(this.hostLView,this.templateTNode,new Id(this.lContainer,t,e),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(e){Wa(e[W],e),this.operationsCounter?.recordDestroy()}updateValue(e,t){this.getLView(e)[ke].$implicit=t}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[ke].$index=e}getLView(e){return WA(this.lContainer,e)}};function Ja(n){let e=X(null),t=$a();try{let r=ve(),i=r[W],o=r[t],s=t+1,c=ev(r,s);if(o.liveCollection===void 0){let d=tv(i,s);o.liveCollection=new Ed(c,r,d)}else o.liveCollection.reset();let u=o.liveCollection;if(zA(u,n,o.trackByFn),u.updateIndexes(),o.hasEmptyBlock){let d=Od(),f=u.length===0;if(Gr(r,d,f)){let g=t+2,v=ev(r,g);if(f){let m=tv(i,g),S=Aa(v,m.tView.ssrId),N=j_(r,m,void 0,{dehydratedView:S});oh(v,N,0,Ca(m,S))}else US(v,0)}}}finally{X(e)}}function ev(n,e){return n[e]}function GA(n,e){return ho(n,e)}function WA(n,e){return jS(n,e)}function tv(n,e){return xd(n,e)}function ee(n,e,t,r){let i=ve(),o=Xt(),s=vt+n,c=i[Ke],u=o.firstCreatePass?nI(s,o,i,e,L_,Lv(),t,r):o.data[s],d=KA(o,i,u,c,e,n);i[s]=d;let f=Pd(u);return vo(u,!0),P_(c,d,u),!U_(u)&&Ld()&&nh(o,i,d,u),(SC()===0||f)&&wo(d,i),AC(),f&&(Zd(o,i,u),b_(o,u,i)),r!==null&&V_(i,u),ee}function ie(){let n=xt();Uv()?kC():(n=n.parent,vo(n,!1));let e=n;NC(e)&&PC(),RC();let t=Xt();return t.firstCreatePass&&rI(t,e),e.classesWithoutHost!=null&&GC(e)&&Zy(t,e,ve(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&WC(e)&&Zy(t,e,ve(),e.stylesWithoutHost,!1),ie}function Ye(n,e,t,r){return ee(n,e,t,r),ie(),Ye}var KA=(n,e,t,r,i,o)=>(jd(!0),M_(r,i,HC()));function hI(){return ve()}var Pa="en-US";var QA=Pa;function YA(n){typeof n=="string"&&(QA=n.toLowerCase().replace(/_/g,"-"))}function nv(n,e,t){return function r(i){if(i===Function)return t;let o=Qr(n)?Nt(n.index,e):e;ih(o,5);let s=e[ke],c=rv(e,s,t,i),u=r.__ngNextListenerFn__;for(;u;)c=rv(e,s,u,i)&&c,u=u.__ngNextListenerFn__;return c}}function rv(n,e,t,r){let i=X(null);try{return de(6,e,t),t(r)!==!1}catch(o){return ZA(n,o),!1}finally{de(7,e,t),X(i)}}function ZA(n,e){let t=n[Br],r=t?t.get(Qt,null):null;r&&r.handleError(e)}function iv(n,e,t,r,i,o){let s=e[t],c=e[W],d=c.data[t].outputs[r],f=s[d],g=c.firstCreatePass?Vv(c):null,v=Fv(e),m=f.subscribe(o),S=v.length;v.push(o,m),g&&g.push(i,n.index,S,-(S+1))}var JA=(n,e,t)=>{};function En(n,e,t,r){let i=ve(),o=Xt(),s=xt();return eR(o,i,i[Ke],s,n,e,r),En}function XA(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let c=e[ha],u=i[o+2];return c.length>u?c[u]:null}typeof s=="string"&&(o+=2)}return null}function eR(n,e,t,r,i,o,s){let c=Pd(r),d=n.firstCreatePass?Vv(n):null,f=Fv(e),g=!0;if(r.type&3||s){let v=Jt(r,e),m=s?s(v):v,S=f.length,N=s?F=>s(Mt(F[r.index])):r.index,P=null;if(!s&&c&&(P=XA(n,e,i,r.index)),P!==null){let F=P.__ngLastListenerFn__||P;F.__ngNextListenerFn__=o,P.__ngLastListenerFn__=o,g=!1}else{o=nv(r,e,o),JA(m,i,o);let F=t.listen(m,i,o);f.push(o,F),d&&d.push(i,N,S,S+1)}}else o=nv(r,e,o);if(g){let v=r.outputs?.[i],m=r.hostDirectiveOutputs?.[i];if(m&&m.length)for(let S=0;S<m.length;S+=2){let N=m[S],P=m[S+1];iv(r,e,N,P,i,o)}if(v&&v.length)for(let S of v)iv(r,e,S,i,i,o)}}function uh(n){let e=OC();return TC(e,vt+n)}function Ae(n,e=""){let t=ve(),r=Xt(),i=n+vt,o=r.firstCreatePass?sh(r,i,1,e,null):r.data[i],s=tR(r,t,o,e,n);t[i]=s,Ld()&&nh(r,t,s,o),vo(o,!1)}var tR=(n,e,t,r,i)=>(jd(!0),zb(e[Ke],r));function bo(n){return Dn("",n,""),bo}function Dn(n,e,t){let r=ve(),i=qA(r,n,e,t);return i!==Eo&&nR(r,$a(),i),Dn}function nR(n,e,t){let r=DC(e,n);Gb(n[Ke],r,t)}function rR(n,e,t){let r=Xt();if(r.firstCreatePass){let i=Rt(n);Dd(t,r.data,r.blueprint,i,!0),Dd(e,r.data,r.blueprint,i,!1)}}function Dd(n,e,t,r,i){if(n=ze(n),Array.isArray(n))for(let o=0;o<n.length;o++)Dd(n[o],e,t,r,i);else{let o=Xt(),s=ve(),c=xt(),u=Ur(n)?n:ze(n.provide),d=Ev(n),f=c.providerIndexes&1048575,g=c.directiveStart,v=c.providerIndexes>>20;if(Ur(n)||!n.multi){let m=new Gn(d,i,Qe),S=$l(u,e,i?f:f+v,g);S===-1?(ed(_a(c,s),o,u),Bl(o,n,e.length),e.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(m),s.push(m)):(t[S]=m,s[S]=m)}else{let m=$l(u,e,f+v,g),S=$l(u,e,f,f+v),N=m>=0&&t[m],P=S>=0&&t[S];if(i&&!P||!i&&!N){ed(_a(c,s),o,u);let F=sR(i?oR:iR,t.length,i,r,d);!i&&P&&(t[S].providerFactory=F),Bl(o,n,e.length,0),e.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(F),s.push(F)}else{let F=fI(t[i?S:m],d,!i&&r);Bl(o,n,m>-1?m:S,F)}!i&&r&&P&&t[S].componentProviders++}}}function Bl(n,e,t,r){let i=Ur(e),o=hC(e);if(i||o){let u=(o?ze(e.useClass):e).prototype.ngOnDestroy;if(u){let d=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let f=d.indexOf(t);f===-1?d.push(t,[r,u]):d[f+1].push(r,u)}else d.push(t,u)}}}function fI(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function $l(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function iR(n,e,t,r){return Td(this.multi,[])}function oR(n,e,t,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,c=Ia(t,t[W],this.providerFactory.index,r);o=c.slice(0,s),Td(i,o);for(let u=s;u<c.length;u++)o.push(c[u])}else o=[],Td(i,o);return o}function Td(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function sR(n,e,t,r,i){let o=new Gn(n,t,Qe);return o.multi=[],o.index=e,o.componentProviders=0,fI(o,i,r&&!t),o}function lh(n,e=[]){return t=>{t.providersResolver=(r,i)=>rR(r,i?i(n):n,e)}}function ti(n,e,t){let r=$v()+n,i=ve();return i[r]===Eo?cI(i,r,t?e.call(t):e()):uI(i,r)}function pI(n,e,t,r,i,o,s,c){let u=$v()+n,d=ve(),f=PA(d,u,t,r,i,o);return Gr(d,u+4,s)||f?cI(d,u+5,c?e.call(c,t,r,i,o,s):e(t,r,i,o,s)):uI(d,u+5)}var Wr=class{full;major;minor;patch;constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},gI=new Wr("19.2.6");var aR=(()=>{class n{zone=j(me);changeDetectionScheduler=j(qr);applicationRef=j(fo);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function cR({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new me(Re(De({},uR()),{scheduleInRootZone:t})),[{provide:me,useFactory:n},{provide:la,multi:!0,useFactory:()=>{let r=j(aR,{optional:!0});return()=>r.initialize()}},{provide:la,multi:!0,useFactory:()=>{let r=j(lR);return()=>{r.initialize()}}},e===!0?{provide:u_,useValue:!0}:[],{provide:l_,useValue:t??a_}]}function uR(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var lR=(()=>{class n{subscription=new Me;initialized=!1;zone=j(me);pendingTasks=j(Zr);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{me.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{me.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var dR=(()=>{class n{appRef=j(fo);taskService=j(Zr);ngZone=j(me);zonelessEnabled=j(c_);tracing=j(za,{optional:!0});disableScheduling=j(u_,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Me;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Ea):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(j(l_,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof od||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?ky:d_;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Ea+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,ky(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function hR(){return typeof $localize<"u"&&$localize.locale||Pa}var mI=new z("",{providedIn:"root",factory:()=>j(mI,Y.Optional|Y.SkipSelf)||hR()});var Cd=new z(""),fR=new z("");function to(n){return!n.moduleRef}function pR(n){let e=to(n)?n.r3Injector:n.moduleRef.injector,t=e.get(me);return t.run(()=>{to(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(Qt,null),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:o=>{r.handleError(o)}})}),to(n)){let o=()=>e.destroy(),s=n.platformInjector.get(Cd);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(Cd);s.add(o),n.moduleRef.onDestroy(()=>{ia(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return mR(r,t,()=>{let o=e.get(dI);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(mI,Pa);if(YA(s||Pa),!e.get(fR,!0))return to(n)?e.get(fo):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(to(n)){let u=e.get(fo);return n.rootComponent!==void 0&&u.bootstrap(n.rootComponent),u}else return gR(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function gR(n,e){let t=n.injector.get(fo);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new H(-403,!1);e.push(n)}function mR(n,e,t){try{let r=t();return Ya(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}var oa=null;function yR(n=[],e){return ct.create({name:e,providers:[{provide:Oa,useValue:"platform"},{provide:Cd,useValue:new Set([()=>oa=null])},...n]})}function vR(n=[]){if(oa)return oa;let e=yR(n);return oa=e,UA(),_R(e),e}function _R(n){let e=n.get(zd,null);Wn(n,()=>{e?.forEach(t=>t())})}function dh(){return!1}var Xa=(()=>{class n{static __NG_ELEMENT_ID__=IR}return n})();function IR(n){return wR(xt(),ve(),(n&16)===16)}function wR(n,e,t){if(Qr(n)&&!t){let r=Nt(n.index,e);return new Sa(r,r)}else if(n.type&175){let r=e[yt];return new Sa(r,e)}return null}function yI(n){de(8);try{let{rootComponent:e,appProviders:t,platformProviders:r}=n,i=vR(r),o=[cR({}),{provide:qr,useExisting:dR},...t||[]],s=new Ma({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return pR({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}finally{de(9)}}var ov=class{[Tr];constructor(e){this[Tr]=e}destroy(){this[Tr].destroy()}};var Ft=new z("");var vI=null;function Ao(){return vI}function hh(n){vI??=n}var So=class{};var ec=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=ei({type:n});static \u0275inj=Kr({})}return n})();function fh(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var ph="browser",_I="server";function tc(n){return n===_I}var Ro=class{};var ic=new z(""),vh=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new H(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(re(ic),re(me))};static \u0275prov=ue({token:n,factory:n.\u0275fac})}return n})(),Mo=class{_doc;constructor(e){this._doc=e}manager},nc="ng-app-id";function II(n){for(let e of n)e.remove()}function wI(n,e){let t=e.createElement("style");return t.textContent=n,t}function DR(n,e,t,r){let i=n.head?.querySelectorAll(`style[${nc}="${e}"],link[${nc}="${e}"]`);if(i)for(let o of i)o.removeAttribute(nc),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function mh(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var _h=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.isServer=tc(o),DR(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,wI);r?.forEach(i=>this.addUsage(i,this.external,mh))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(II(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])II(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,wI(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,mh(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(nc,this.appId),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(re(Ft),re(qd),re(Gd,8),re(Kn))};static \u0275prov=ue({token:n,factory:n.\u0275fac})}return n})(),gh={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Ih=/%COMP%/g;var DI="%COMP%",TR=`_nghost-${DI}`,CR=`_ngcontent-${DI}`,bR=!0,SR=new z("",{providedIn:"root",factory:()=>bR});function AR(n){return CR.replace(Ih,n)}function RR(n){return TR.replace(Ih,n)}function TI(n,e){return e.map(t=>t.replace(Ih,n))}var wh=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,o,s,c,u,d=null,f=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=c,this.ngZone=u,this.nonce=d,this.tracingService=f,this.platformIsServer=tc(c),this.defaultRenderer=new No(t,s,u,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Pt.ShadowDom&&(r=Re(De({},r),{encapsulation:Pt.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof rc?i.applyToHost(t):i instanceof Po&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,c=this.ngZone,u=this.eventManager,d=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,g=this.platformIsServer,v=this.tracingService;switch(r.encapsulation){case Pt.Emulated:o=new rc(u,d,r,this.appId,f,s,c,g,v);break;case Pt.ShadowDom:return new yh(u,d,t,r,s,c,this.nonce,g,v);default:o=new Po(u,d,r,f,s,c,g,v);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(re(vh),re(_h),re(qd),re(SR),re(Ft),re(Kn),re(me),re(Gd),re(za,8))};static \u0275prov=ue({token:n,factory:n.\u0275fac})}return n})(),No=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i,o){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(gh[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(EI(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(EI(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new H(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=gh[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=gh[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Xr.DashCase|Xr.Important)?e.style.setProperty(t,r,i&Xr.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Xr.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=Ao().getGlobalEventTarget(this.doc,e),!e))throw new H(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function EI(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var yh=class extends No{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,i,o,s,c,u,d){super(e,o,s,u,d),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let f=i.styles;f=TI(i.id,f);for(let v of f){let m=document.createElement("style");c&&m.setAttribute("nonce",c),m.textContent=v,this.shadowRoot.appendChild(m)}let g=i.getExternalStyles?.();if(g)for(let v of g){let m=mh(v,o);c&&m.setAttribute("nonce",c),this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Po=class extends No{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,o,s,c,u,d){super(e,o,s,c,u),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let f=r.styles;this.styles=d?TI(d,f):f,this.styleUrls=r.getExternalStyles?.(d)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},rc=class extends Po{contentAttr;hostAttr;constructor(e,t,r,i,o,s,c,u,d){let f=i+"-"+r.id;super(e,t,r,o,s,c,u,d,f),this.contentAttr=AR(f),this.hostAttr=RR(f)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var oc=class n extends So{supportsDOMEvents=!0;static makeCurrent(){hh(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=MR();return t==null?null:NR(t)}resetBaseElement(){xo=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return fh(document.cookie,e)}},xo=null;function MR(){return xo=xo||document.querySelector("base"),xo?xo.getAttribute("href"):null}function NR(n){return new URL(n,document.baseURI).pathname}var PR=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ue({token:n,factory:n.\u0275fac})}return n})(),bI=(()=>{class n extends Mo{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)(re(Ft))};static \u0275prov=ue({token:n,factory:n.\u0275fac})}return n})(),CI=["alt","control","meta","shift"],xR={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},kR={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},SI=(()=>{class n extends Mo{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=n.parseEventName(r),c=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ao().onAndCancel(t,s.domEventName,c,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",c=r.indexOf("code");if(c>-1&&(r.splice(c,1),s="code."),CI.forEach(d=>{let f=r.indexOf(d);f>-1&&(r.splice(f,1),s+=d+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(t,r){let i=xR[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),CI.forEach(s=>{if(s!==i){let c=kR[s];c(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(re(Ft))};static \u0275prov=ue({token:n,factory:n.\u0275fac})}return n})();function Eh(n,e){return yI(De({rootComponent:n},OR(e)))}function OR(n){return{appProviders:[...UR,...n?.providers??[]],platformProviders:jR}}function FR(){oc.makeCurrent()}function VR(){return new Qt}function LR(){return I_(document),document}var jR=[{provide:Kn,useValue:ph},{provide:zd,useValue:FR,multi:!0},{provide:Ft,useFactory:LR}];var UR=[{provide:Oa,useValue:"root"},{provide:Qt,useFactory:VR},{provide:ic,useClass:bI,multi:!0,deps:[Ft]},{provide:ic,useClass:SI,multi:!0,deps:[Ft]},wh,_h,vh,{provide:zr,useExisting:wh},{provide:Ro,useClass:PR},[]];var AI="primary",BR=Symbol("RouteTitle"),Dh=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Th(n){return new Dh(n)}function $R(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var sc=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return $R(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new cc(this.rootInjector)}},cc=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new sc(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(re(tt))};static \u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ac=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,o,s,c,u){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=c,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(jn(d=>d[BR]))??Ml(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(jn(e=>Th(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(jn(e=>Th(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};var RI=new z(""),bh=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=AI;activateEvents=new Je;deactivateEvents=new Je;attachEvents=new Je;detachEvents=new Je;routerOutletData=f_(void 0);parentContexts=j(cc);location=j(Qa);changeDetector=j(Xa);inputBinder=j(HR,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new H(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new H(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new H(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new H(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new Ch(t,c,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Ot({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Va]})}return n})(),Ch=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===ac?this.route:e===cc?this.childContexts:e===RI?this.outletData:this.parent.get(e,t)}},HR=new z("");var WR=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||n)(Qe(Do),Qe(Jr))};static \u0275dir=Ot({type:n})}return n})(),NI=(()=>{class n extends WR{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Io(n)))(i||n)}})();static \u0275dir=Ot({type:n,features:[Co]})}return n})(),PI=new z("");var KR={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},j3=Re(De({},KR),{"[class.ng-submitted]":"isSubmitted"});var QR=new z("",{providedIn:"root",factory:()=>xI}),xI="always";var YR={provide:PI,useExisting:go(()=>OI),multi:!0};function kI(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function ZR(n){return n.split(":")[0]}var OI=(()=>{class n extends NI{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let r=this._getOptionId(t),i=kI(r,t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){let r=ZR(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Io(n)))(i||n)}})();static \u0275dir=Ot({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&En("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[lh([YR]),Co]})}return n})(),FI=(()=>{class n{_element;_renderer;_select;id;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(kI(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||n)(Qe(Jr),Qe(Do),Qe(OI,9))};static \u0275dir=Ot({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})(),JR={provide:PI,useExisting:go(()=>VI),multi:!0};function MI(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function XR(n){return n.split(":")[0]}var VI=(()=>{class n extends NI{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let r;if(Array.isArray(t)){let i=t.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let c=0;c<s.length;c++){let u=s[c],d=this._getOptionValue(u.value);i.push(d)}}else{let s=r.options;for(let c=0;c<s.length;c++){let u=s[c];if(u.selected){let d=this._getOptionValue(u.value);i.push(d)}}}this.value=i,t(i)}}_registerOption(t){let r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){let r=XR(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Io(n)))(i||n)}})();static \u0275dir=Ot({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&En("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[lh([JR]),Co]})}return n})(),LI=(()=>{class n{_element;_renderer;_select;id;_value;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(MI(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(MI(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||n)(Qe(Jr),Qe(Do),Qe(VI,9))};static \u0275dir=Ot({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})();var e1=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=ei({type:n});static \u0275inj=Kr({})}return n})();var jI=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:QR,useValue:t.callSetDisabledState??xI}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=ei({type:n});static \u0275inj=Kr({imports:[e1]})}return n})();var UI=()=>{};var $I=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},n1=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],c=n[t++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},uc={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,c=s?n[i+1]:0,u=i+2<n.length,d=u?n[i+2]:0,f=o>>2,g=(o&3)<<4|c>>4,v=(c&15)<<2|d>>6,m=d&63;u||(m=64,s||(v=64)),r.push(t[f],t[g],t[v],t[m])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray($I(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):n1(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],c=i<n.length?t[n.charAt(i)]:0;++i;let d=i<n.length?t[n.charAt(i)]:64;++i;let g=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||c==null||d==null||g==null)throw new Ah;let v=o<<2|c>>4;if(r.push(v),d!==64){let m=c<<4&240|d>>2;if(r.push(m),g!==64){let S=d<<6&192|g;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},Ah=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},r1=function(n){let e=$I(n);return uc.encodeByteArray(e,!0)},ko=function(n){return r1(n).replace(/\./g,"")},lc=function(n){try{return uc.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function HI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var i1=()=>HI().__FIREBASE_DEFAULTS__,o1=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},s1=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&lc(n[1]);return e&&JSON.parse(e)},dc=()=>{try{return UI()||i1()||o1()||s1()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},qI=n=>{var e,t;return(t=(e=dc())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},zI=n=>{let e=qI(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},Mh=()=>{var n;return(n=dc())===null||n===void 0?void 0:n.config},GI=n=>{var e;return(e=dc())===null||e===void 0?void 0:e[`_${n}`]};var Qn=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function WI(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[ko(JSON.stringify(t)),ko(JSON.stringify(s)),""].join(".")}function nt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function KI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(nt())}function a1(){var n;let e=(n=dc())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function QI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function YI(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function ZI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function JI(){return!a1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Oo(){try{return typeof indexedDB=="object"}catch{return!1}}function XI(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var c1="FirebaseError",ut=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=c1,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,It.prototype.create)}},It=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?u1(o,r):"Error",c=`${this.serviceName}: ${s} (${i}).`;return new ut(i,c,r)}};function u1(n,e){return n.replace(l1,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var l1=/\{\$([^}]+)}/g;function Yn(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(BI(o)&&BI(s)){if(!Yn(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function BI(n){return n!==null&&typeof n=="object"}function Nh(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ew(n,e){let t=new Rh(n,e);return t.subscribe.bind(t)}var Rh=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");d1(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=Sh),i.error===void 0&&(i.error=Sh),i.complete===void 0&&(i.complete=Sh);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function d1(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Sh(){}var H3=4*60*60*1e3;function rt(n){return n&&n._delegate?n._delegate:n}var Ze=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Zn="[DEFAULT]";var Ph=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new Qn;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(f1(e))try{this.getOrInitializeService({instanceIdentifier:Zn})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Zn){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return b(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Zn){return this.instances.has(e)}getOptions(e=Zn){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(o);r===c&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:h1(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Zn){return this.component?this.component.multipleInstances?e:Zn:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function h1(n){return n===Zn?void 0:n}function f1(n){return n.instantiationMode==="EAGER"}var hc=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new Ph(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var p1=[],K=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(K||{}),g1={debug:K.DEBUG,verbose:K.VERBOSE,info:K.INFO,warn:K.WARN,error:K.ERROR,silent:K.SILENT},m1=K.INFO,y1={[K.DEBUG]:"log",[K.VERBOSE]:"log",[K.INFO]:"info",[K.WARN]:"warn",[K.ERROR]:"error"},v1=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=y1[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Vt=class{constructor(e){this.name=e,this._logLevel=m1,this._logHandler=v1,this._userLogHandler=null,p1.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in K))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?g1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,K.DEBUG,...e),this._logHandler(this,K.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,K.VERBOSE,...e),this._logHandler(this,K.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,K.INFO,...e),this._logHandler(this,K.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,K.WARN,...e),this._logHandler(this,K.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,K.ERROR,...e),this._logHandler(this,K.ERROR,...e)}};var _1=(n,e)=>e.some(t=>n instanceof t),tw,nw;function I1(){return tw||(tw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function w1(){return nw||(nw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var rw=new WeakMap,kh=new WeakMap,iw=new WeakMap,xh=new WeakMap,Fh=new WeakMap;function E1(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(Lt(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&rw.set(t,n)}).catch(()=>{}),Fh.set(e,n),e}function D1(n){if(kh.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});kh.set(n,e)}var Oh={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return kh.get(n);if(e==="objectStoreNames")return n.objectStoreNames||iw.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Lt(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function ow(n){Oh=n(Oh)}function T1(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(fc(this),e,...t);return iw.set(r,e.sort?e.sort():[e]),Lt(r)}:w1().includes(n)?function(...e){return n.apply(fc(this),e),Lt(rw.get(this))}:function(...e){return Lt(n.apply(fc(this),e))}}function C1(n){return typeof n=="function"?T1(n):(n instanceof IDBTransaction&&D1(n),_1(n,I1())?new Proxy(n,Oh):n)}function Lt(n){if(n instanceof IDBRequest)return E1(n);if(xh.has(n))return xh.get(n);let e=C1(n);return e!==n&&(xh.set(n,e),Fh.set(e,n)),e}var fc=n=>Fh.get(n);function aw(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),c=Lt(s);return r&&s.addEventListener("upgradeneeded",u=>{r(Lt(s.result),u.oldVersion,u.newVersion,Lt(s.transaction),u)}),t&&s.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),c.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}var b1=["get","getKey","getAll","getAllKeys","count"],S1=["put","add","delete","clear"],Vh=new Map;function sw(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Vh.get(e))return Vh.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=S1.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||b1.includes(t)))return;let o=function(s,...c){return b(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),d=u.store;return r&&(d=d.index(c.shift())),(yield Promise.all([d[t](...c),i&&u.done]))[0]})};return Vh.set(e,o),o}ow(n=>Re(De({},n),{get:(e,t,r)=>sw(e,t)||n.get(e,t,r),has:(e,t)=>!!sw(e,t)||n.has(e,t)}));var jh=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(A1(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function A1(n){let e=n.getComponent();return e?.type==="VERSION"}var Uh="@firebase/app",cw="0.11.4";var tn=new Vt("@firebase/app"),R1="@firebase/app-compat",M1="@firebase/analytics-compat",N1="@firebase/analytics",P1="@firebase/app-check-compat",x1="@firebase/app-check",k1="@firebase/auth",O1="@firebase/auth-compat",F1="@firebase/database",V1="@firebase/data-connect",L1="@firebase/database-compat",j1="@firebase/functions",U1="@firebase/functions-compat",B1="@firebase/installations",$1="@firebase/installations-compat",H1="@firebase/messaging",q1="@firebase/messaging-compat",z1="@firebase/performance",G1="@firebase/performance-compat",W1="@firebase/remote-config",K1="@firebase/remote-config-compat",Q1="@firebase/storage",Y1="@firebase/storage-compat",Z1="@firebase/firestore",J1="@firebase/vertexai",X1="@firebase/firestore-compat",eM="firebase",tM="11.6.0";var Bh="[DEFAULT]",nM={[Uh]:"fire-core",[R1]:"fire-core-compat",[N1]:"fire-analytics",[M1]:"fire-analytics-compat",[x1]:"fire-app-check",[P1]:"fire-app-check-compat",[k1]:"fire-auth",[O1]:"fire-auth-compat",[F1]:"fire-rtdb",[V1]:"fire-data-connect",[L1]:"fire-rtdb-compat",[j1]:"fire-fn",[U1]:"fire-fn-compat",[B1]:"fire-iid",[$1]:"fire-iid-compat",[H1]:"fire-fcm",[q1]:"fire-fcm-compat",[z1]:"fire-perf",[G1]:"fire-perf-compat",[W1]:"fire-rc",[K1]:"fire-rc-compat",[Q1]:"fire-gcs",[Y1]:"fire-gcs-compat",[Z1]:"fire-fst",[X1]:"fire-fst-compat",[J1]:"fire-vertex","fire-js":"fire-js",[eM]:"fire-js-all"};var Fo=new Map,rM=new Map,$h=new Map;function uw(n,e){try{n.container.addComponent(e)}catch(t){tn.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function wt(n){let e=n.name;if($h.has(e))return tn.debug(`There were multiple attempts to register component ${e}.`),!1;$h.set(e,n);for(let t of Fo.values())uw(t,n);for(let t of rM.values())uw(t,n);return!0}function pc(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function nn(n){return n==null?!1:n.settings!==void 0}var iM={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Tn=new It("app","Firebase",iM);var Hh=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ze("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Tn.create("app-deleted",{appName:this._name})}};var ni=tM;function Gh(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Bh,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Tn.create("bad-app-name",{appName:String(i)});if(t||(t=Mh()),!t)throw Tn.create("no-options");let o=Fo.get(i);if(o){if(Yn(t,o.options)&&Yn(r,o.config))return o;throw Tn.create("duplicate-app",{appName:i})}let s=new hc(i);for(let u of $h.values())s.addComponent(u);let c=new Hh(t,r,s);return Fo.set(i,c),c}function ri(n=Bh){let e=Fo.get(n);if(!e&&n===Bh&&Mh())return Gh();if(!e)throw Tn.create("no-app",{appName:n});return e}function gc(){return Array.from(Fo.values())}function Ee(n,e,t){var r;let i=(r=nM[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let c=[`Unable to register library "${i}" with version "${e}":`];o&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&c.push("and"),s&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),tn.warn(c.join(" "));return}wt(new Ze(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var oM="firebase-heartbeat-database",sM=1,Vo="firebase-heartbeat-store",Lh=null;function fw(){return Lh||(Lh=aw(oM,sM,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Vo)}catch(t){console.warn(t)}}}}).catch(n=>{throw Tn.create("idb-open",{originalErrorMessage:n.message})})),Lh}function aM(n){return b(this,null,function*(){try{let t=(yield fw()).transaction(Vo),r=yield t.objectStore(Vo).get(pw(n));return yield t.done,r}catch(e){if(e instanceof ut)tn.warn(e.message);else{let t=Tn.create("idb-get",{originalErrorMessage:e?.message});tn.warn(t.message)}}})}function lw(n,e){return b(this,null,function*(){try{let r=(yield fw()).transaction(Vo,"readwrite");yield r.objectStore(Vo).put(e,pw(n)),yield r.done}catch(t){if(t instanceof ut)tn.warn(t.message);else{let r=Tn.create("idb-set",{originalErrorMessage:t?.message});tn.warn(r.message)}}})}function pw(n){return`${n.name}!${n.options.appId}`}var cM=1024,uM=30,qh=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new zh(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return b(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=dw();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>uM){let s=dM(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){tn.warn(r)}})}getHeartbeatsHeader(){return b(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=dw(),{heartbeatsToSend:r,unsentEntries:i}=lM(this._heartbeatsCache.heartbeats),o=ko(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return tn.warn(t),""}})}};function dw(){return new Date().toISOString().substring(0,10)}function lM(n,e=cM){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),hw(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),hw(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var zh=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return b(this,null,function*(){return Oo()?XI().then(()=>!0).catch(()=>!1):!1})}read(){return b(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield aM(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return b(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return lw(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return b(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return lw(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function hw(n){return ko(JSON.stringify({version:2,heartbeats:n})).length}function dM(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function hM(n){wt(new Ze("platform-logger",e=>new jh(e),"PRIVATE")),wt(new Ze("heartbeat",e=>new qh(e),"PRIVATE")),Ee(Uh,cw,n),Ee(Uh,cw,"esm2017"),Ee("fire-js","")}hM("");var fM="firebase",pM="11.6.0";Ee(fM,pM,"app");function Wh(n){n===void 0&&(Tv(Wh),n=j(ct));let e=n.get(qa);return t=>new pe(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let c=t.subscribe({next:u=>{r.next(u),s()},complete:()=>{r.complete(),s()},error:u=>{r.error(u),s()}});return c.add(()=>{r.unsubscribe(),s()}),c})}var Xn=new Wr("ANGULARFIRE2_VERSION");function yc(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var oi=(n,e)=>{let t=e?[e]:gc(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},ii=function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n}(ii||{}),gw=dh()&&typeof Zone<"u"?ii.WARN:ii.SILENT;var mc=class{zone;delegate;constructor(e,t=Sl){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,t,r)}},er=(()=>{class n{outsideAngular;insideAngular;constructor(){let t=j(me);this.outsideAngular=t.runOutsideAngular(()=>new mc(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=t.run(()=>new mc(typeof Zone>"u"?void 0:Zone.current,bl))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),mw=!1;function gM(n,e){!mw&&(gw>ii.SILENT||dh())&&(mw=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),gw>=e&&console.warn(`Firebase API called outside injection context: ${n.name}`)}function mM(n){let e=j(me,{optional:!0});return e?e.runOutsideAngular(()=>n()):n()}function Jn(n){let e=j(me,{optional:!0});return e?e.run(()=>n()):n()}var yM=(n,e,t)=>(...r)=>(e&&setTimeout(e,0),Wn(t,()=>Jn(()=>n.apply(void 0,r)))),it=(n,e,t)=>(t||=e?ii.WARN:ii.VERBOSE,function(){let r,i=arguments,o,s,c;try{o=j(er),s=j(qa),c=j(tt)}catch{return gM(n,t),n.apply(this,i)}for(let d=0;d<arguments.length;d++)typeof i[d]=="function"&&(e&&(r||=Jn(()=>s.add())),i[d]=yM(i[d],r,c));let u=mM(()=>n.apply(this,i));return e?u instanceof pe?u.pipe(vn(o.outsideAngular),yn(o.insideAngular),Wh(c)):u instanceof Promise?Jn(()=>new Promise((d,f)=>{s.run(()=>u).then(g=>Wn(c,()=>Jn(()=>d(g))),g=>Wn(c,()=>Jn(()=>f(g))))})):typeof u=="function"&&r?function(){return setTimeout(r,0),u.apply(this,arguments)}:Jn(()=>u):u instanceof pe?u.pipe(vn(o.outsideAngular),yn(o.insideAngular)):Jn(()=>u)});var tr=class{constructor(e){return e}},Lo=class{constructor(){return gc()}};function vM(n){return n&&n.length===1?n[0]:new tr(ri())}var Kh=new z("angularfire2._apps"),_M={provide:tr,useFactory:vM,deps:[[new wn,Kh]]},IM={provide:Lo,deps:[[new wn,Kh]]};function wM(n){return(e,t)=>{let r=t.get(Kn);Ee("angularfire",Xn.full,"core"),Ee("angularfire",Xn.full,"app"),Ee("angular",gI.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new tr(i)}}function yw(n,...e){return ka([_M,IM,{provide:Kh,useFactory:wM(n),multi:!0,deps:[me,ct,er,...e]}])}var vw=it(Gh,!0);var EM=new Map,DM={activated:!1,tokenObservers:[]},TM={initialized:!1,enabled:!1};function Et(n){return EM.get(n)||Object.assign({},DM)}function Ew(){return TM}var CM="https://content-firebaseappcheck.googleapis.com/v1";var bM="exchangeDebugToken",_w={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},KB=24*60*60*1e3;var Zh=class{constructor(e,t,r,i,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return b(this,null,function*(){this.stop();try{this.pending=new Qn,this.pending.promise.catch(t=>{}),yield SM(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new Qn,this.pending.promise.catch(t=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function SM(n){return new Promise(e=>{setTimeout(e,n)})}var AM={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},Cn=new It("appCheck","AppCheck",AM);function Dw(n){if(!Et(n).activated)throw Cn.create("use-before-activation",{appName:n.name})}function Tw(r,i){return b(this,arguments,function*({url:n,body:e},t){let o={"Content-Type":"application/json"},s=t.getImmediate({optional:!0});if(s){let m=yield s.getHeartbeatsHeader();m&&(o["X-Firebase-Client"]=m)}let c={method:"POST",body:JSON.stringify(e),headers:o},u;try{u=yield fetch(n,c)}catch(m){throw Cn.create("fetch-network-error",{originalErrorMessage:m?.message})}if(u.status!==200)throw Cn.create("fetch-status-error",{httpStatus:u.status});let d;try{d=yield u.json()}catch(m){throw Cn.create("fetch-parse-error",{originalErrorMessage:m?.message})}let f=d.ttl.match(/^([\d.]+)(s)$/);if(!f||!f[2]||isNaN(Number(f[1])))throw Cn.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${d.ttl}`});let g=Number(f[1])*1e3,v=Date.now();return{token:d.token,expireTimeMillis:v+g,issuedAtTimeMillis:v}})}function Cw(n,e){let{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${CM}/projects/${t}/apps/${r}:${bM}?key=${i}`,body:{debug_token:e}}}var RM="firebase-app-check-database",MM=1,Jh="firebase-app-check-store";var vc=null;function NM(){return vc||(vc=new Promise((n,e)=>{try{let t=indexedDB.open(RM,MM);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Cn.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},t.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(Jh,{keyPath:"compositeKey"})}}}catch(t){e(Cn.create("storage-open",{originalErrorMessage:t?.message}))}}),vc)}function PM(n,e){return xM(kM(n),e)}function xM(n,e){return b(this,null,function*(){let r=(yield NM()).transaction(Jh,"readwrite"),o=r.objectStore(Jh).put({compositeKey:n,value:e});return new Promise((s,c)=>{o.onsuccess=u=>{s()},r.onerror=u=>{var d;c(Cn.create("storage-set",{originalErrorMessage:(d=u.target.error)===null||d===void 0?void 0:d.message}))}})})}function kM(n){return`${n.options.appId}-${n.name}`}var jo=new Vt("@firebase/app-check");function Qh(n,e){return Oo()?PM(n,e).catch(t=>{jo.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function bw(){return Ew().enabled}function Sw(){return b(this,null,function*(){let n=Ew();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var OM={error:"UNKNOWN_ERROR"};function FM(n){return uc.encodeString(JSON.stringify(n),!1)}function Xh(n,e=!1,t=!1){return b(this,null,function*(){let r=n.app;Dw(r);let i=Et(r),o=i.token,s;if(o&&!Uo(o)&&(i.token=void 0,o=void 0),!o){let d=yield i.cachedTokenPromise;d&&(Uo(d)?o=d:yield Qh(r,void 0))}if(!e&&o&&Uo(o))return{token:o.token};let c=!1;if(bw())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=Tw(Cw(r,yield Sw()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),c=!0);let d=yield i.exchangeTokenPromise;return yield Qh(r,d),i.token=d,{token:d.token}}catch(d){return d.code==="appCheck/throttled"||d.code==="appCheck/initial-throttle"?jo.warn(d.message):t&&jo.error(d),Yh(d)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),c=!0),o=yield Et(r).exchangeTokenPromise}catch(d){d.code==="appCheck/throttled"||d.code==="appCheck/initial-throttle"?jo.warn(d.message):t&&jo.error(d),s=d}let u;return o?s?Uo(o)?u={token:o.token,internalError:s}:u=Yh(s):(u={token:o.token},i.token=o,yield Qh(r,o)):u=Yh(s),c&&UM(r,u),u})}function VM(n){return b(this,null,function*(){let e=n.app;Dw(e);let{provider:t}=Et(e);if(bw()){let r=yield Sw(),{token:i}=yield Tw(Cw(e,r),n.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield t.getToken();return{token:r}}})}function LM(n,e,t,r){let{app:i}=n,o=Et(i),s={next:t,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&Uo(o.token)){let c=o.token;Promise.resolve().then(()=>{t({token:c.token}),Iw(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>Iw(n))}function Aw(n,e){let t=Et(n),r=t.tokenObservers.filter(i=>i.next!==e);r.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function Iw(n){let{app:e}=n,t=Et(e),r=t.tokenRefresher;r||(r=jM(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function jM(n){let{app:e}=n;return new Zh(()=>b(this,null,function*(){let t=Et(e),r;if(t.token?r=yield Xh(n,!0):r=yield Xh(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let t=Et(e);if(t.token){let r=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,i=t.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},_w.RETRIAL_MIN_WAIT,_w.RETRIAL_MAX_WAIT)}function UM(n,e){let t=Et(n).tokenObservers;for(let r of t)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function Uo(n){return n.expireTimeMillis-Date.now()>0}function Yh(n){return{token:FM(OM),error:n}}var ef=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=Et(this.app);for(let t of e)Aw(this.app,t.next);return Promise.resolve()}};function BM(n,e){return new ef(n,e)}function $M(n){return{getToken:e=>Xh(n,e),getLimitedUseToken:()=>VM(n),addTokenListener:e=>LM(n,"INTERNAL",e),removeTokenListener:e=>Aw(n.app,e)}}var HM="@firebase/app-check",qM="0.8.13";var zM="app-check",ww="app-check-internal";function GM(){wt(new Ze(zM,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return BM(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(ww).initialize()})),wt(new Ze(ww,n=>{let e=n.getProvider("app-check").getImmediate();return $M(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Ee(HM,qM)}GM();var WM="app-check";var _c=class{constructor(){return oi(WM)}};var KM=["localhost","0.0.0.0","127.0.0.1"],a4=typeof window<"u"&&KM.includes(window.location.hostname);function Fw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var Vw=Fw,Lw=new It("auth","Firebase",Fw());var Dc=new Vt("@firebase/auth");function YM(n,...e){Dc.logLevel<=K.WARN&&Dc.warn(`Auth (${ni}): ${n}`,...e)}function wc(n,...e){Dc.logLevel<=K.ERROR&&Dc.error(`Auth (${ni}): ${n}`,...e)}function Rw(n,...e){throw ff(n,...e)}function hf(n,...e){return ff(n,...e)}function jw(n,e,t){let r=Object.assign(Object.assign({},Vw()),{[e]:t});return new It("auth","Firebase",r).create(e,{appName:n.name})}function Ec(n){return jw(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ff(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return Lw.create(n,...e)}function oe(n,e,...t){if(!n)throw ff(e,...t)}function Bo(n){let e="INTERNAL ASSERTION FAILED: "+n;throw wc(e),new Error(e)}function Tc(n,e){n||Bo(e)}function ZM(){return Mw()==="http:"||Mw()==="https:"}function Mw(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function JM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ZM()||YI()||"connection"in navigator)?navigator.onLine:!0}function XM(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var ir=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,Tc(t>e,"Short delay should be less than long delay!"),this.isMobile=KI()||ZI()}get(){return JM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function eN(n,e){Tc(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var Cc=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Bo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Bo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Bo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var tN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var nN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],rN=new ir(3e4,6e4);function Uw(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Mc(o,s,c,u){return b(this,arguments,function*(n,e,t,r,i={}){return Bw(n,i,()=>b(this,null,function*(){let d={},f={};r&&(e==="GET"?f=r:d={body:JSON.stringify(r)});let g=Nh(Object.assign({key:n.config.apiKey},f)).slice(1),v=yield n._getAdditionalHeaders();v["Content-Type"]="application/json",n.languageCode&&(v["X-Firebase-Locale"]=n.languageCode);let m=Object.assign({method:e,headers:v},d);return QI()||(m.referrerPolicy="no-referrer"),Cc.fetch()(yield $w(n,n.config.apiHost,t,g),m)}))})}function Bw(n,e,t){return b(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},tN),e);try{let i=new rf(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Ic(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let c=o.ok?s.errorMessage:s.error.message,[u,d]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ic(n,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw Ic(n,"email-already-in-use",s);if(u==="USER_DISABLED")throw Ic(n,"user-disabled",s);let f=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw jw(n,f,d);Rw(n,f)}}catch(i){if(i instanceof ut)throw i;Rw(n,"network-request-failed",{message:String(i)})}})}function $w(n,e,t,r){return b(this,null,function*(){let i=`${e}${t}?${r}`,o=n,s=o.config.emulator?eN(n.config,i):`${n.config.apiScheme}://${i}`;return nN.includes(t)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}var rf=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(hf(this.auth,"network-request-failed")),rN.get())})}};function Ic(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=hf(n,e,r);return i.customData._tokenResponse=t,i}function iN(n,e){return b(this,null,function*(){return Mc(n,"POST","/v1/accounts:delete",e)})}function bc(n,e){return b(this,null,function*(){return Mc(n,"POST","/v1/accounts:lookup",e)})}function $o(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function pf(n,e=!1){return b(this,null,function*(){let t=rt(n),r=yield t.getIdToken(e),i=Hw(r);oe(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:$o(tf(i.auth_time)),issuedAtTime:$o(tf(i.iat)),expirationTime:$o(tf(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function tf(n){return Number(n)*1e3}function Hw(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return wc("JWT malformed, contained fewer than 3 sections"),null;try{let i=lc(t);return i?JSON.parse(i):(wc("Failed to decode base64 JWT payload"),null)}catch(i){return wc("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Nw(n){let e=Hw(n);return oe(e,"internal-error"),oe(typeof e.exp<"u","internal-error"),oe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function of(n,e,t=!1){return b(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof ut&&oN(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function oN({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var sf=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>b(this,null,function*(){yield this.iteration()}),t)}iteration(){return b(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var qo=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=$o(this.lastLoginAt),this.creationTime=$o(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Sc(n){return b(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield of(n,bc(t,{idToken:r}));oe(i?.users.length,t,"internal-error");let o=i.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?qw(o.providerUserInfo):[],c=sN(n.providerData,s),u=n.isAnonymous,d=!(n.email&&o.passwordHash)&&!c?.length,f=u?d:!1,g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new qo(o.createdAt,o.lastLoginAt),isAnonymous:f};Object.assign(n,g)})}function gf(n){return b(this,null,function*(){let e=rt(n);yield Sc(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function sN(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function qw(n){return n.map(e=>{var{providerId:t}=e,r=Al(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function aN(n,e){return b(this,null,function*(){let t=yield Bw(n,{},()=>b(this,null,function*(){let r=Nh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=yield $w(n,i,"/v1/token",`key=${o}`),c=yield n._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",Cc.fetch()(s,{method:"POST",headers:c,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function cN(n,e){return b(this,null,function*(){return Mc(n,"POST","/v2/accounts:revokeToken",Uw(n,e))})}var Ho=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){oe(e.idToken,"internal-error"),oe(typeof e.idToken<"u","internal-error"),oe(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Nw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){oe(e.length!==0,"internal-error");let t=Nw(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return b(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(oe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return b(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield aN(e,t);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&(oe(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(oe(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(oe(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return Bo("not implemented")}};function bn(n,e){oe(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var nr=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=Al(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new sf(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new qo(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return b(this,null,function*(){let t=yield of(this,this.stsTokenManager.getToken(this.auth,e));return oe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return pf(this,e)}reload(){return gf(this)}_assign(e){this!==e&&(oe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return b(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield Sc(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return b(this,null,function*(){if(nn(this.auth.app))return Promise.reject(Ec(this.auth));let e=yield this.getIdToken();return yield of(this,iN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,c,u,d,f;let g=(r=t.displayName)!==null&&r!==void 0?r:void 0,v=(i=t.email)!==null&&i!==void 0?i:void 0,m=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,S=(s=t.photoURL)!==null&&s!==void 0?s:void 0,N=(c=t.tenantId)!==null&&c!==void 0?c:void 0,P=(u=t._redirectEventId)!==null&&u!==void 0?u:void 0,F=(d=t.createdAt)!==null&&d!==void 0?d:void 0,$=(f=t.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:Q,emailVerified:he,isAnonymous:$e,providerData:ce,stsTokenManager:E}=t;oe(Q&&E,e,"internal-error");let y=Ho.fromJSON(this.name,E);oe(typeof Q=="string",e,"internal-error"),bn(g,e.name),bn(v,e.name),oe(typeof he=="boolean",e,"internal-error"),oe(typeof $e=="boolean",e,"internal-error"),bn(m,e.name),bn(S,e.name),bn(N,e.name),bn(P,e.name),bn(F,e.name),bn($,e.name);let I=new n({uid:Q,auth:e,email:v,emailVerified:he,displayName:g,isAnonymous:$e,photoURL:S,phoneNumber:m,tenantId:N,stsTokenManager:y,createdAt:F,lastLoginAt:$});return ce&&Array.isArray(ce)&&(I.providerData=ce.map(w=>Object.assign({},w))),P&&(I._redirectEventId=P),I}static _fromIdTokenResponse(e,t,r=!1){return b(this,null,function*(){let i=new Ho;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Sc(o),o})}static _fromGetAccountInfoResponse(e,t,r){return b(this,null,function*(){let i=t.users[0];oe(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?qw(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,c=new Ho;c.updateFromIdToken(r);let u=new n({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:s}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new qo(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,d),u})}};var Pw=new Map;function rr(n){Tc(n instanceof Function,"Expected a class definition");let e=Pw.get(n);return e?(Tc(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Pw.set(n,e),e)}var uN=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return b(this,null,function*(){return!0})}_set(t,r){return b(this,null,function*(){this.storage[t]=r})}_get(t){return b(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return b(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),af=uN;function nf(n,e,t){return`firebase:${n}:${e}:${t}`}var Ac=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=nf(this.userKey,i.apiKey,o),this.fullPersistenceKey=nf("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return b(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=yield bc(this.auth,{idToken:e}).catch(()=>{});return t?nr._fromGetAccountInfoResponse(this.auth,t,e):null}return nr._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return b(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return b(this,null,function*(){if(!t.length)return new n(rr(af),e,r);let i=(yield Promise.all(t.map(d=>b(this,null,function*(){if(yield d._isAvailable())return d})))).filter(d=>d),o=i[0]||rr(af),s=nf(r,e.config.apiKey,e.name),c=null;for(let d of t)try{let f=yield d._get(s);if(f){let g;if(typeof f=="string"){let v=yield bc(e,{idToken:f}).catch(()=>{});if(!v)break;g=yield nr._fromGetAccountInfoResponse(e,v,f)}else g=nr._fromJSON(e,f);d!==o&&(c=g),o=d;break}}catch{}let u=i.filter(d=>d._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new n(o,e,r):(o=u[0],c&&(yield o._set(s,c.toJSON())),yield Promise.all(t.map(d=>b(this,null,function*(){if(d!==o)try{yield d._remove(s)}catch{}}))),new n(o,e,r))})}};function xw(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(fN(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(lN(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(gN(e))return"Blackberry";if(mN(e))return"Webos";if(dN(e))return"Safari";if((e.includes("chrome/")||hN(e))&&!e.includes("edge/"))return"Chrome";if(pN(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function lN(n=nt()){return/firefox\//i.test(n)}function dN(n=nt()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function hN(n=nt()){return/crios\//i.test(n)}function fN(n=nt()){return/iemobile/i.test(n)}function pN(n=nt()){return/android/i.test(n)}function gN(n=nt()){return/blackberry/i.test(n)}function mN(n=nt()){return/webos/i.test(n)}function zw(n,e=[]){let t;switch(n){case"Browser":t=xw(nt());break;case"Worker":t=`${xw(nt())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ni}/${r}`}var cf=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,c)=>{try{let u=e(o);s(u)}catch(u){c(u)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return b(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function yN(t){return b(this,arguments,function*(n,e={}){return Mc(n,"GET","/v2/passwordPolicy",Uw(n,e))})}var vN=6,uf=class{constructor(e){var t,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:vN,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,c;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(t=u.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(c=u.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),u}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var lf=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Rc(this),this.idTokenSubscription=new Rc(this),this.beforeStateQueue=new cf(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Lw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=rr(t)),this._initializationPromise=this.queue(()=>b(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield Ac.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return b(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return b(this,null,function*(){try{let t=yield bc(this,{idToken:e}),r=yield nr._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return b(this,null,function*(){var t;if(nn(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(c,c))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,c=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===c)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return oe(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return b(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return b(this,null,function*(){try{yield Sc(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=XM()}_delete(){return b(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return b(this,null,function*(){if(nn(this.app))return Promise.reject(Ec(this));let t=e?rt(e):null;return t&&oe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return b(this,null,function*(){if(!this._deleted)return e&&oe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>b(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return b(this,null,function*(){return nn(this.app)?Promise.reject(Ec(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return nn(this.app)?Promise.reject(Ec(this)):this.queue(()=>b(this,null,function*(){yield this.assertedPersistence.setPersistence(rr(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return b(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return b(this,null,function*(){let e=yield yN(this),t=new uf(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new It("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return b(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield cN(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return b(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return b(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&rr(e)||this._popupRedirectResolver;oe(t,this,"argument-error"),this.redirectPersistenceManager=yield Ac.create(this,[rr(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return b(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>b(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return b(this,null,function*(){if(e===this.currentUser)return this.queue(()=>b(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,c=this._isInitialized?Promise.resolve():this._initializationPromise;if(oe(c,this,"internal-error"),c.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let u=e.addObserver(t,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(t);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return b(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=zw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return b(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return b(this,null,function*(){var e;if(nn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&YM(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function _N(n){return rt(n)}var Rc=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=ew(t=>this.observer=t)}get next(){return oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var IN={loadJS(){return b(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function wN(n){IN=n}function EN(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function DN(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(rr);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}var _4=EN("rcb"),I4=new ir(3e4,6e4);var w4=new ir(2e3,1e4);var E4=10*60*1e3;var D4=new ir(3e4,6e4);var T4=new ir(5e3,15e3);var C4=encodeURIComponent("fac");var kw="@firebase/auth",Ow="1.10.0";var df=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return b(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function TN(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function CN(n){wt(new Ze("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:c}=r.options;oe(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:zw(n)},d=new lf(r,i,o,u);return DN(d,t),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),wt(new Ze("auth-internal",e=>{let t=_N(e.getProvider("auth").getImmediate());return(r=>new df(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ee(kw,Ow,TN(n)),Ee(kw,Ow,"esm2017")}var bN=5*60,b4=GI("authIdTokenMaxAge")||bN;function SN(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}wN({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=hf("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",SN().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});CN("Browser");var CP="auth";var Nc=class{constructor(){return oi(CP)}};var Gw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ww={};var rn,mf;(function(){var n;function e(E,y){function I(){}I.prototype=y.prototype,E.D=y.prototype,E.prototype=new I,E.prototype.constructor=E,E.C=function(w,D,C){for(var _=Array(arguments.length-2),qt=2;qt<arguments.length;qt++)_[qt-2]=arguments[qt];return y.prototype[D].apply(w,_)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(E,y,I){I||(I=0);var w=Array(16);if(typeof y=="string")for(var D=0;16>D;++D)w[D]=y.charCodeAt(I++)|y.charCodeAt(I++)<<8|y.charCodeAt(I++)<<16|y.charCodeAt(I++)<<24;else for(D=0;16>D;++D)w[D]=y[I++]|y[I++]<<8|y[I++]<<16|y[I++]<<24;y=E.g[0],I=E.g[1],D=E.g[2];var C=E.g[3],_=y+(C^I&(D^C))+w[0]+3614090360&4294967295;y=I+(_<<7&4294967295|_>>>25),_=C+(D^y&(I^D))+w[1]+3905402710&4294967295,C=y+(_<<12&4294967295|_>>>20),_=D+(I^C&(y^I))+w[2]+606105819&4294967295,D=C+(_<<17&4294967295|_>>>15),_=I+(y^D&(C^y))+w[3]+3250441966&4294967295,I=D+(_<<22&4294967295|_>>>10),_=y+(C^I&(D^C))+w[4]+4118548399&4294967295,y=I+(_<<7&4294967295|_>>>25),_=C+(D^y&(I^D))+w[5]+1200080426&4294967295,C=y+(_<<12&4294967295|_>>>20),_=D+(I^C&(y^I))+w[6]+2821735955&4294967295,D=C+(_<<17&4294967295|_>>>15),_=I+(y^D&(C^y))+w[7]+4249261313&4294967295,I=D+(_<<22&4294967295|_>>>10),_=y+(C^I&(D^C))+w[8]+1770035416&4294967295,y=I+(_<<7&4294967295|_>>>25),_=C+(D^y&(I^D))+w[9]+2336552879&4294967295,C=y+(_<<12&4294967295|_>>>20),_=D+(I^C&(y^I))+w[10]+4294925233&4294967295,D=C+(_<<17&4294967295|_>>>15),_=I+(y^D&(C^y))+w[11]+2304563134&4294967295,I=D+(_<<22&4294967295|_>>>10),_=y+(C^I&(D^C))+w[12]+1804603682&4294967295,y=I+(_<<7&4294967295|_>>>25),_=C+(D^y&(I^D))+w[13]+4254626195&4294967295,C=y+(_<<12&4294967295|_>>>20),_=D+(I^C&(y^I))+w[14]+2792965006&4294967295,D=C+(_<<17&4294967295|_>>>15),_=I+(y^D&(C^y))+w[15]+1236535329&4294967295,I=D+(_<<22&4294967295|_>>>10),_=y+(D^C&(I^D))+w[1]+4129170786&4294967295,y=I+(_<<5&4294967295|_>>>27),_=C+(I^D&(y^I))+w[6]+3225465664&4294967295,C=y+(_<<9&4294967295|_>>>23),_=D+(y^I&(C^y))+w[11]+643717713&4294967295,D=C+(_<<14&4294967295|_>>>18),_=I+(C^y&(D^C))+w[0]+3921069994&4294967295,I=D+(_<<20&4294967295|_>>>12),_=y+(D^C&(I^D))+w[5]+3593408605&4294967295,y=I+(_<<5&4294967295|_>>>27),_=C+(I^D&(y^I))+w[10]+38016083&4294967295,C=y+(_<<9&4294967295|_>>>23),_=D+(y^I&(C^y))+w[15]+3634488961&4294967295,D=C+(_<<14&4294967295|_>>>18),_=I+(C^y&(D^C))+w[4]+3889429448&4294967295,I=D+(_<<20&4294967295|_>>>12),_=y+(D^C&(I^D))+w[9]+568446438&4294967295,y=I+(_<<5&4294967295|_>>>27),_=C+(I^D&(y^I))+w[14]+3275163606&4294967295,C=y+(_<<9&4294967295|_>>>23),_=D+(y^I&(C^y))+w[3]+4107603335&4294967295,D=C+(_<<14&4294967295|_>>>18),_=I+(C^y&(D^C))+w[8]+1163531501&4294967295,I=D+(_<<20&4294967295|_>>>12),_=y+(D^C&(I^D))+w[13]+2850285829&4294967295,y=I+(_<<5&4294967295|_>>>27),_=C+(I^D&(y^I))+w[2]+4243563512&4294967295,C=y+(_<<9&4294967295|_>>>23),_=D+(y^I&(C^y))+w[7]+1735328473&4294967295,D=C+(_<<14&4294967295|_>>>18),_=I+(C^y&(D^C))+w[12]+2368359562&4294967295,I=D+(_<<20&4294967295|_>>>12),_=y+(I^D^C)+w[5]+4294588738&4294967295,y=I+(_<<4&4294967295|_>>>28),_=C+(y^I^D)+w[8]+2272392833&4294967295,C=y+(_<<11&4294967295|_>>>21),_=D+(C^y^I)+w[11]+1839030562&4294967295,D=C+(_<<16&4294967295|_>>>16),_=I+(D^C^y)+w[14]+4259657740&4294967295,I=D+(_<<23&4294967295|_>>>9),_=y+(I^D^C)+w[1]+2763975236&4294967295,y=I+(_<<4&4294967295|_>>>28),_=C+(y^I^D)+w[4]+1272893353&4294967295,C=y+(_<<11&4294967295|_>>>21),_=D+(C^y^I)+w[7]+4139469664&4294967295,D=C+(_<<16&4294967295|_>>>16),_=I+(D^C^y)+w[10]+3200236656&4294967295,I=D+(_<<23&4294967295|_>>>9),_=y+(I^D^C)+w[13]+681279174&4294967295,y=I+(_<<4&4294967295|_>>>28),_=C+(y^I^D)+w[0]+3936430074&4294967295,C=y+(_<<11&4294967295|_>>>21),_=D+(C^y^I)+w[3]+3572445317&4294967295,D=C+(_<<16&4294967295|_>>>16),_=I+(D^C^y)+w[6]+76029189&4294967295,I=D+(_<<23&4294967295|_>>>9),_=y+(I^D^C)+w[9]+3654602809&4294967295,y=I+(_<<4&4294967295|_>>>28),_=C+(y^I^D)+w[12]+3873151461&4294967295,C=y+(_<<11&4294967295|_>>>21),_=D+(C^y^I)+w[15]+530742520&4294967295,D=C+(_<<16&4294967295|_>>>16),_=I+(D^C^y)+w[2]+3299628645&4294967295,I=D+(_<<23&4294967295|_>>>9),_=y+(D^(I|~C))+w[0]+4096336452&4294967295,y=I+(_<<6&4294967295|_>>>26),_=C+(I^(y|~D))+w[7]+1126891415&4294967295,C=y+(_<<10&4294967295|_>>>22),_=D+(y^(C|~I))+w[14]+2878612391&4294967295,D=C+(_<<15&4294967295|_>>>17),_=I+(C^(D|~y))+w[5]+4237533241&4294967295,I=D+(_<<21&4294967295|_>>>11),_=y+(D^(I|~C))+w[12]+1700485571&4294967295,y=I+(_<<6&4294967295|_>>>26),_=C+(I^(y|~D))+w[3]+2399980690&4294967295,C=y+(_<<10&4294967295|_>>>22),_=D+(y^(C|~I))+w[10]+4293915773&4294967295,D=C+(_<<15&4294967295|_>>>17),_=I+(C^(D|~y))+w[1]+2240044497&4294967295,I=D+(_<<21&4294967295|_>>>11),_=y+(D^(I|~C))+w[8]+1873313359&4294967295,y=I+(_<<6&4294967295|_>>>26),_=C+(I^(y|~D))+w[15]+4264355552&4294967295,C=y+(_<<10&4294967295|_>>>22),_=D+(y^(C|~I))+w[6]+2734768916&4294967295,D=C+(_<<15&4294967295|_>>>17),_=I+(C^(D|~y))+w[13]+1309151649&4294967295,I=D+(_<<21&4294967295|_>>>11),_=y+(D^(I|~C))+w[4]+4149444226&4294967295,y=I+(_<<6&4294967295|_>>>26),_=C+(I^(y|~D))+w[11]+3174756917&4294967295,C=y+(_<<10&4294967295|_>>>22),_=D+(y^(C|~I))+w[2]+718787259&4294967295,D=C+(_<<15&4294967295|_>>>17),_=I+(C^(D|~y))+w[9]+3951481745&4294967295,E.g[0]=E.g[0]+y&4294967295,E.g[1]=E.g[1]+(D+(_<<21&4294967295|_>>>11))&4294967295,E.g[2]=E.g[2]+D&4294967295,E.g[3]=E.g[3]+C&4294967295}r.prototype.u=function(E,y){y===void 0&&(y=E.length);for(var I=y-this.blockSize,w=this.B,D=this.h,C=0;C<y;){if(D==0)for(;C<=I;)i(this,E,C),C+=this.blockSize;if(typeof E=="string"){for(;C<y;)if(w[D++]=E.charCodeAt(C++),D==this.blockSize){i(this,w),D=0;break}}else for(;C<y;)if(w[D++]=E[C++],D==this.blockSize){i(this,w),D=0;break}}this.h=D,this.o+=y},r.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var y=1;y<E.length-8;++y)E[y]=0;var I=8*this.o;for(y=E.length-8;y<E.length;++y)E[y]=I&255,I/=256;for(this.u(E),E=Array(16),y=I=0;4>y;++y)for(var w=0;32>w;w+=8)E[I++]=this.g[y]>>>w&255;return E};function o(E,y){var I=c;return Object.prototype.hasOwnProperty.call(I,E)?I[E]:I[E]=y(E)}function s(E,y){this.h=y;for(var I=[],w=!0,D=E.length-1;0<=D;D--){var C=E[D]|0;w&&C==y||(I[D]=C,w=!1)}this.g=I}var c={};function u(E){return-128<=E&&128>E?o(E,function(y){return new s([y|0],0>y?-1:0)}):new s([E|0],0>E?-1:0)}function d(E){if(isNaN(E)||!isFinite(E))return g;if(0>E)return P(d(-E));for(var y=[],I=1,w=0;E>=I;w++)y[w]=E/I|0,I*=4294967296;return new s(y,0)}function f(E,y){if(E.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(E.charAt(0)=="-")return P(f(E.substring(1),y));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=d(Math.pow(y,8)),w=g,D=0;D<E.length;D+=8){var C=Math.min(8,E.length-D),_=parseInt(E.substring(D,D+C),y);8>C?(C=d(Math.pow(y,C)),w=w.j(C).add(d(_))):(w=w.j(I),w=w.add(d(_)))}return w}var g=u(0),v=u(1),m=u(16777216);n=s.prototype,n.m=function(){if(N(this))return-P(this).m();for(var E=0,y=1,I=0;I<this.g.length;I++){var w=this.i(I);E+=(0<=w?w:4294967296+w)*y,y*=4294967296}return E},n.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(S(this))return"0";if(N(this))return"-"+P(this).toString(E);for(var y=d(Math.pow(E,6)),I=this,w="";;){var D=he(I,y).g;I=F(I,D.j(y));var C=((0<I.g.length?I.g[0]:I.h)>>>0).toString(E);if(I=D,S(I))return C+w;for(;6>C.length;)C="0"+C;w=C+w}},n.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function S(E){if(E.h!=0)return!1;for(var y=0;y<E.g.length;y++)if(E.g[y]!=0)return!1;return!0}function N(E){return E.h==-1}n.l=function(E){return E=F(this,E),N(E)?-1:S(E)?0:1};function P(E){for(var y=E.g.length,I=[],w=0;w<y;w++)I[w]=~E.g[w];return new s(I,~E.h).add(v)}n.abs=function(){return N(this)?P(this):this},n.add=function(E){for(var y=Math.max(this.g.length,E.g.length),I=[],w=0,D=0;D<=y;D++){var C=w+(this.i(D)&65535)+(E.i(D)&65535),_=(C>>>16)+(this.i(D)>>>16)+(E.i(D)>>>16);w=_>>>16,C&=65535,_&=65535,I[D]=_<<16|C}return new s(I,I[I.length-1]&-2147483648?-1:0)};function F(E,y){return E.add(P(y))}n.j=function(E){if(S(this)||S(E))return g;if(N(this))return N(E)?P(this).j(P(E)):P(P(this).j(E));if(N(E))return P(this.j(P(E)));if(0>this.l(m)&&0>E.l(m))return d(this.m()*E.m());for(var y=this.g.length+E.g.length,I=[],w=0;w<2*y;w++)I[w]=0;for(w=0;w<this.g.length;w++)for(var D=0;D<E.g.length;D++){var C=this.i(w)>>>16,_=this.i(w)&65535,qt=E.i(D)>>>16,xi=E.i(D)&65535;I[2*w+2*D]+=_*xi,$(I,2*w+2*D),I[2*w+2*D+1]+=C*xi,$(I,2*w+2*D+1),I[2*w+2*D+1]+=_*qt,$(I,2*w+2*D+1),I[2*w+2*D+2]+=C*qt,$(I,2*w+2*D+2)}for(w=0;w<y;w++)I[w]=I[2*w+1]<<16|I[2*w];for(w=y;w<2*y;w++)I[w]=0;return new s(I,0)};function $(E,y){for(;(E[y]&65535)!=E[y];)E[y+1]+=E[y]>>>16,E[y]&=65535,y++}function Q(E,y){this.g=E,this.h=y}function he(E,y){if(S(y))throw Error("division by zero");if(S(E))return new Q(g,g);if(N(E))return y=he(P(E),y),new Q(P(y.g),P(y.h));if(N(y))return y=he(E,P(y)),new Q(P(y.g),y.h);if(30<E.g.length){if(N(E)||N(y))throw Error("slowDivide_ only works with positive integers.");for(var I=v,w=y;0>=w.l(E);)I=$e(I),w=$e(w);var D=ce(I,1),C=ce(w,1);for(w=ce(w,2),I=ce(I,2);!S(w);){var _=C.add(w);0>=_.l(E)&&(D=D.add(I),C=_),w=ce(w,1),I=ce(I,1)}return y=F(E,D.j(y)),new Q(D,y)}for(D=g;0<=E.l(y);){for(I=Math.max(1,Math.floor(E.m()/y.m())),w=Math.ceil(Math.log(I)/Math.LN2),w=48>=w?1:Math.pow(2,w-48),C=d(I),_=C.j(y);N(_)||0<_.l(E);)I-=w,C=d(I),_=C.j(y);S(C)&&(C=v),D=D.add(C),E=F(E,_)}return new Q(D,E)}n.A=function(E){return he(this,E).h},n.and=function(E){for(var y=Math.max(this.g.length,E.g.length),I=[],w=0;w<y;w++)I[w]=this.i(w)&E.i(w);return new s(I,this.h&E.h)},n.or=function(E){for(var y=Math.max(this.g.length,E.g.length),I=[],w=0;w<y;w++)I[w]=this.i(w)|E.i(w);return new s(I,this.h|E.h)},n.xor=function(E){for(var y=Math.max(this.g.length,E.g.length),I=[],w=0;w<y;w++)I[w]=this.i(w)^E.i(w);return new s(I,this.h^E.h)};function $e(E){for(var y=E.g.length+1,I=[],w=0;w<y;w++)I[w]=E.i(w)<<1|E.i(w-1)>>>31;return new s(I,E.h)}function ce(E,y){var I=y>>5;y%=32;for(var w=E.g.length-I,D=[],C=0;C<w;C++)D[C]=0<y?E.i(C+I)>>>y|E.i(C+I+1)<<32-y:E.i(C+I);return new s(D,E.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,mf=Ww.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=d,s.fromString=f,rn=Ww.Integer=s}).apply(typeof Gw<"u"?Gw:typeof self<"u"?self:typeof window<"u"?window:{});var Pc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},on={};var yf,bP,si,vf,zo,xc,_f,If,wf;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,l,h){return a==Array.prototype||a==Object.prototype||(a[l]=h.value),a};function t(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof Pc=="object"&&Pc];for(var l=0;l<a.length;++l){var h=a[l];if(h&&h.Math==Math)return h}throw Error("Cannot find global object")}var r=t(this);function i(a,l){if(l)e:{var h=r;a=a.split(".");for(var p=0;p<a.length-1;p++){var T=a[p];if(!(T in h))break e;h=h[T]}a=a[a.length-1],p=h[a],l=l(p),l!=p&&l!=null&&e(h,a,{configurable:!0,writable:!0,value:l})}}function o(a,l){a instanceof String&&(a+="");var h=0,p=!1,T={next:function(){if(!p&&h<a.length){var A=h++;return{value:l(A,a[A]),done:!1}}return p=!0,{done:!0,value:void 0}}};return T[Symbol.iterator]=function(){return T},T}i("Array.prototype.values",function(a){return a||function(){return o(this,function(l,h){return h})}});var s=s||{},c=this||self;function u(a){var l=typeof a;return l=l!="object"?l:a?Array.isArray(a)?"array":l:"null",l=="array"||l=="object"&&typeof a.length=="number"}function d(a){var l=typeof a;return l=="object"&&a!=null||l=="function"}function f(a,l,h){return a.call.apply(a.bind,arguments)}function g(a,l,h){if(!a)throw Error();if(2<arguments.length){var p=Array.prototype.slice.call(arguments,2);return function(){var T=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(T,p),a.apply(l,T)}}return function(){return a.apply(l,arguments)}}function v(a,l,h){return v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:g,v.apply(null,arguments)}function m(a,l){var h=Array.prototype.slice.call(arguments,1);return function(){var p=h.slice();return p.push.apply(p,arguments),a.apply(this,p)}}function S(a,l){function h(){}h.prototype=l.prototype,a.aa=l.prototype,a.prototype=new h,a.prototype.constructor=a,a.Qb=function(p,T,A){for(var x=Array(arguments.length-2),le=2;le<arguments.length;le++)x[le-2]=arguments[le];return l.prototype[T].apply(p,x)}}function N(a){let l=a.length;if(0<l){let h=Array(l);for(let p=0;p<l;p++)h[p]=a[p];return h}return[]}function P(a,l){for(let h=1;h<arguments.length;h++){let p=arguments[h];if(u(p)){let T=a.length||0,A=p.length||0;a.length=T+A;for(let x=0;x<A;x++)a[T+x]=p[x]}else a.push(p)}}class F{constructor(l,h){this.i=l,this.j=h,this.h=0,this.g=null}get(){let l;return 0<this.h?(this.h--,l=this.g,this.g=l.next,l.next=null):l=this.i(),l}}function $(a){return/^[\s\xa0]*$/.test(a)}function Q(){var a=c.navigator;return a&&(a=a.userAgent)?a:""}function he(a){return he[" "](a),a}he[" "]=function(){};var $e=Q().indexOf("Gecko")!=-1&&!(Q().toLowerCase().indexOf("webkit")!=-1&&Q().indexOf("Edge")==-1)&&!(Q().indexOf("Trident")!=-1||Q().indexOf("MSIE")!=-1)&&Q().indexOf("Edge")==-1;function ce(a,l,h){for(let p in a)l.call(h,a[p],p,a)}function E(a,l){for(let h in a)l.call(void 0,a[h],h,a)}function y(a){let l={};for(let h in a)l[h]=a[h];return l}let I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(a,l){let h,p;for(let T=1;T<arguments.length;T++){p=arguments[T];for(h in p)a[h]=p[h];for(let A=0;A<I.length;A++)h=I[A],Object.prototype.hasOwnProperty.call(p,h)&&(a[h]=p[h])}}function D(a){var l=1;a=a.split(":");let h=[];for(;0<l&&a.length;)h.push(a.shift()),l--;return a.length&&h.push(a.join(":")),h}function C(a){c.setTimeout(()=>{throw a},0)}function _(){var a=Ou;let l=null;return a.g&&(l=a.g,a.g=a.g.next,a.g||(a.h=null),l.next=null),l}class qt{constructor(){this.h=this.g=null}add(l,h){let p=xi.get();p.set(l,h),this.h?this.h.next=p:this.g=p,this.h=p}}var xi=new F(()=>new ST,a=>a.reset());class ST{constructor(){this.next=this.g=this.h=null}set(l,h){this.h=l,this.g=h,this.next=null}reset(){this.next=this.g=this.h=null}}let ki,Oi=!1,Ou=new qt,Lg=()=>{let a=c.Promise.resolve(void 0);ki=()=>{a.then(AT)}};var AT=()=>{for(var a;a=_();){try{a.h.call(a.g)}catch(h){C(h)}var l=xi;l.j(a),100>l.h&&(l.h++,a.next=l.g,l.g=a)}Oi=!1};function hn(){this.s=this.s,this.C=this.C}hn.prototype.s=!1,hn.prototype.ma=function(){this.s||(this.s=!0,this.N())},hn.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Fe(a,l){this.type=a,this.g=this.target=l,this.defaultPrevented=!1}Fe.prototype.h=function(){this.defaultPrevented=!0};var RT=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var a=!1,l=Object.defineProperty({},"passive",{get:function(){a=!0}});try{let h=()=>{};c.addEventListener("test",h,l),c.removeEventListener("test",h,l)}catch{}return a}();function Fi(a,l){if(Fe.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var h=this.type=a.type,p=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=l,l=a.relatedTarget){if($e){e:{try{he(l.nodeName);var T=!0;break e}catch{}T=!1}T||(l=null)}}else h=="mouseover"?l=a.fromElement:h=="mouseout"&&(l=a.toElement);this.relatedTarget=l,p?(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:MT[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&Fi.aa.h.call(this)}}S(Fi,Fe);var MT={2:"touch",3:"pen",4:"mouse"};Fi.prototype.h=function(){Fi.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var Vi="closure_listenable_"+(1e6*Math.random()|0),NT=0;function PT(a,l,h,p,T){this.listener=a,this.proxy=null,this.src=l,this.type=h,this.capture=!!p,this.ha=T,this.key=++NT,this.da=this.fa=!1}function hs(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function fs(a){this.src=a,this.g={},this.h=0}fs.prototype.add=function(a,l,h,p,T){var A=a.toString();a=this.g[A],a||(a=this.g[A]=[],this.h++);var x=Vu(a,l,p,T);return-1<x?(l=a[x],h||(l.fa=!1)):(l=new PT(l,this.src,A,!!p,T),l.fa=h,a.push(l)),l};function Fu(a,l){var h=l.type;if(h in a.g){var p=a.g[h],T=Array.prototype.indexOf.call(p,l,void 0),A;(A=0<=T)&&Array.prototype.splice.call(p,T,1),A&&(hs(l),a.g[h].length==0&&(delete a.g[h],a.h--))}}function Vu(a,l,h,p){for(var T=0;T<a.length;++T){var A=a[T];if(!A.da&&A.listener==l&&A.capture==!!h&&A.ha==p)return T}return-1}var Lu="closure_lm_"+(1e6*Math.random()|0),ju={};function jg(a,l,h,p,T){if(p&&p.once)return Bg(a,l,h,p,T);if(Array.isArray(l)){for(var A=0;A<l.length;A++)jg(a,l[A],h,p,T);return null}return h=Hu(h),a&&a[Vi]?a.K(l,h,d(p)?!!p.capture:!!p,T):Ug(a,l,h,!1,p,T)}function Ug(a,l,h,p,T,A){if(!l)throw Error("Invalid event type");var x=d(T)?!!T.capture:!!T,le=Bu(a);if(le||(a[Lu]=le=new fs(a)),h=le.add(l,h,p,x,A),h.proxy)return h;if(p=xT(),h.proxy=p,p.src=a,p.listener=h,a.addEventListener)RT||(T=x),T===void 0&&(T=!1),a.addEventListener(l.toString(),p,T);else if(a.attachEvent)a.attachEvent(Hg(l.toString()),p);else if(a.addListener&&a.removeListener)a.addListener(p);else throw Error("addEventListener and attachEvent are unavailable.");return h}function xT(){function a(h){return l.call(a.src,a.listener,h)}let l=kT;return a}function Bg(a,l,h,p,T){if(Array.isArray(l)){for(var A=0;A<l.length;A++)Bg(a,l[A],h,p,T);return null}return h=Hu(h),a&&a[Vi]?a.L(l,h,d(p)?!!p.capture:!!p,T):Ug(a,l,h,!0,p,T)}function $g(a,l,h,p,T){if(Array.isArray(l))for(var A=0;A<l.length;A++)$g(a,l[A],h,p,T);else p=d(p)?!!p.capture:!!p,h=Hu(h),a&&a[Vi]?(a=a.i,l=String(l).toString(),l in a.g&&(A=a.g[l],h=Vu(A,h,p,T),-1<h&&(hs(A[h]),Array.prototype.splice.call(A,h,1),A.length==0&&(delete a.g[l],a.h--)))):a&&(a=Bu(a))&&(l=a.g[l.toString()],a=-1,l&&(a=Vu(l,h,p,T)),(h=-1<a?l[a]:null)&&Uu(h))}function Uu(a){if(typeof a!="number"&&a&&!a.da){var l=a.src;if(l&&l[Vi])Fu(l.i,a);else{var h=a.type,p=a.proxy;l.removeEventListener?l.removeEventListener(h,p,a.capture):l.detachEvent?l.detachEvent(Hg(h),p):l.addListener&&l.removeListener&&l.removeListener(p),(h=Bu(l))?(Fu(h,a),h.h==0&&(h.src=null,l[Lu]=null)):hs(a)}}}function Hg(a){return a in ju?ju[a]:ju[a]="on"+a}function kT(a,l){if(a.da)a=!0;else{l=new Fi(l,this);var h=a.listener,p=a.ha||a.src;a.fa&&Uu(a),a=h.call(p,l)}return a}function Bu(a){return a=a[Lu],a instanceof fs?a:null}var $u="__closure_events_fn_"+(1e9*Math.random()>>>0);function Hu(a){return typeof a=="function"?a:(a[$u]||(a[$u]=function(l){return a.handleEvent(l)}),a[$u])}function Ve(){hn.call(this),this.i=new fs(this),this.M=this,this.F=null}S(Ve,hn),Ve.prototype[Vi]=!0,Ve.prototype.removeEventListener=function(a,l,h,p){$g(this,a,l,h,p)};function He(a,l){var h,p=a.F;if(p)for(h=[];p;p=p.F)h.push(p);if(a=a.M,p=l.type||l,typeof l=="string")l=new Fe(l,a);else if(l instanceof Fe)l.target=l.target||a;else{var T=l;l=new Fe(p,a),w(l,T)}if(T=!0,h)for(var A=h.length-1;0<=A;A--){var x=l.g=h[A];T=ps(x,p,!0,l)&&T}if(x=l.g=a,T=ps(x,p,!0,l)&&T,T=ps(x,p,!1,l)&&T,h)for(A=0;A<h.length;A++)x=l.g=h[A],T=ps(x,p,!1,l)&&T}Ve.prototype.N=function(){if(Ve.aa.N.call(this),this.i){var a=this.i,l;for(l in a.g){for(var h=a.g[l],p=0;p<h.length;p++)hs(h[p]);delete a.g[l],a.h--}}this.F=null},Ve.prototype.K=function(a,l,h,p){return this.i.add(String(a),l,!1,h,p)},Ve.prototype.L=function(a,l,h,p){return this.i.add(String(a),l,!0,h,p)};function ps(a,l,h,p){if(l=a.i.g[String(l)],!l)return!0;l=l.concat();for(var T=!0,A=0;A<l.length;++A){var x=l[A];if(x&&!x.da&&x.capture==h){var le=x.listener,xe=x.ha||x.src;x.fa&&Fu(a.i,x),T=le.call(xe,p)!==!1&&T}}return T&&!p.defaultPrevented}function qg(a,l,h){if(typeof a=="function")h&&(a=v(a,h));else if(a&&typeof a.handleEvent=="function")a=v(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(l)?-1:c.setTimeout(a,l||0)}function zg(a){a.g=qg(()=>{a.g=null,a.i&&(a.i=!1,zg(a))},a.l);let l=a.h;a.h=null,a.m.apply(null,l)}class OT extends hn{constructor(l,h){super(),this.m=l,this.l=h,this.h=null,this.i=!1,this.g=null}j(l){this.h=arguments,this.g?this.i=!0:zg(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Li(a){hn.call(this),this.h=a,this.g={}}S(Li,hn);var Gg=[];function Wg(a){ce(a.g,function(l,h){this.g.hasOwnProperty(h)&&Uu(l)},a),a.g={}}Li.prototype.N=function(){Li.aa.N.call(this),Wg(this)},Li.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var qu=c.JSON.stringify,FT=c.JSON.parse,VT=class{stringify(a){return c.JSON.stringify(a,void 0)}parse(a){return c.JSON.parse(a,void 0)}};function zu(){}zu.prototype.h=null;function Kg(a){return a.h||(a.h=a.i())}function Qg(){}var ji={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Gu(){Fe.call(this,"d")}S(Gu,Fe);function Wu(){Fe.call(this,"c")}S(Wu,Fe);var Nn={},Yg=null;function gs(){return Yg=Yg||new Ve}Nn.La="serverreachability";function Zg(a){Fe.call(this,Nn.La,a)}S(Zg,Fe);function Ui(a){let l=gs();He(l,new Zg(l))}Nn.STAT_EVENT="statevent";function Jg(a,l){Fe.call(this,Nn.STAT_EVENT,a),this.stat=l}S(Jg,Fe);function qe(a){let l=gs();He(l,new Jg(l,a))}Nn.Ma="timingevent";function Xg(a,l){Fe.call(this,Nn.Ma,a),this.size=l}S(Xg,Fe);function Bi(a,l){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){a()},l)}function $i(){this.g=!0}$i.prototype.xa=function(){this.g=!1};function LT(a,l,h,p,T,A){a.info(function(){if(a.g)if(A)for(var x="",le=A.split("&"),xe=0;xe<le.length;xe++){var ne=le[xe].split("=");if(1<ne.length){var Le=ne[0];ne=ne[1];var je=Le.split("_");x=2<=je.length&&je[1]=="type"?x+(Le+"="+ne+"&"):x+(Le+"=redacted&")}}else x=null;else x=A;return"XMLHTTP REQ ("+p+") [attempt "+T+"]: "+l+`
`+h+`
`+x})}function jT(a,l,h,p,T,A,x){a.info(function(){return"XMLHTTP RESP ("+p+") [ attempt "+T+"]: "+l+`
`+h+`
`+A+" "+x})}function Ir(a,l,h,p){a.info(function(){return"XMLHTTP TEXT ("+l+"): "+BT(a,h)+(p?" "+p:"")})}function UT(a,l){a.info(function(){return"TIMEOUT: "+l})}$i.prototype.info=function(){};function BT(a,l){if(!a.g)return l;if(!l)return null;try{var h=JSON.parse(l);if(h){for(a=0;a<h.length;a++)if(Array.isArray(h[a])){var p=h[a];if(!(2>p.length)){var T=p[1];if(Array.isArray(T)&&!(1>T.length)){var A=T[0];if(A!="noop"&&A!="stop"&&A!="close")for(var x=1;x<T.length;x++)T[x]=""}}}}return qu(h)}catch{return l}}var ms={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},em={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ku;function ys(){}S(ys,zu),ys.prototype.g=function(){return new XMLHttpRequest},ys.prototype.i=function(){return{}},Ku=new ys;function fn(a,l,h,p){this.j=a,this.i=l,this.l=h,this.R=p||1,this.U=new Li(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new tm}function tm(){this.i=null,this.g="",this.h=!1}var nm={},Qu={};function Yu(a,l,h){a.L=1,a.v=ws(zt(l)),a.m=h,a.P=!0,rm(a,null)}function rm(a,l){a.F=Date.now(),vs(a),a.A=zt(a.v);var h=a.A,p=a.R;Array.isArray(p)||(p=[String(p)]),ym(h.i,"t",p),a.C=0,h=a.j.J,a.h=new tm,a.g=Om(a.j,h?l:null,!a.m),0<a.O&&(a.M=new OT(v(a.Y,a,a.g),a.O)),l=a.U,h=a.g,p=a.ca;var T="readystatechange";Array.isArray(T)||(T&&(Gg[0]=T.toString()),T=Gg);for(var A=0;A<T.length;A++){var x=jg(h,T[A],p||l.handleEvent,!1,l.h||l);if(!x)break;l.g[x.key]=x}l=a.H?y(a.H):{},a.m?(a.u||(a.u="POST"),l["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,l)):(a.u="GET",a.g.ea(a.A,a.u,null,l)),Ui(),LT(a.i,a.u,a.A,a.l,a.R,a.m)}fn.prototype.ca=function(a){a=a.target;let l=this.M;l&&Gt(a)==3?l.j():this.Y(a)},fn.prototype.Y=function(a){try{if(a==this.g)e:{let je=Gt(this.g);var l=this.g.Ba();let Dr=this.g.Z();if(!(3>je)&&(je!=3||this.g&&(this.h.h||this.g.oa()||Tm(this.g)))){this.J||je!=4||l==7||(l==8||0>=Dr?Ui(3):Ui(2)),Zu(this);var h=this.g.Z();this.X=h;t:if(im(this)){var p=Tm(this.g);a="";var T=p.length,A=Gt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Pn(this),Hi(this);var x="";break t}this.h.i=new c.TextDecoder}for(l=0;l<T;l++)this.h.h=!0,a+=this.h.i.decode(p[l],{stream:!(A&&l==T-1)});p.length=0,this.h.g+=a,this.C=0,x=this.h.g}else x=this.g.oa();if(this.o=h==200,jT(this.i,this.u,this.A,this.l,this.R,je,h),this.o){if(this.T&&!this.K){t:{if(this.g){var le,xe=this.g;if((le=xe.g?xe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$(le)){var ne=le;break t}}ne=null}if(h=ne)Ir(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ju(this,h);else{this.o=!1,this.s=3,qe(12),Pn(this),Hi(this);break e}}if(this.P){h=!0;let dt;for(;!this.J&&this.C<x.length;)if(dt=$T(this,x),dt==Qu){je==4&&(this.s=4,qe(14),h=!1),Ir(this.i,this.l,null,"[Incomplete Response]");break}else if(dt==nm){this.s=4,qe(15),Ir(this.i,this.l,x,"[Invalid Chunk]"),h=!1;break}else Ir(this.i,this.l,dt,null),Ju(this,dt);if(im(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),je!=4||x.length!=0||this.h.h||(this.s=1,qe(16),h=!1),this.o=this.o&&h,!h)Ir(this.i,this.l,x,"[Invalid Chunked Response]"),Pn(this),Hi(this);else if(0<x.length&&!this.W){this.W=!0;var Le=this.j;Le.g==this&&Le.ba&&!Le.M&&(Le.j.info("Great, no buffering proxy detected. Bytes received: "+x.length),il(Le),Le.M=!0,qe(11))}}else Ir(this.i,this.l,x,null),Ju(this,x);je==4&&Pn(this),this.o&&!this.J&&(je==4?Nm(this.j,this):(this.o=!1,vs(this)))}else o0(this.g),h==400&&0<x.indexOf("Unknown SID")?(this.s=3,qe(12)):(this.s=0,qe(13)),Pn(this),Hi(this)}}}catch{}finally{}};function im(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function $T(a,l){var h=a.C,p=l.indexOf(`
`,h);return p==-1?Qu:(h=Number(l.substring(h,p)),isNaN(h)?nm:(p+=1,p+h>l.length?Qu:(l=l.slice(p,p+h),a.C=p+h,l)))}fn.prototype.cancel=function(){this.J=!0,Pn(this)};function vs(a){a.S=Date.now()+a.I,om(a,a.I)}function om(a,l){if(a.B!=null)throw Error("WatchDog timer not null");a.B=Bi(v(a.ba,a),l)}function Zu(a){a.B&&(c.clearTimeout(a.B),a.B=null)}fn.prototype.ba=function(){this.B=null;let a=Date.now();0<=a-this.S?(UT(this.i,this.A),this.L!=2&&(Ui(),qe(17)),Pn(this),this.s=2,Hi(this)):om(this,this.S-a)};function Hi(a){a.j.G==0||a.J||Nm(a.j,a)}function Pn(a){Zu(a);var l=a.M;l&&typeof l.ma=="function"&&l.ma(),a.M=null,Wg(a.U),a.g&&(l=a.g,a.g=null,l.abort(),l.ma())}function Ju(a,l){try{var h=a.j;if(h.G!=0&&(h.g==a||Xu(h.h,a))){if(!a.K&&Xu(h.h,a)&&h.G==3){try{var p=h.Da.g.parse(l)}catch{p=null}if(Array.isArray(p)&&p.length==3){var T=p;if(T[0]==0){e:if(!h.u){if(h.g)if(h.g.F+3e3<a.F)bs(h),Ts(h);else break e;rl(h),qe(18)}}else h.za=T[1],0<h.za-h.T&&37500>T[2]&&h.F&&h.v==0&&!h.C&&(h.C=Bi(v(h.Za,h),6e3));if(1>=cm(h.h)&&h.ca){try{h.ca()}catch{}h.ca=void 0}}else kn(h,11)}else if((a.K||h.g==a)&&bs(h),!$(l))for(T=h.Da.g.parse(l),l=0;l<T.length;l++){let ne=T[l];if(h.T=ne[0],ne=ne[1],h.G==2)if(ne[0]=="c"){h.K=ne[1],h.ia=ne[2];let Le=ne[3];Le!=null&&(h.la=Le,h.j.info("VER="+h.la));let je=ne[4];je!=null&&(h.Aa=je,h.j.info("SVER="+h.Aa));let Dr=ne[5];Dr!=null&&typeof Dr=="number"&&0<Dr&&(p=1.5*Dr,h.L=p,h.j.info("backChannelRequestTimeoutMs_="+p)),p=h;let dt=a.g;if(dt){let As=dt.g?dt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(As){var A=p.h;A.g||As.indexOf("spdy")==-1&&As.indexOf("quic")==-1&&As.indexOf("h2")==-1||(A.j=A.l,A.g=new Set,A.h&&(el(A,A.h),A.h=null))}if(p.D){let ol=dt.g?dt.g.getResponseHeader("X-HTTP-Session-Id"):null;ol&&(p.ya=ol,fe(p.I,p.D,ol))}}h.G=3,h.l&&h.l.ua(),h.ba&&(h.R=Date.now()-a.F,h.j.info("Handshake RTT: "+h.R+"ms")),p=h;var x=a;if(p.qa=km(p,p.J?p.ia:null,p.W),x.K){um(p.h,x);var le=x,xe=p.L;xe&&(le.I=xe),le.B&&(Zu(le),vs(le)),p.g=x}else Rm(p);0<h.i.length&&Cs(h)}else ne[0]!="stop"&&ne[0]!="close"||kn(h,7);else h.G==3&&(ne[0]=="stop"||ne[0]=="close"?ne[0]=="stop"?kn(h,7):nl(h):ne[0]!="noop"&&h.l&&h.l.ta(ne),h.v=0)}}Ui(4)}catch{}}var HT=class{constructor(a,l){this.g=a,this.map=l}};function sm(a){this.l=a||10,c.PerformanceNavigationTiming?(a=c.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function am(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function cm(a){return a.h?1:a.g?a.g.size:0}function Xu(a,l){return a.h?a.h==l:a.g?a.g.has(l):!1}function el(a,l){a.g?a.g.add(l):a.h=l}function um(a,l){a.h&&a.h==l?a.h=null:a.g&&a.g.has(l)&&a.g.delete(l)}sm.prototype.cancel=function(){if(this.i=lm(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let a of this.g.values())a.cancel();this.g.clear()}};function lm(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let l=a.i;for(let h of a.g.values())l=l.concat(h.D);return l}return N(a.i)}function qT(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var l=[],h=a.length,p=0;p<h;p++)l.push(a[p]);return l}l=[],h=0;for(p in a)l[h++]=a[p];return l}function zT(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var l=[];a=a.length;for(var h=0;h<a;h++)l.push(h);return l}l=[],h=0;for(let p in a)l[h++]=p;return l}}}function dm(a,l){if(a.forEach&&typeof a.forEach=="function")a.forEach(l,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,l,void 0);else for(var h=zT(a),p=qT(a),T=p.length,A=0;A<T;A++)l.call(void 0,p[A],h&&h[A],a)}var hm=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function GT(a,l){if(a){a=a.split("&");for(var h=0;h<a.length;h++){var p=a[h].indexOf("="),T=null;if(0<=p){var A=a[h].substring(0,p);T=a[h].substring(p+1)}else A=a[h];l(A,T?decodeURIComponent(T.replace(/\+/g," ")):"")}}}function xn(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof xn){this.h=a.h,_s(this,a.j),this.o=a.o,this.g=a.g,Is(this,a.s),this.l=a.l;var l=a.i,h=new Gi;h.i=l.i,l.g&&(h.g=new Map(l.g),h.h=l.h),fm(this,h),this.m=a.m}else a&&(l=String(a).match(hm))?(this.h=!1,_s(this,l[1]||"",!0),this.o=qi(l[2]||""),this.g=qi(l[3]||"",!0),Is(this,l[4]),this.l=qi(l[5]||"",!0),fm(this,l[6]||"",!0),this.m=qi(l[7]||"")):(this.h=!1,this.i=new Gi(null,this.h))}xn.prototype.toString=function(){var a=[],l=this.j;l&&a.push(zi(l,pm,!0),":");var h=this.g;return(h||l=="file")&&(a.push("//"),(l=this.o)&&a.push(zi(l,pm,!0),"@"),a.push(encodeURIComponent(String(h)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h=this.s,h!=null&&a.push(":",String(h))),(h=this.l)&&(this.g&&h.charAt(0)!="/"&&a.push("/"),a.push(zi(h,h.charAt(0)=="/"?QT:KT,!0))),(h=this.i.toString())&&a.push("?",h),(h=this.m)&&a.push("#",zi(h,ZT)),a.join("")};function zt(a){return new xn(a)}function _s(a,l,h){a.j=h?qi(l,!0):l,a.j&&(a.j=a.j.replace(/:$/,""))}function Is(a,l){if(l){if(l=Number(l),isNaN(l)||0>l)throw Error("Bad port number "+l);a.s=l}else a.s=null}function fm(a,l,h){l instanceof Gi?(a.i=l,JT(a.i,a.h)):(h||(l=zi(l,YT)),a.i=new Gi(l,a.h))}function fe(a,l,h){a.i.set(l,h)}function ws(a){return fe(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function qi(a,l){return a?l?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function zi(a,l,h){return typeof a=="string"?(a=encodeURI(a).replace(l,WT),h&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function WT(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var pm=/[#\/\?@]/g,KT=/[#\?:]/g,QT=/[#\?]/g,YT=/[#\?@]/g,ZT=/#/g;function Gi(a,l){this.h=this.g=null,this.i=a||null,this.j=!!l}function pn(a){a.g||(a.g=new Map,a.h=0,a.i&&GT(a.i,function(l,h){a.add(decodeURIComponent(l.replace(/\+/g," ")),h)}))}n=Gi.prototype,n.add=function(a,l){pn(this),this.i=null,a=wr(this,a);var h=this.g.get(a);return h||this.g.set(a,h=[]),h.push(l),this.h+=1,this};function gm(a,l){pn(a),l=wr(a,l),a.g.has(l)&&(a.i=null,a.h-=a.g.get(l).length,a.g.delete(l))}function mm(a,l){return pn(a),l=wr(a,l),a.g.has(l)}n.forEach=function(a,l){pn(this),this.g.forEach(function(h,p){h.forEach(function(T){a.call(l,T,p,this)},this)},this)},n.na=function(){pn(this);let a=Array.from(this.g.values()),l=Array.from(this.g.keys()),h=[];for(let p=0;p<l.length;p++){let T=a[p];for(let A=0;A<T.length;A++)h.push(l[p])}return h},n.V=function(a){pn(this);let l=[];if(typeof a=="string")mm(this,a)&&(l=l.concat(this.g.get(wr(this,a))));else{a=Array.from(this.g.values());for(let h=0;h<a.length;h++)l=l.concat(a[h])}return l},n.set=function(a,l){return pn(this),this.i=null,a=wr(this,a),mm(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[l]),this.h+=1,this},n.get=function(a,l){return a?(a=this.V(a),0<a.length?String(a[0]):l):l};function ym(a,l,h){gm(a,l),0<h.length&&(a.i=null,a.g.set(wr(a,l),N(h)),a.h+=h.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let a=[],l=Array.from(this.g.keys());for(var h=0;h<l.length;h++){var p=l[h];let A=encodeURIComponent(String(p)),x=this.V(p);for(p=0;p<x.length;p++){var T=A;x[p]!==""&&(T+="="+encodeURIComponent(String(x[p]))),a.push(T)}}return this.i=a.join("&")};function wr(a,l){return l=String(l),a.j&&(l=l.toLowerCase()),l}function JT(a,l){l&&!a.j&&(pn(a),a.i=null,a.g.forEach(function(h,p){var T=p.toLowerCase();p!=T&&(gm(this,p),ym(this,T,h))},a)),a.j=l}function XT(a,l){let h=new $i;if(c.Image){let p=new Image;p.onload=m(gn,h,"TestLoadImage: loaded",!0,l,p),p.onerror=m(gn,h,"TestLoadImage: error",!1,l,p),p.onabort=m(gn,h,"TestLoadImage: abort",!1,l,p),p.ontimeout=m(gn,h,"TestLoadImage: timeout",!1,l,p),c.setTimeout(function(){p.ontimeout&&p.ontimeout()},1e4),p.src=a}else l(!1)}function e0(a,l){let h=new $i,p=new AbortController,T=setTimeout(()=>{p.abort(),gn(h,"TestPingServer: timeout",!1,l)},1e4);fetch(a,{signal:p.signal}).then(A=>{clearTimeout(T),A.ok?gn(h,"TestPingServer: ok",!0,l):gn(h,"TestPingServer: server error",!1,l)}).catch(()=>{clearTimeout(T),gn(h,"TestPingServer: error",!1,l)})}function gn(a,l,h,p,T){try{T&&(T.onload=null,T.onerror=null,T.onabort=null,T.ontimeout=null),p(h)}catch{}}function t0(){this.g=new VT}function n0(a,l,h){let p=h||"";try{dm(a,function(T,A){let x=T;d(T)&&(x=qu(T)),l.push(p+A+"="+encodeURIComponent(x))})}catch(T){throw l.push(p+"type="+encodeURIComponent("_badmap")),T}}function Wi(a){this.l=a.Ub||null,this.j=a.eb||!1}S(Wi,zu),Wi.prototype.g=function(){return new Es(this.l,this.j)},Wi.prototype.i=function(a){return function(){return a}}({});function Es(a,l){Ve.call(this),this.D=a,this.o=l,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(Es,Ve),n=Es.prototype,n.open=function(a,l){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=l,this.readyState=1,Qi(this)},n.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let l={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(l.body=a),(this.D||c).fetch(new Request(this.A,l)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ki(this)),this.readyState=0},n.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,Qi(this)),this.g&&(this.readyState=3,Qi(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;vm(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function vm(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}n.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var l=a.value?a.value:new Uint8Array(0);(l=this.v.decode(l,{stream:!a.done}))&&(this.response=this.responseText+=l)}a.done?Ki(this):Qi(this),this.readyState==3&&vm(this)}},n.Ra=function(a){this.g&&(this.response=this.responseText=a,Ki(this))},n.Qa=function(a){this.g&&(this.response=a,Ki(this))},n.ga=function(){this.g&&Ki(this)};function Ki(a){a.readyState=4,a.l=null,a.j=null,a.v=null,Qi(a)}n.setRequestHeader=function(a,l){this.u.append(a,l)},n.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let a=[],l=this.h.entries();for(var h=l.next();!h.done;)h=h.value,a.push(h[0]+": "+h[1]),h=l.next();return a.join(`\r
`)};function Qi(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(Es.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function _m(a){let l="";return ce(a,function(h,p){l+=p,l+=":",l+=h,l+=`\r
`}),l}function tl(a,l,h){e:{for(p in h){var p=!1;break e}p=!0}p||(h=_m(h),typeof a=="string"?h!=null&&encodeURIComponent(String(h)):fe(a,l,h))}function Ie(a){Ve.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(Ie,Ve);var r0=/^https?$/i,i0=["POST","PUT"];n=Ie.prototype,n.Ha=function(a){this.J=a},n.ea=function(a,l,h,p){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);l=l?l.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ku.g(),this.v=this.o?Kg(this.o):Kg(Ku),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open(l,String(a),!0),this.B=!1}catch(A){Im(this,A);return}if(a=h||"",h=new Map(this.headers),p)if(Object.getPrototypeOf(p)===Object.prototype)for(var T in p)h.set(T,p[T]);else if(typeof p.keys=="function"&&typeof p.get=="function")for(let A of p.keys())h.set(A,p.get(A));else throw Error("Unknown input type for opt_headers: "+String(p));p=Array.from(h.keys()).find(A=>A.toLowerCase()=="content-type"),T=c.FormData&&a instanceof c.FormData,!(0<=Array.prototype.indexOf.call(i0,l,void 0))||p||T||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[A,x]of h)this.g.setRequestHeader(A,x);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Dm(this),this.u=!0,this.g.send(a),this.u=!1}catch(A){Im(this,A)}};function Im(a,l){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=l,a.m=5,wm(a),Ds(a)}function wm(a){a.A||(a.A=!0,He(a,"complete"),He(a,"error"))}n.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,He(this,"complete"),He(this,"abort"),Ds(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ds(this,!0)),Ie.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Em(this):this.bb())},n.bb=function(){Em(this)};function Em(a){if(a.h&&typeof s<"u"&&(!a.v[1]||Gt(a)!=4||a.Z()!=2)){if(a.u&&Gt(a)==4)qg(a.Ea,0,a);else if(He(a,"readystatechange"),Gt(a)==4){a.h=!1;try{let x=a.Z();e:switch(x){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var l=!0;break e;default:l=!1}var h;if(!(h=l)){var p;if(p=x===0){var T=String(a.D).match(hm)[1]||null;!T&&c.self&&c.self.location&&(T=c.self.location.protocol.slice(0,-1)),p=!r0.test(T?T.toLowerCase():"")}h=p}if(h)He(a,"complete"),He(a,"success");else{a.m=6;try{var A=2<Gt(a)?a.g.statusText:""}catch{A=""}a.l=A+" ["+a.Z()+"]",wm(a)}}finally{Ds(a)}}}}function Ds(a,l){if(a.g){Dm(a);let h=a.g,p=a.v[0]?()=>{}:null;a.g=null,a.v=null,l||He(a,"ready");try{h.onreadystatechange=p}catch{}}}function Dm(a){a.I&&(c.clearTimeout(a.I),a.I=null)}n.isActive=function(){return!!this.g};function Gt(a){return a.g?a.g.readyState:0}n.Z=function(){try{return 2<Gt(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(a){if(this.g){var l=this.g.responseText;return a&&l.indexOf(a)==0&&(l=l.substring(a.length)),FT(l)}};function Tm(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function o0(a){let l={};a=(a.g&&2<=Gt(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let p=0;p<a.length;p++){if($(a[p]))continue;var h=D(a[p]);let T=h[0];if(h=h[1],typeof h!="string")continue;h=h.trim();let A=l[T]||[];l[T]=A,A.push(h)}E(l,function(p){return p.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Yi(a,l,h){return h&&h.internalChannelParams&&h.internalChannelParams[a]||l}function Cm(a){this.Aa=0,this.i=[],this.j=new $i,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Yi("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Yi("baseRetryDelayMs",5e3,a),this.cb=Yi("retryDelaySeedMs",1e4,a),this.Wa=Yi("forwardChannelMaxRetries",2,a),this.wa=Yi("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new sm(a&&a.concurrentRequestLimit),this.Da=new t0,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Cm.prototype,n.la=8,n.G=1,n.connect=function(a,l,h,p){qe(0),this.W=a,this.H=l||{},h&&p!==void 0&&(this.H.OSID=h,this.H.OAID=p),this.F=this.X,this.I=km(this,null,this.W),Cs(this)};function nl(a){if(bm(a),a.G==3){var l=a.U++,h=zt(a.I);if(fe(h,"SID",a.K),fe(h,"RID",l),fe(h,"TYPE","terminate"),Zi(a,h),l=new fn(a,a.j,l),l.L=2,l.v=ws(zt(h)),h=!1,c.navigator&&c.navigator.sendBeacon)try{h=c.navigator.sendBeacon(l.v.toString(),"")}catch{}!h&&c.Image&&(new Image().src=l.v,h=!0),h||(l.g=Om(l.j,null),l.g.ea(l.v)),l.F=Date.now(),vs(l)}xm(a)}function Ts(a){a.g&&(il(a),a.g.cancel(),a.g=null)}function bm(a){Ts(a),a.u&&(c.clearTimeout(a.u),a.u=null),bs(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&c.clearTimeout(a.s),a.s=null)}function Cs(a){if(!am(a.h)&&!a.s){a.s=!0;var l=a.Ga;ki||Lg(),Oi||(ki(),Oi=!0),Ou.add(l,a),a.B=0}}function s0(a,l){return cm(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=l.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=Bi(v(a.Ga,a,l),Pm(a,a.B)),a.B++,!0)}n.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;let T=new fn(this,this.j,a),A=this.o;if(this.S&&(A?(A=y(A),w(A,this.S)):A=this.S),this.m!==null||this.O||(T.H=A,A=null),this.P)e:{for(var l=0,h=0;h<this.i.length;h++){t:{var p=this.i[h];if("__data__"in p.map&&(p=p.map.__data__,typeof p=="string")){p=p.length;break t}p=void 0}if(p===void 0)break;if(l+=p,4096<l){l=h;break e}if(l===4096||h===this.i.length-1){l=h+1;break e}}l=1e3}else l=1e3;l=Am(this,T,l),h=zt(this.I),fe(h,"RID",a),fe(h,"CVER",22),this.D&&fe(h,"X-HTTP-Session-Id",this.D),Zi(this,h),A&&(this.O?l="headers="+encodeURIComponent(String(_m(A)))+"&"+l:this.m&&tl(h,this.m,A)),el(this.h,T),this.Ua&&fe(h,"TYPE","init"),this.P?(fe(h,"$req",l),fe(h,"SID","null"),T.T=!0,Yu(T,h,null)):Yu(T,h,l),this.G=2}}else this.G==3&&(a?Sm(this,a):this.i.length==0||am(this.h)||Sm(this))};function Sm(a,l){var h;l?h=l.l:h=a.U++;let p=zt(a.I);fe(p,"SID",a.K),fe(p,"RID",h),fe(p,"AID",a.T),Zi(a,p),a.m&&a.o&&tl(p,a.m,a.o),h=new fn(a,a.j,h,a.B+1),a.m===null&&(h.H=a.o),l&&(a.i=l.D.concat(a.i)),l=Am(a,h,1e3),h.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),el(a.h,h),Yu(h,p,l)}function Zi(a,l){a.H&&ce(a.H,function(h,p){fe(l,p,h)}),a.l&&dm({},function(h,p){fe(l,p,h)})}function Am(a,l,h){h=Math.min(a.i.length,h);var p=a.l?v(a.l.Na,a.l,a):null;e:{var T=a.i;let A=-1;for(;;){let x=["count="+h];A==-1?0<h?(A=T[0].g,x.push("ofs="+A)):A=0:x.push("ofs="+A);let le=!0;for(let xe=0;xe<h;xe++){let ne=T[xe].g,Le=T[xe].map;if(ne-=A,0>ne)A=Math.max(0,T[xe].g-100),le=!1;else try{n0(Le,x,"req"+ne+"_")}catch{p&&p(Le)}}if(le){p=x.join("&");break e}}}return a=a.i.splice(0,h),l.D=a,p}function Rm(a){if(!a.g&&!a.u){a.Y=1;var l=a.Fa;ki||Lg(),Oi||(ki(),Oi=!0),Ou.add(l,a),a.v=0}}function rl(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=Bi(v(a.Fa,a),Pm(a,a.v)),a.v++,!0)}n.Fa=function(){if(this.u=null,Mm(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=Bi(v(this.ab,this),a)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,qe(10),Ts(this),Mm(this))};function il(a){a.A!=null&&(c.clearTimeout(a.A),a.A=null)}function Mm(a){a.g=new fn(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var l=zt(a.qa);fe(l,"RID","rpc"),fe(l,"SID",a.K),fe(l,"AID",a.T),fe(l,"CI",a.F?"0":"1"),!a.F&&a.ja&&fe(l,"TO",a.ja),fe(l,"TYPE","xmlhttp"),Zi(a,l),a.m&&a.o&&tl(l,a.m,a.o),a.L&&(a.g.I=a.L);var h=a.g;a=a.ia,h.L=1,h.v=ws(zt(l)),h.m=null,h.P=!0,rm(h,a)}n.Za=function(){this.C!=null&&(this.C=null,Ts(this),rl(this),qe(19))};function bs(a){a.C!=null&&(c.clearTimeout(a.C),a.C=null)}function Nm(a,l){var h=null;if(a.g==l){bs(a),il(a),a.g=null;var p=2}else if(Xu(a.h,l))h=l.D,um(a.h,l),p=1;else return;if(a.G!=0){if(l.o)if(p==1){h=l.m?l.m.length:0,l=Date.now()-l.F;var T=a.B;p=gs(),He(p,new Xg(p,h)),Cs(a)}else Rm(a);else if(T=l.s,T==3||T==0&&0<l.X||!(p==1&&s0(a,l)||p==2&&rl(a)))switch(h&&0<h.length&&(l=a.h,l.i=l.i.concat(h)),T){case 1:kn(a,5);break;case 4:kn(a,10);break;case 3:kn(a,6);break;default:kn(a,2)}}}function Pm(a,l){let h=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(h*=2),h*l}function kn(a,l){if(a.j.info("Error code "+l),l==2){var h=v(a.fb,a),p=a.Xa;let T=!p;p=new xn(p||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||_s(p,"https"),ws(p),T?XT(p.toString(),h):e0(p.toString(),h)}else qe(2);a.G=0,a.l&&a.l.sa(l),xm(a),bm(a)}n.fb=function(a){a?(this.j.info("Successfully pinged google.com"),qe(2)):(this.j.info("Failed to ping google.com"),qe(1))};function xm(a){if(a.G=0,a.ka=[],a.l){let l=lm(a.h);(l.length!=0||a.i.length!=0)&&(P(a.ka,l),P(a.ka,a.i),a.h.i.length=0,N(a.i),a.i.length=0),a.l.ra()}}function km(a,l,h){var p=h instanceof xn?zt(h):new xn(h);if(p.g!="")l&&(p.g=l+"."+p.g),Is(p,p.s);else{var T=c.location;p=T.protocol,l=l?l+"."+T.hostname:T.hostname,T=+T.port;var A=new xn(null);p&&_s(A,p),l&&(A.g=l),T&&Is(A,T),h&&(A.l=h),p=A}return h=a.D,l=a.ya,h&&l&&fe(p,h,l),fe(p,"VER",a.la),Zi(a,p),p}function Om(a,l,h){if(l&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return l=a.Ca&&!a.pa?new Ie(new Wi({eb:h})):new Ie(a.pa),l.Ha(a.J),l}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Fm(){}n=Fm.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Ss(){}Ss.prototype.g=function(a,l){return new et(a,l)};function et(a,l){Ve.call(this),this.g=new Cm(l),this.l=a,this.h=l&&l.messageUrlParams||null,a=l&&l.messageHeaders||null,l&&l.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=l&&l.initMessageHeaders||null,l&&l.messageContentType&&(a?a["X-WebChannel-Content-Type"]=l.messageContentType:a={"X-WebChannel-Content-Type":l.messageContentType}),l&&l.va&&(a?a["X-WebChannel-Client-Profile"]=l.va:a={"X-WebChannel-Client-Profile":l.va}),this.g.S=a,(a=l&&l.Sb)&&!$(a)&&(this.g.m=a),this.v=l&&l.supportsCrossDomainXhr||!1,this.u=l&&l.sendRawJson||!1,(l=l&&l.httpSessionIdParam)&&!$(l)&&(this.g.D=l,a=this.h,a!==null&&l in a&&(a=this.h,l in a&&delete a[l])),this.j=new Er(this)}S(et,Ve),et.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},et.prototype.close=function(){nl(this.g)},et.prototype.o=function(a){var l=this.g;if(typeof a=="string"){var h={};h.__data__=a,a=h}else this.u&&(h={},h.__data__=qu(a),a=h);l.i.push(new HT(l.Ya++,a)),l.G==3&&Cs(l)},et.prototype.N=function(){this.g.l=null,delete this.j,nl(this.g),delete this.g,et.aa.N.call(this)};function Vm(a){Gu.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var l=a.__sm__;if(l){e:{for(let h in l){a=h;break e}a=void 0}(this.i=a)&&(a=this.i,l=l!==null&&a in l?l[a]:void 0),this.data=l}else this.data=a}S(Vm,Gu);function Lm(){Wu.call(this),this.status=1}S(Lm,Wu);function Er(a){this.g=a}S(Er,Fm),Er.prototype.ua=function(){He(this.g,"a")},Er.prototype.ta=function(a){He(this.g,new Vm(a))},Er.prototype.sa=function(a){He(this.g,new Lm)},Er.prototype.ra=function(){He(this.g,"b")},Ss.prototype.createWebChannel=Ss.prototype.g,et.prototype.send=et.prototype.o,et.prototype.open=et.prototype.m,et.prototype.close=et.prototype.close,wf=on.createWebChannelTransport=function(){return new Ss},If=on.getStatEventTarget=function(){return gs()},_f=on.Event=Nn,xc=on.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ms.NO_ERROR=0,ms.TIMEOUT=8,ms.HTTP_ERROR=6,zo=on.ErrorCode=ms,em.COMPLETE="complete",vf=on.EventType=em,Qg.EventType=ji,ji.OPEN="a",ji.CLOSE="b",ji.ERROR="c",ji.MESSAGE="d",Ve.prototype.listen=Ve.prototype.K,si=on.WebChannel=Qg,bP=on.FetchXmlHttpFactory=Wi,Ie.prototype.listenOnce=Ie.prototype.L,Ie.prototype.getLastError=Ie.prototype.Ka,Ie.prototype.getLastErrorCode=Ie.prototype.Ba,Ie.prototype.getStatus=Ie.prototype.Z,Ie.prototype.getResponseJson=Ie.prototype.Oa,Ie.prototype.getResponseText=Ie.prototype.oa,Ie.prototype.send=Ie.prototype.ea,Ie.prototype.setWithCredentials=Ie.prototype.Ha,yf=on.XhrIo=Ie}).apply(typeof Pc<"u"?Pc:typeof self<"u"?self:typeof window<"u"?window:{});var Kw="@firebase/firestore",Qw="4.7.10";var Ne=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Ne.UNAUTHENTICATED=new Ne(null),Ne.GOOGLE_CREDENTIALS=new Ne("google-credentials-uid"),Ne.FIRST_PARTY=new Ne("first-party-uid"),Ne.MOCK_USER=new Ne("mock-user");var Ri="11.5.0";var ur=new Vt("@firebase/firestore");function ai(){return ur.logLevel}function k(n,...e){if(ur.logLevel<=K.DEBUG){let t=e.map(ug);ur.debug(`Firestore (${Ri}): ${n}`,...t)}}function sn(n,...e){if(ur.logLevel<=K.ERROR){let t=e.map(ug);ur.error(`Firestore (${Ri}): ${n}`,...t)}}function pi(n,...e){if(ur.logLevel<=K.WARN){let t=e.map(ug);ur.warn(`Firestore (${Ri}): ${n}`,...t)}}function ug(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function L(n="Unexpected state"){let e=`FIRESTORE (${Ri}) INTERNAL ASSERTION FAILED: `+n;throw sn(e),new Error(e)}function ae(n,e){n||L()}function U(n,e){return n}var R={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},O=class extends ut{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Tt=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var Uc=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},bf=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ne.UNAUTHENTICATED))}shutdown(){}},Sf=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},Af=class{constructor(e){this.t=e,this.currentUser=Ne.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){ae(this.o===void 0);let r=this.i,i=u=>this.i!==r?(r=this.i,t(u)):Promise.resolve(),o=new Tt;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Tt,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>b(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},c=u=>{k("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?c(u):(k("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Tt)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(k("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ae(typeof r.accessToken=="string"),new Uc(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return ae(e===null||typeof e=="string"),new Ne(e)}},Rf=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=Ne.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);let e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}},Mf=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new Rf(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Ne.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Bc=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Nf=class{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,nn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){ae(this.o===void 0);let r=o=>{o.error!=null&&k("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,k("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{k("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):k("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new Bc(this.V));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ae(typeof t.token=="string"),this.R=t.token,new Bc(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function SP(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}function jE(){return new TextEncoder}var $c=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=SP(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}};function G(n,e){return n<e?-1:n>e?1:0}function Pf(n,e){let t=0;for(;t<n.length&&t<e.length;){let r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return G(r,i);{let o=jE(),s=AP(o.encode(Yw(n,t)),o.encode(Yw(e,t)));return s!==0?s:G(r,i)}}t+=r>65535?2:1}return G(n.length,e.length)}function Yw(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function AP(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return G(n[t],e[t]);return G(n.length,e.length)}function gi(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var Zw=-62135596800,Jw=1e6,Oe=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*Jw);return new n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new O(R.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new O(R.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Zw)throw new O(R.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new O(R.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Jw}_compareTo(e){return this.seconds===e.seconds?G(this.nanoseconds,e.nanoseconds):G(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds-Zw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var B=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new Oe(0,0))}static max(){return new n(new Oe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Xw="__name__",Hc=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&L(),r===void 0?r=e.length-t:r>e.length-t&&L(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=n.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return G(e.length,t.length)}static compareSegments(e,t){let r=n.isNumericId(e),i=n.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?n.extractNumericId(e).compare(n.extractNumericId(t)):Pf(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return rn.fromString(e.substring(4,e.length-2))}},_e=class n extends Hc{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new O(R.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},RP=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ot=class n extends Hc{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return RP.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Xw}static keyField(){return new n([Xw])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new O(R.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let c=e[i];if(c==="\\"){if(i+1===e.length)throw new O(R.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new O(R.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else c==="`"?(s=!s,i++):c!=="."||s?(r+=c,i++):(o(),i++)}if(o(),s)throw new O(R.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var V=class n{constructor(e){this.path=e}static fromPath(e){return new n(_e.fromString(e))}static fromName(e){return new n(_e.fromString(e).popFirst(5))}static empty(){return new n(_e.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&_e.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return _e.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new _e(e.slice()))}};var Zo=-1,xf=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};xf.UNKNOWN_ID=-1;function MP(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=B.fromTimestamp(r===1e9?new Oe(t+1,0):new Oe(t,r));return new lr(i,V.empty(),e)}function NP(n){return new lr(n.readTime,n.key,Zo)}var lr=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(B.min(),V.empty(),Zo)}static max(){return new n(B.max(),V.empty(),Zo)}};function PP(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=V.comparator(n.documentKey,e.documentKey),t!==0?t:G(n.largestBatchId,e.largestBatchId))}var xP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",kf=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Mi(n){return b(this,null,function*(){if(n.code!==R.FAILED_PRECONDITION||n.message!==xP)throw n;k("LocalStore","Unexpectedly lost primary lease")})}var M=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&L(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(c=>{++i,c.next(()=>{++o,s&&o===i&&t()},u=>r(u))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),c=0;for(let u=0;u<o;u++){let d=u;t(e[d]).next(f=>{s[d]=f,++c,c===o&&r(s)},f=>i(f))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function kP(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Ni(n){return n.name==="IndexedDbTransactionError"}var lg=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.oe(i),this._e=i=>r.writeSequenceNumber(i))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this._e&&this._e(t),t}}n.ae=-1;return n})(),dg=-1;function Du(n){return n==null}function Jo(n){return n===0&&1/n==-1/0}function OP(n){return typeof n=="number"&&Number.isInteger(n)&&!Jo(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var UE="";function FP(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=eE(e)),e=VP(n.get(t),e);return eE(e)}function VP(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let o=n.charAt(i);switch(o){case"\0":t+="";break;case UE:t+="";break;default:t+=o}}return t}function eE(n){return n+UE+""}var LP="remoteDocuments",BE="owner";var $E="mutationQueues";var HE="mutations";var qE="documentMutations",jP="remoteDocumentsV14";var zE="remoteDocumentGlobal";var GE="targets";var WE="targetDocuments";var KE="targetGlobal",QE="collectionParents";var YE="clientMetadata";var ZE="bundles";var JE="namedQueries";var UP="indexConfiguration";var BP="indexState";var $P="indexEntries";var XE="documentOverlays";var HP="globals";var qP=[$E,HE,qE,LP,GE,BE,KE,WE,YE,zE,QE,ZE,JE],R$=[...qP,XE],zP=[$E,HE,qE,jP,GE,BE,KE,WE,YE,zE,QE,ZE,JE,XE],GP=zP,WP=[...GP,UP,BP,$P];var M$=[...WP,HP];function tE(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function yr(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function eD(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var we=class n{constructor(e,t){this.comparator=e,this.root=t||Ut.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ut.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ut.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new di(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new di(this.root,e,this.comparator,!1)}getReverseIterator(){return new di(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new di(this.root,e,this.comparator,!0)}},di=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Ut=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw L();let e=this.left.check();if(e!==this.right.check())throw L();return e+(this.isRed()?0:1)}};Ut.EMPTY=null,Ut.RED=!0,Ut.BLACK=!1;Ut.EMPTY=new class{constructor(){this.size=0}get key(){throw L()}get value(){throw L()}get color(){throw L()}get left(){throw L()}get right(){throw L()}copy(e,t,r,i,o){return this}insert(e,t,r){return new Ut(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Pe=class n{constructor(e){this.comparator=e,this.data=new we(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new qc(this.data.getIterator())}getIteratorFrom(e){return new qc(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},qc=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var jt=class n{constructor(e){this.fields=e,e.sort(ot.comparator)}static empty(){return new n([])}unionWith(e){let t=new Pe(ot.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return gi(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var zc=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Be=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new zc("Invalid base64 string: "+o):o}}(e);return new n(t)}static fromUint8Array(e){let t=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return G(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Be.EMPTY_BYTE_STRING=new Be("");var KP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function an(n){if(ae(!!n),typeof n=="string"){let e=0,t=KP.exec(n);if(ae(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ye(n.seconds),nanos:ye(n.nanos)}}function ye(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function cn(n){return typeof n=="string"?Be.fromBase64String(n):Be.fromUint8Array(n)}var tD="server_timestamp",nD="__type__",rD="__previous_value__",iD="__local_write_time__";function hg(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[nD])===null||t===void 0?void 0:t.stringValue)===tD}function Tu(n){let e=n.mapValue.fields[rD];return hg(e)?Tu(e):e}function Xo(n){let e=an(n.mapValue.fields[iD].timestampValue);return new Oe(e.seconds,e.nanos)}var Of=class{constructor(e,t,r,i,o,s,c,u,d){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=d}},Gc="(default)",Wc=class n{constructor(e,t){this.projectId=e,this.database=t||Gc}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===Gc}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var fg="__type__",oD="__max__",kc={mapValue:{fields:{__type__:{stringValue:oD}}}},pg="__vector__",mi="value";function An(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?hg(n)?4:aD(n)?9007199254740991:sD(n)?10:11:L()}function Ht(n,e){if(n===e)return!0;let t=An(n);if(t!==An(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Xo(n).isEqual(Xo(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=an(i.timestampValue),c=an(o.timestampValue);return s.seconds===c.seconds&&s.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return cn(i.bytesValue).isEqual(cn(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return ye(i.geoPointValue.latitude)===ye(o.geoPointValue.latitude)&&ye(i.geoPointValue.longitude)===ye(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return ye(i.integerValue)===ye(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=ye(i.doubleValue),c=ye(o.doubleValue);return s===c?Jo(s)===Jo(c):isNaN(s)&&isNaN(c)}return!1}(n,e);case 9:return gi(n.arrayValue.values||[],e.arrayValue.values||[],Ht);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},c=o.mapValue.fields||{};if(tE(s)!==tE(c))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(c[u]===void 0||!Ht(s[u],c[u])))return!1;return!0}(n,e);default:return L()}}function es(n,e){return(n.values||[]).find(t=>Ht(t,e))!==void 0}function yi(n,e){if(n===e)return 0;let t=An(n),r=An(e);if(t!==r)return G(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return G(n.booleanValue,e.booleanValue);case 2:return function(o,s){let c=ye(o.integerValue||o.doubleValue),u=ye(s.integerValue||s.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1}(n,e);case 3:return nE(n.timestampValue,e.timestampValue);case 4:return nE(Xo(n),Xo(e));case 5:return Pf(n.stringValue,e.stringValue);case 6:return function(o,s){let c=cn(o),u=cn(s);return c.compareTo(u)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){let c=o.split("/"),u=s.split("/");for(let d=0;d<c.length&&d<u.length;d++){let f=G(c[d],u[d]);if(f!==0)return f}return G(c.length,u.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){let c=G(ye(o.latitude),ye(s.latitude));return c!==0?c:G(ye(o.longitude),ye(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return rE(n.arrayValue,e.arrayValue);case 10:return function(o,s){var c,u,d,f;let g=o.fields||{},v=s.fields||{},m=(c=g[mi])===null||c===void 0?void 0:c.arrayValue,S=(u=v[mi])===null||u===void 0?void 0:u.arrayValue,N=G(((d=m?.values)===null||d===void 0?void 0:d.length)||0,((f=S?.values)===null||f===void 0?void 0:f.length)||0);return N!==0?N:rE(m,S)}(n.mapValue,e.mapValue);case 11:return function(o,s){if(o===kc.mapValue&&s===kc.mapValue)return 0;if(o===kc.mapValue)return 1;if(s===kc.mapValue)return-1;let c=o.fields||{},u=Object.keys(c),d=s.fields||{},f=Object.keys(d);u.sort(),f.sort();for(let g=0;g<u.length&&g<f.length;++g){let v=Pf(u[g],f[g]);if(v!==0)return v;let m=yi(c[u[g]],d[f[g]]);if(m!==0)return m}return G(u.length,f.length)}(n.mapValue,e.mapValue);default:throw L()}}function nE(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return G(n,e);let t=an(n),r=an(e),i=G(t.seconds,r.seconds);return i!==0?i:G(t.nanos,r.nanos)}function rE(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=yi(t[i],r[i]);if(o)return o}return G(t.length,r.length)}function vi(n){return Ff(n)}function Ff(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let r=an(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return cn(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return V.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=Ff(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${Ff(t.fields[s])}`;return i+"}"}(n.mapValue):L()}function Vc(n){switch(An(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=Tu(n);return e?16+Vc(e):16;case 5:return 2*n.stringValue.length;case 6:return cn(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+Vc(o),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return yr(r.fields,(o,s)=>{i+=o.length+Vc(s)}),i}(n.mapValue);default:throw L()}}function iE(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Vf(n){return!!n&&"integerValue"in n}function gg(n){return!!n&&"arrayValue"in n}function oE(n){return!!n&&"nullValue"in n}function sE(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Lc(n){return!!n&&"mapValue"in n}function sD(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[fg])===null||t===void 0?void 0:t.stringValue)===pg}function Wo(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return yr(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Wo(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Wo(n.arrayValue.values[t]);return e}return Object.assign({},n)}function aD(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===oD}var P$={mapValue:{fields:{[fg]:{stringValue:pg},[mi]:{arrayValue:{}}}}};var Dt=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Lc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Wo(t)}setAll(e){let t=ot.emptyPath(),r={},i=[];e.forEach((s,c)=>{if(!t.isImmediateParentOf(c)){let u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=c.popLast()}s?r[c.lastSegment()]=Wo(s):i.push(c.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());Lc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ht(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Lc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){yr(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(Wo(this.value))}};function cD(n){let e=[];return yr(n.fields,(t,r)=>{let i=new ot([t]);if(Lc(r)){let o=cD(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new jt(e)}var Ct=class n{constructor(e,t,r,i,o,s,c){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=c}static newInvalidDocument(e){return new n(e,0,B.min(),B.min(),B.min(),Dt.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,B.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,B.min(),B.min(),Dt.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,B.min(),B.min(),Dt.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(B.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Dt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Dt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=B.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var _i=class{constructor(e,t){this.position=e,this.inclusive=t}};function aE(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=V.comparator(V.fromName(s.referenceValue),t.key):r=yi(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function cE(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ht(n.position[t],e.position[t]))return!1;return!0}var Ii=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function QP(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var Kc=class{},be=class n extends Kc{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new jf(e,t,r):t==="array-contains"?new $f(e,r):t==="in"?new Hf(e,r):t==="not-in"?new qf(e,r):t==="array-contains-any"?new zf(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new Uf(e,r):new Bf(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(yi(t,this.value)):t!==null&&An(this.value)===An(t)&&this.matchesComparison(yi(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return L()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},bt=class n extends Kc{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new n(e,t)}matches(e){return uD(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}};function uD(n){return n.op==="and"}function lD(n){return YP(n)&&uD(n)}function YP(n){for(let e of n.filters)if(e instanceof bt)return!1;return!0}function Lf(n){if(n instanceof be)return n.field.canonicalString()+n.op.toString()+vi(n.value);if(lD(n))return n.filters.map(e=>Lf(e)).join(",");{let e=n.filters.map(t=>Lf(t)).join(",");return`${n.op}(${e})`}}function dD(n,e){return n instanceof be?function(r,i){return i instanceof be&&r.op===i.op&&r.field.isEqual(i.field)&&Ht(r.value,i.value)}(n,e):n instanceof bt?function(r,i){return i instanceof bt&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,c)=>o&&dD(s,i.filters[c]),!0):!1}(n,e):void L()}function hD(n){return n instanceof be?function(t){return`${t.field.canonicalString()} ${t.op} ${vi(t.value)}`}(n):n instanceof bt?function(t){return t.op.toString()+" {"+t.getFilters().map(hD).join(" ,")+"}"}(n):"Filter"}var jf=class extends be{constructor(e,t,r){super(e,t,r),this.key=V.fromName(r.referenceValue)}matches(e){let t=V.comparator(e.key,this.key);return this.matchesComparison(t)}},Uf=class extends be{constructor(e,t){super(e,"in",t),this.keys=fD("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},Bf=class extends be{constructor(e,t){super(e,"not-in",t),this.keys=fD("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function fD(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>V.fromName(r.referenceValue))}var $f=class extends be{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return gg(t)&&es(t.arrayValue,this.value)}},Hf=class extends be{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&es(this.value.arrayValue,t)}},qf=class extends be{constructor(e,t){super(e,"not-in",t)}matches(e){if(es(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&!es(this.value.arrayValue,t)}},zf=class extends be{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!gg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>es(this.value.arrayValue,r))}};var Gf=class{constructor(e,t=null,r=[],i=[],o=null,s=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=c,this.le=null}};function uE(n,e=null,t=[],r=[],i=null,o=null,s=null){return new Gf(n,e,t,r,i,o,s)}function mg(n){let e=U(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Lf(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Du(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>vi(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>vi(r)).join(",")),e.le=t}return e.le}function yg(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!QP(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!dD(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!cE(n.startAt,e.startAt)&&cE(n.endAt,e.endAt)}function Wf(n){return V.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var dr=class{constructor(e,t=null,r=[],i=[],o=null,s="F",c=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=c,this.endAt=u,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}};function ZP(n,e,t,r,i,o,s,c){return new dr(n,e,t,r,i,o,s,c)}function vg(n){return new dr(n)}function lE(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function pD(n){return n.collectionGroup!==null}function Ko(n){let e=U(n);if(e.he===null){e.he=[];let t=new Set;for(let o of e.explicitOrderBy)e.he.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let c=new Pe(ot.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(d=>{d.isInequality()&&(c=c.add(d.field))})}),c})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.he.push(new Ii(o,r))}),t.has(ot.keyField().canonicalString())||e.he.push(new Ii(ot.keyField(),r))}return e.he}function Bt(n){let e=U(n);return e.Pe||(e.Pe=JP(e,Ko(n))),e.Pe}function JP(n,e){if(n.limitType==="F")return uE(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new Ii(i.field,o)});let t=n.endAt?new _i(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new _i(n.startAt.position,n.startAt.inclusive):null;return uE(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Kf(n,e){let t=n.filters.concat([e]);return new dr(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Qf(n,e,t){return new dr(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Cu(n,e){return yg(Bt(n),Bt(e))&&n.limitType===e.limitType}function gD(n){return`${mg(Bt(n))}|lt:${n.limitType}`}function ci(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>hD(i)).join(", ")}]`),Du(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>vi(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>vi(i)).join(",")),`Target(${r})`}(Bt(n))}; limitType=${n.limitType})`}function bu(n,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):V.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(let o of Ko(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(s,c,u){let d=aE(s,c,u);return s.inclusive?d<=0:d<0}(r.startAt,Ko(r),i)||r.endAt&&!function(s,c,u){let d=aE(s,c,u);return s.inclusive?d>=0:d>0}(r.endAt,Ko(r),i))}(n,e)}function XP(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function mD(n){return(e,t)=>{let r=!1;for(let i of Ko(n)){let o=ex(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function ex(n,e,t){let r=n.field.isKeyField()?V.comparator(e.key,t.key):function(o,s,c){let u=s.data.field(o),d=c.data.field(o);return u!==null&&d!==null?yi(u,d):L()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return L()}}var un=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){yr(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return eD(this.inner)}size(){return this.innerSize}};var tx=new we(V.comparator);function ln(){return tx}var yD=new we(V.comparator);function Go(...n){let e=yD;for(let t of n)e=e.insert(t.key,t);return e}function vD(n){let e=yD;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function or(){return Qo()}function _D(){return Qo()}function Qo(){return new un(n=>n.toString(),(n,e)=>n.isEqual(e))}var nx=new we(V.comparator),rx=new Pe(V.comparator);function J(...n){let e=rx;for(let t of n)e=e.add(t);return e}var ix=new Pe(G);function ox(){return ix}function _g(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Jo(e)?"-0":e}}function ID(n){return{integerValue:""+n}}function sx(n,e){return OP(e)?ID(e):_g(n,e)}var wi=class{constructor(){this._=void 0}};function ax(n,e,t){return n instanceof Ei?function(i,o){let s={fields:{[nD]:{stringValue:tD},[iD]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&hg(o)&&(o=Tu(o)),o&&(s.fields[rD]=o),{mapValue:s}}(t,e):n instanceof hr?ED(n,e):n instanceof fr?DD(n,e):function(i,o){let s=wD(i,o),c=dE(s)+dE(i.Ie);return Vf(s)&&Vf(i.Ie)?ID(c):_g(i.serializer,c)}(n,e)}function cx(n,e,t){return n instanceof hr?ED(n,e):n instanceof fr?DD(n,e):t}function wD(n,e){return n instanceof Di?function(r){return Vf(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var Ei=class extends wi{},hr=class extends wi{constructor(e){super(),this.elements=e}};function ED(n,e){let t=TD(e);for(let r of n.elements)t.some(i=>Ht(i,r))||t.push(r);return{arrayValue:{values:t}}}var fr=class extends wi{constructor(e){super(),this.elements=e}};function DD(n,e){let t=TD(e);for(let r of n.elements)t=t.filter(i=>!Ht(i,r));return{arrayValue:{values:t}}}var Di=class extends wi{constructor(e,t){super(),this.serializer=e,this.Ie=t}};function dE(n){return ye(n.integerValue||n.doubleValue)}function TD(n){return gg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function ux(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof hr&&i instanceof hr||r instanceof fr&&i instanceof fr?gi(r.elements,i.elements,Ht):r instanceof Di&&i instanceof Di?Ht(r.Ie,i.Ie):r instanceof Ei&&i instanceof Ei}(n.transform,e.transform)}var Yf=class{constructor(e,t){this.version=e,this.transformResults=t}},cr=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function jc(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var Ti=class{};function CD(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Qc(n.key,cr.none()):new pr(n.key,n.data,cr.none());{let t=n.data,r=Dt.empty(),i=new Pe(ot.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new dn(n.key,r,new jt(i.toArray()),cr.none())}}function lx(n,e,t){n instanceof pr?function(i,o,s){let c=i.value.clone(),u=fE(i.fieldTransforms,o,s.transformResults);c.setAll(u),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(n,e,t):n instanceof dn?function(i,o,s){if(!jc(i.precondition,o))return void o.convertToUnknownDocument(s.version);let c=fE(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(bD(i)),u.setAll(c),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(n,e,t):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,t)}function Yo(n,e,t,r){return n instanceof pr?function(o,s,c,u){if(!jc(o.precondition,s))return c;let d=o.value.clone(),f=pE(o.fieldTransforms,u,s);return d.setAll(f),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),null}(n,e,t,r):n instanceof dn?function(o,s,c,u){if(!jc(o.precondition,s))return c;let d=pE(o.fieldTransforms,u,s),f=s.data;return f.setAll(bD(o)),f.setAll(d),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(g=>g.field))}(n,e,t,r):function(o,s,c){return jc(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):c}(n,e,t)}function dx(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),o=wD(r.transform,i||null);o!=null&&(t===null&&(t=Dt.empty()),t.set(r.field,o))}return t||null}function hE(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&gi(r,i,(o,s)=>ux(o,s))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var pr=class extends Ti{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},dn=class extends Ti{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function bD(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function fE(n,e,t){let r=new Map;ae(n.length===t.length);for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,c=e.data.field(o.field);r.set(o.field,cx(s,c,t[i]))}return r}function pE(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,ax(o,s,e))}return r}var Qc=class extends Ti{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Zf=class extends Ti{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Jf=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&lx(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=Yo(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=Yo(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=_D();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,c=this.applyToLocalView(s,o.mutatedFields);c=t.has(i.key)?null:c;let u=CD(s,c);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(B.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),J())}isEqual(e){return this.batchId===e.batchId&&gi(this.mutations,e.mutations,(t,r)=>hE(t,r))&&gi(this.baseMutations,e.baseMutations,(t,r)=>hE(t,r))}},Xf=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){ae(e.mutations.length===r.length);let i=function(){return nx}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new n(e,t,r,i)}};var ep=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var tp=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var Te,te;function hx(n){switch(n){case R.OK:return L();case R.CANCELLED:case R.UNKNOWN:case R.DEADLINE_EXCEEDED:case R.RESOURCE_EXHAUSTED:case R.INTERNAL:case R.UNAVAILABLE:case R.UNAUTHENTICATED:return!1;case R.INVALID_ARGUMENT:case R.NOT_FOUND:case R.ALREADY_EXISTS:case R.PERMISSION_DENIED:case R.FAILED_PRECONDITION:case R.ABORTED:case R.OUT_OF_RANGE:case R.UNIMPLEMENTED:case R.DATA_LOSS:return!0;default:return L()}}function SD(n){if(n===void 0)return sn("GRPC error has no .code"),R.UNKNOWN;switch(n){case Te.OK:return R.OK;case Te.CANCELLED:return R.CANCELLED;case Te.UNKNOWN:return R.UNKNOWN;case Te.DEADLINE_EXCEEDED:return R.DEADLINE_EXCEEDED;case Te.RESOURCE_EXHAUSTED:return R.RESOURCE_EXHAUSTED;case Te.INTERNAL:return R.INTERNAL;case Te.UNAVAILABLE:return R.UNAVAILABLE;case Te.UNAUTHENTICATED:return R.UNAUTHENTICATED;case Te.INVALID_ARGUMENT:return R.INVALID_ARGUMENT;case Te.NOT_FOUND:return R.NOT_FOUND;case Te.ALREADY_EXISTS:return R.ALREADY_EXISTS;case Te.PERMISSION_DENIED:return R.PERMISSION_DENIED;case Te.FAILED_PRECONDITION:return R.FAILED_PRECONDITION;case Te.ABORTED:return R.ABORTED;case Te.OUT_OF_RANGE:return R.OUT_OF_RANGE;case Te.UNIMPLEMENTED:return R.UNIMPLEMENTED;case Te.DATA_LOSS:return R.DATA_LOSS;default:return L()}}(te=Te||(Te={}))[te.OK=0]="OK",te[te.CANCELLED=1]="CANCELLED",te[te.UNKNOWN=2]="UNKNOWN",te[te.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",te[te.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",te[te.NOT_FOUND=5]="NOT_FOUND",te[te.ALREADY_EXISTS=6]="ALREADY_EXISTS",te[te.PERMISSION_DENIED=7]="PERMISSION_DENIED",te[te.UNAUTHENTICATED=16]="UNAUTHENTICATED",te[te.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",te[te.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",te[te.ABORTED=10]="ABORTED",te[te.OUT_OF_RANGE=11]="OUT_OF_RANGE",te[te.UNIMPLEMENTED=12]="UNIMPLEMENTED",te[te.INTERNAL=13]="INTERNAL",te[te.UNAVAILABLE=14]="UNAVAILABLE",te[te.DATA_LOSS=15]="DATA_LOSS";var gE=null;var fx=new rn([4294967295,4294967295],0);function mE(n){let e=jE().encode(n),t=new mf;return t.update(e),new Uint8Array(t.digest())}function yE(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new rn([t,r],0),new rn([i,o],0)]}var np=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new sr(`Invalid padding: ${t}`);if(r<0)throw new sr(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new sr(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new sr(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=rn.fromNumber(this.Ee)}Ae(e,t,r){let i=e.add(t.multiply(rn.fromNumber(r)));return i.compare(fx)===1&&(i=new rn([i.getBits(0),i.getBits(1)],0)),i.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;let t=mE(e),[r,i]=yE(t);for(let o=0;o<this.hashCount;o++){let s=this.Ae(r,i,o);if(!this.Re(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(c=>s.insert(c)),s}insert(e){if(this.Ee===0)return;let t=mE(e),[r,i]=yE(t);for(let o=0;o<this.hashCount;o++){let s=this.Ae(r,i,o);this.Ve(s)}}Ve(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},sr=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Yc=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,ts.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(B.min(),i,new we(G),ln(),J())}},ts=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,J(),J(),J())}};var hi=class{constructor(e,t,r,i){this.me=e,this.removedTargetIds=t,this.key=r,this.fe=i}},Zc=class{constructor(e,t){this.targetId=e,this.ge=t}},Jc=class{constructor(e,t,r=Be.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},Xc=class{constructor(){this.pe=0,this.ye=vE(),this.we=Be.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=J(),t=J(),r=J();return this.ye.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:L()}}),new ts(this.we,this.Se,e,t,r)}Me(){this.be=!1,this.ye=vE()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,ae(this.pe>=0)}Le(){this.be=!0,this.Se=!0}},rp=class{constructor(e){this.ke=e,this.qe=new Map,this.Qe=ln(),this.$e=Oc(),this.Ue=Oc(),this.Ke=new we(G)}We(e){for(let t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(let t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{let r=this.He(t);switch(e.state){case 0:this.Je(t)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(t);break;case 3:this.Je(t)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),r.Ce(e.resumeToken));break;default:L()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((r,i)=>{this.Je(i)&&t(i)})}Ze(e){let t=e.targetId,r=e.ge.count,i=this.Xe(t);if(i){let o=i.target;if(Wf(o))if(r===0){let s=new V(o.path);this.ze(t,s,Ct.newNoDocument(s,B.min()))}else ae(r===1);else{let s=this.et(t);if(s!==r){let c=this.tt(e),u=c?this.nt(c,e,s):1;if(u!==0){this.Ye(t);let d=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,d)}gE?.rt(function(f,g,v,m,S){var N,P,F,$,Q,he;let $e={localCacheCount:f,existenceFilterCount:g.count,databaseId:v.database,projectId:v.projectId},ce=g.unchangedNames;return ce&&($e.bloomFilter={applied:S===0,hashCount:(N=ce?.hashCount)!==null&&N!==void 0?N:0,bitmapLength:($=(F=(P=ce?.bits)===null||P===void 0?void 0:P.bitmap)===null||F===void 0?void 0:F.length)!==null&&$!==void 0?$:0,padding:(he=(Q=ce?.bits)===null||Q===void 0?void 0:Q.padding)!==null&&he!==void 0?he:0,mightContain:E=>{var y;return(y=m?.mightContain(E))!==null&&y!==void 0&&y}}),$e}(s,e.ge,this.ke.it(),c,u))}}}}tt(e){let t=e.ge.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,c;try{s=cn(r).toUint8Array()}catch(u){if(u instanceof zc)return pi("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{c=new np(s,i,o)}catch(u){return pi(u instanceof sr?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return c.Ee===0?null:c}nt(e,t,r){return t.ge.count===r-this.st(e,t.targetId)?0:2}st(e,t){let r=this.ke.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.ke.it(),c=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.ze(t,o,null),i++)}),i}ot(e){let t=new Map;this.qe.forEach((o,s)=>{let c=this.Xe(s);if(c){if(o.current&&Wf(c.target)){let u=new V(c.target.path);this._t(u).has(s)||this.ut(s,u)||this.ze(s,u,Ct.newNoDocument(u,e))}o.ve&&(t.set(s,o.Fe()),o.Me())}});let r=J();this.Ue.forEach((o,s)=>{let c=!0;s.forEachWhile(u=>{let d=this.Xe(u);return!d||d.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(o))}),this.Qe.forEach((o,s)=>s.setReadTime(e));let i=new Yc(e,t,this.Ke,this.Qe,r);return this.Qe=ln(),this.$e=Oc(),this.Ue=Oc(),this.Ke=new we(G),i}Ge(e,t){if(!this.Je(e))return;let r=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,r),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ue=this.Ue.insert(t.key,this.ct(t.key).add(e))}ze(e,t,r){if(!this.Je(e))return;let i=this.He(e);this.ut(e,t)?i.xe(t,1):i.Oe(t),this.Ue=this.Ue.insert(t,this.ct(t).delete(e)),this.Ue=this.Ue.insert(t,this.ct(t).add(e)),r&&(this.Qe=this.Qe.insert(t,r))}removeTarget(e){this.qe.delete(e)}et(e){let t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new Xc,this.qe.set(e,t)),t}ct(e){let t=this.Ue.get(e);return t||(t=new Pe(G),this.Ue=this.Ue.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new Pe(G),this.$e=this.$e.insert(e,t)),t}Je(e){let t=this.Xe(e)!==null;return t||k("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){let t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new Xc),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}};function Oc(){return new we(V.comparator)}function vE(){return new we(V.comparator)}var px={asc:"ASCENDING",desc:"DESCENDING"},gx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},mx={and:"AND",or:"OR"},ip=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function op(n,e){return n.useProto3Json||Du(e)?e:{value:e}}function eu(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function AD(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function yx(n,e){return eu(n,e.toTimestamp())}function $t(n){return ae(!!n),B.fromTimestamp(function(t){let r=an(t);return new Oe(r.seconds,r.nanos)}(n))}function Ig(n,e){return sp(n,e).canonicalString()}function sp(n,e){let t=function(i){return new _e(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function RD(n){let e=_e.fromString(n);return ae(kD(e)),e}function ap(n,e){return Ig(n.databaseId,e.path)}function Ef(n,e){let t=RD(e);if(t.get(1)!==n.databaseId.projectId)throw new O(R.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new O(R.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new V(ND(t))}function MD(n,e){return Ig(n.databaseId,e)}function vx(n){let e=RD(n);return e.length===4?_e.emptyPath():ND(e)}function cp(n){return new _e(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function ND(n){return ae(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function _E(n,e,t){return{name:ap(n,e),fields:t.value.mapValue.fields}}function _x(n,e){let t;if("targetChange"in e){e.targetChange;let r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:L()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(d,f){return d.useProto3Json?(ae(f===void 0||typeof f=="string"),Be.fromBase64String(f||"")):(ae(f===void 0||f instanceof Buffer||f instanceof Uint8Array),Be.fromUint8Array(f||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,c=s&&function(d){let f=d.code===void 0?R.UNKNOWN:SD(d.code);return new O(f,d.message||"")}(s);t=new Jc(r,i,o,c||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=Ef(n,r.document.name),o=$t(r.document.updateTime),s=r.document.createTime?$t(r.document.createTime):B.min(),c=new Dt({mapValue:{fields:r.document.fields}}),u=Ct.newFoundDocument(i,o,s,c),d=r.targetIds||[],f=r.removedTargetIds||[];t=new hi(d,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=Ef(n,r.document),o=r.readTime?$t(r.readTime):B.min(),s=Ct.newNoDocument(i,o),c=r.removedTargetIds||[];t=new hi([],c,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=Ef(n,r.document),o=r.removedTargetIds||[];t=new hi([],o,i,null)}else{if(!("filter"in e))return L();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new tp(i,o),c=r.targetId;t=new Zc(c,s)}}return t}function Ix(n,e){let t;if(e instanceof pr)t={update:_E(n,e.key,e.value)};else if(e instanceof Qc)t={delete:ap(n,e.key)};else if(e instanceof dn)t={update:_E(n,e.key,e.data),updateMask:Rx(e.fieldMask)};else{if(!(e instanceof Zf))return L();t={verify:ap(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let c=s.transform;if(c instanceof Ei)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof hr)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof fr)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Di)return{fieldPath:s.field.canonicalString(),increment:c.Ie};throw L()}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:yx(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:L()}(n,e.precondition)),t}function wx(n,e){return n&&n.length>0?(ae(e!==void 0),n.map(t=>function(i,o){let s=i.updateTime?$t(i.updateTime):$t(o);return s.isEqual(B.min())&&(s=$t(o)),new Yf(s,i.transformResults||[])}(t,e))):[]}function Ex(n,e){return{documents:[MD(n,e.path)]}}function Dx(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=MD(n,i);let o=function(d){if(d.length!==0)return xD(bt.create(d,"and"))}(e.filters);o&&(t.structuredQuery.where=o);let s=function(d){if(d.length!==0)return d.map(f=>function(v){return{field:ui(v.field),direction:bx(v.dir)}}(f))}(e.orderBy);s&&(t.structuredQuery.orderBy=s);let c=op(n,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{ht:t,parent:i}}function Tx(n){let e=vx(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){ae(r===1);let f=t.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let o=[];t.where&&(o=function(g){let v=PD(g);return v instanceof bt&&lD(v)?v.getFilters():[v]}(t.where));let s=[];t.orderBy&&(s=function(g){return g.map(v=>function(S){return new Ii(li(S.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(v))}(t.orderBy));let c=null;t.limit&&(c=function(g){let v;return v=typeof g=="object"?g.value:g,Du(v)?null:v}(t.limit));let u=null;t.startAt&&(u=function(g){let v=!!g.before,m=g.values||[];return new _i(m,v)}(t.startAt));let d=null;return t.endAt&&(d=function(g){let v=!g.before,m=g.values||[];return new _i(m,v)}(t.endAt)),ZP(e,i,s,o,c,"F",u,d)}function Cx(n,e){let t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return L()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function PD(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=li(t.unaryFilter.field);return be.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=li(t.unaryFilter.field);return be.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=li(t.unaryFilter.field);return be.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=li(t.unaryFilter.field);return be.create(s,"!=",{nullValue:"NULL_VALUE"});default:return L()}}(n):n.fieldFilter!==void 0?function(t){return be.create(li(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return L()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return bt.create(t.compositeFilter.filters.map(r=>PD(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return L()}}(t.compositeFilter.op))}(n):L()}function bx(n){return px[n]}function Sx(n){return gx[n]}function Ax(n){return mx[n]}function ui(n){return{fieldPath:n.canonicalString()}}function li(n){return ot.fromServerFormat(n.fieldPath)}function xD(n){return n instanceof be?function(t){if(t.op==="=="){if(sE(t.value))return{unaryFilter:{field:ui(t.field),op:"IS_NAN"}};if(oE(t.value))return{unaryFilter:{field:ui(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(sE(t.value))return{unaryFilter:{field:ui(t.field),op:"IS_NOT_NAN"}};if(oE(t.value))return{unaryFilter:{field:ui(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ui(t.field),op:Sx(t.op),value:t.value}}}(n):n instanceof bt?function(t){let r=t.getFilters().map(i=>xD(i));return r.length===1?r[0]:{compositeFilter:{op:Ax(t.op),filters:r}}}(n):L()}function Rx(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function kD(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var ns=class n{constructor(e,t,r,i,o=B.min(),s=B.min(),c=Be.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=c,this.expectedCount=u}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var up=class{constructor(e){this.Tt=e}};function Mx(n){let e=Tx({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Qf(e,e.limit,"L"):e}var tu=class{constructor(){}At(e,t){this.Rt(e,t),t.Vt()}Rt(e,t){if("nullValue"in e)this.ft(t,5);else if("booleanValue"in e)this.ft(t,10),t.gt(e.booleanValue?1:0);else if("integerValue"in e)this.ft(t,15),t.gt(ye(e.integerValue));else if("doubleValue"in e){let r=ye(e.doubleValue);isNaN(r)?this.ft(t,13):(this.ft(t,15),Jo(r)?t.gt(0):t.gt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.ft(t,20),typeof r=="string"&&(r=an(r)),t.yt(`${r.seconds||""}`),t.gt(r.nanos||0)}else if("stringValue"in e)this.wt(e.stringValue,t),this.St(t);else if("bytesValue"in e)this.ft(t,30),t.bt(cn(e.bytesValue)),this.St(t);else if("referenceValue"in e)this.Dt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.ft(t,45),t.gt(r.latitude||0),t.gt(r.longitude||0)}else"mapValue"in e?aD(e)?this.ft(t,Number.MAX_SAFE_INTEGER):sD(e)?this.vt(e.mapValue,t):(this.Ct(e.mapValue,t),this.St(t)):"arrayValue"in e?(this.Ft(e.arrayValue,t),this.St(t)):L()}wt(e,t){this.ft(t,25),this.Mt(e,t)}Mt(e,t){t.yt(e)}Ct(e,t){let r=e.fields||{};this.ft(t,55);for(let i of Object.keys(r))this.wt(i,t),this.Rt(r[i],t)}vt(e,t){var r,i;let o=e.fields||{};this.ft(t,53);let s=mi,c=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.ft(t,15),t.gt(ye(c)),this.wt(s,t),this.Rt(o[s],t)}Ft(e,t){let r=e.values||[];this.ft(t,50);for(let i of r)this.Rt(i,t)}Dt(e,t){this.ft(t,37),V.fromName(e).path.forEach(r=>{this.ft(t,60),this.Mt(r,t)})}ft(e,t){e.gt(t)}St(e){e.gt(2)}};tu.xt=new tu;var lp=class{constructor(){this.Tn=new dp}addToCollectionParentIndex(e,t){return this.Tn.add(t),M.resolve()}getCollectionParents(e,t){return M.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return M.resolve()}deleteFieldIndex(e,t){return M.resolve()}deleteAllFieldIndexes(e){return M.resolve()}createTargetIndexes(e,t){return M.resolve()}getDocumentsMatchingTarget(e,t){return M.resolve(null)}getIndexType(e,t){return M.resolve(0)}getFieldIndexes(e,t){return M.resolve([])}getNextCollectionGroupToUpdate(e){return M.resolve(null)}getMinOffset(e,t){return M.resolve(lr.min())}getMinOffsetFromCollectionGroup(e,t){return M.resolve(lr.min())}updateCollectionGroup(e,t,r){return M.resolve()}updateIndexEntries(e,t){return M.resolve()}},dp=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Pe(_e.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Pe(_e.comparator)).toArray()}};var x$=new Uint8Array(0);var IE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},OD=41943040,lt=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}};lt.DEFAULT_COLLECTION_PERCENTILE=10,lt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,lt.DEFAULT=new lt(OD,lt.DEFAULT_COLLECTION_PERCENTILE,lt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),lt.DISABLED=new lt(-1,0,0);var rs=class n{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new n(0)}static Kn(){return new n(-1)}};var wE="LruGarbageCollector",Nx=1048576;function EE([n,e],[t,r]){let i=G(n,t);return i===0?G(e,r):i}var hp=class{constructor(e){this.Hn=e,this.buffer=new Pe(EE),this.Jn=0}Yn(){return++this.Jn}Zn(e){let t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();EE(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},fp=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){k(wE,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>b(this,null,function*(){this.Xn=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(t){Ni(t)?k(wE,"Ignoring IndexedDB error during garbage collection: ",t):yield Mi(t)}yield this.er(3e5)}))}},pp=class{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return M.resolve(lg.ae);let r=new hp(t);return this.tr.forEachTarget(e,i=>r.Zn(i.sequenceNumber)).next(()=>this.tr.rr(e,i=>r.Zn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.tr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(k("LruGarbageCollector","Garbage collection skipped; disabled"),M.resolve(IE)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(k("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),IE):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let r,i,o,s,c,u,d,f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(g=>(g>this.params.maximumSequenceNumbersToCollect?(k("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),i=this.params.maximumSequenceNumbersToCollect):i=g,s=Date.now(),this.nthSequenceNumber(e,i))).next(g=>(r=g,c=Date.now(),this.removeTargets(e,r,t))).next(g=>(o=g,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(g=>(d=Date.now(),ai()<=K.DEBUG&&k("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-f}ms
	Determined least recently used ${i} in `+(c-s)+`ms
	Removed ${o} targets in `+(u-c)+`ms
	Removed ${g} documents in `+(d-u)+`ms
Total Duration: ${d-f}ms`),M.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:g})))}};function Px(n,e){return new pp(n,e)}var gp=class{constructor(){this.changes=new un(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ct.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?M.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var mp=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var yp=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Yo(r.mutation,i,jt.empty(),Oe.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,J()).next(()=>r))}getLocalViewOfDocuments(e,t,r=J()){let i=or();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=Go();return o.forEach((c,u)=>{s=s.insert(c,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=or();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,J()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,c)=>{t.set(s,c)})})}computeViews(e,t,r,i){let o=ln(),s=Qo(),c=function(){return Qo()}();return t.forEach((u,d)=>{let f=r.get(d.key);i.has(d.key)&&(f===void 0||f.mutation instanceof dn)?o=o.insert(d.key,d):f!==void 0?(s.set(d.key,f.mutation.getFieldMask()),Yo(f.mutation,d,f.mutation.getFieldMask(),Oe.now())):s.set(d.key,jt.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((d,f)=>s.set(d,f)),t.forEach((d,f)=>{var g;return c.set(d,new mp(f,(g=s.get(d))!==null&&g!==void 0?g:null))}),c))}recalculateAndSaveOverlays(e,t){let r=Qo(),i=new we((s,c)=>s-c),o=J();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let c of s)c.keys().forEach(u=>{let d=t.get(u);if(d===null)return;let f=r.get(u)||jt.empty();f=c.applyToLocalView(d,f),r.set(u,f);let g=(i.get(c.batchId)||J()).add(u);i=i.insert(c.batchId,g)})}).next(()=>{let s=[],c=i.getReverseIterator();for(;c.hasNext();){let u=c.getNext(),d=u.key,f=u.value,g=_D();f.forEach(v=>{if(!o.has(v)){let m=CD(t.get(v),r.get(v));m!==null&&g.set(v,m),o=o.add(v)}}),s.push(this.documentOverlayCache.saveOverlays(e,d,g))}return M.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(s){return V.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):pD(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):M.resolve(or()),c=Zo,u=o;return s.next(d=>M.forEach(d,(f,g)=>(c<g.largestBatchId&&(c=g.largestBatchId),o.get(f)?M.resolve():this.remoteDocumentCache.getEntry(e,f).next(v=>{u=u.insert(f,v)}))).next(()=>this.populateOverlays(e,d,o)).next(()=>this.computeViews(e,u,d,J())).next(f=>({batchId:c,changes:vD(f)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new V(t)).next(r=>{let i=Go();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=Go();return this.indexManager.getCollectionParents(e,o).next(c=>M.forEach(c,u=>{let d=function(g,v){return new dr(v,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(t,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next(f=>{f.forEach((g,v)=>{s=s.insert(g,v)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((u,d)=>{let f=d.getKey();s.get(f)===null&&(s=s.insert(f,Ct.newInvalidDocument(f)))});let c=Go();return s.forEach((u,d)=>{let f=o.get(u);f!==void 0&&Yo(f.mutation,d,jt.empty(),Oe.now()),bu(t,d)&&(c=c.insert(u,d))}),c})}};var vp=class{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return M.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:$t(i.createTime)}}(t)),M.resolve()}getNamedQuery(e,t){return M.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(i){return{name:i.name,query:Mx(i.bundledQuery),readTime:$t(i.readTime)}}(t)),M.resolve()}};var _p=class{constructor(){this.overlays=new we(V.comparator),this.Rr=new Map}getOverlay(e,t){return M.resolve(this.overlays.get(t))}getOverlays(e,t){let r=or();return M.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.Et(e,t,o)}),M.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.Rr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Rr.delete(r)),M.resolve()}getOverlaysForCollection(e,t,r){let i=or(),o=t.length+1,s=new V(t.child("")),c=this.overlays.getIteratorFrom(s);for(;c.hasNext();){let u=c.getNext().value,d=u.getKey();if(!t.isPrefixOf(d.path))break;d.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return M.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new we((d,f)=>d-f),s=this.overlays.getIterator();for(;s.hasNext();){let d=s.getNext().value;if(d.getKey().getCollectionGroup()===t&&d.largestBatchId>r){let f=o.get(d.largestBatchId);f===null&&(f=or(),o=o.insert(d.largestBatchId,f)),f.set(d.getKey(),d)}}let c=or(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((d,f)=>c.set(d,f)),!(c.size()>=i)););return M.resolve(c)}Et(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Rr.get(i.largestBatchId).delete(r.key);this.Rr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new ep(t,r));let o=this.Rr.get(t);o===void 0&&(o=J(),this.Rr.set(t,o)),this.Rr.set(t,o.add(r.key))}};var Ip=class{constructor(){this.sessionToken=Be.EMPTY_BYTE_STRING}getSessionToken(e){return M.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,M.resolve()}};var is=class{constructor(){this.Vr=new Pe(Ce.mr),this.gr=new Pe(Ce.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){let r=new Ce(e,t);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.wr(new Ce(e,t))}Sr(e,t){e.forEach(r=>this.removeReference(r,t))}br(e){let t=new V(new _e([])),r=new Ce(t,e),i=new Ce(t,e+1),o=[];return this.gr.forEachInRange([r,i],s=>{this.wr(s),o.push(s.key)}),o}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){let t=new V(new _e([])),r=new Ce(t,e),i=new Ce(t,e+1),o=J();return this.gr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new Ce(e,0),r=this.Vr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},Ce=class{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return V.comparator(e.key,t.key)||G(e.Cr,t.Cr)}static pr(e,t){return G(e.Cr,t.Cr)||V.comparator(e.key,t.key)}};var wp=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new Pe(Ce.mr)}checkEmpty(e){return M.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new Jf(o,t,r,i);this.mutationQueue.push(s);for(let c of i)this.Mr=this.Mr.add(new Ce(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return M.resolve(s)}lookupMutationBatch(e,t){return M.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.Nr(r),o=i<0?0:i;return M.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return M.resolve(this.mutationQueue.length===0?dg:this.Fr-1)}getAllMutationBatches(e){return M.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new Ce(t,0),i=new Ce(t,Number.POSITIVE_INFINITY),o=[];return this.Mr.forEachInRange([r,i],s=>{let c=this.Or(s.Cr);o.push(c)}),M.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Pe(G);return t.forEach(i=>{let o=new Ce(i,0),s=new Ce(i,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([o,s],c=>{r=r.add(c.Cr)})}),M.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;V.isDocumentKey(o)||(o=o.child(""));let s=new Ce(new V(o),0),c=new Pe(G);return this.Mr.forEachWhile(u=>{let d=u.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(c=c.add(u.Cr)),!0)},s),M.resolve(this.Br(c))}Br(e){let t=[];return e.forEach(r=>{let i=this.Or(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){ae(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return M.forEach(t.mutations,i=>{let o=new Ce(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,t){let r=new Ce(t,0),i=this.Mr.firstAfterOrEqual(r);return M.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,M.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){let t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var Ep=class{constructor(e){this.kr=e,this.docs=function(){return new we(V.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.kr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return M.resolve(r?r.document.mutableCopy():Ct.newInvalidDocument(t))}getEntries(e,t){let r=ln();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Ct.newInvalidDocument(i))}),M.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=ln(),s=t.path,c=new V(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){let{key:d,value:{document:f}}=u.getNext();if(!s.isPrefixOf(d.path))break;d.path.length>s.length+1||PP(NP(f),r)<=0||(i.has(f.key)||bu(t,f))&&(o=o.insert(f.key,f.mutableCopy()))}return M.resolve(o)}getAllFromCollectionGroup(e,t,r,i){L()}qr(e,t){return M.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new Dp(this)}getSize(e){return M.resolve(this.size)}},Dp=class extends gp{constructor(e){super(),this.Ir=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Ir.addEntry(e,i)):this.Ir.removeEntry(r)}),M.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}};var Tp=class{constructor(e){this.persistence=e,this.Qr=new un(t=>mg(t),yg),this.lastRemoteSnapshotVersion=B.min(),this.highestTargetId=0,this.$r=0,this.Ur=new is,this.targetCount=0,this.Kr=rs.Un()}forEachTarget(e,t){return this.Qr.forEach((r,i)=>t(i)),M.resolve()}getLastRemoteSnapshotVersion(e){return M.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return M.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),M.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.$r&&(this.$r=t),M.resolve()}zn(e){this.Qr.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.Kr=new rs(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,M.resolve()}updateTargetData(e,t){return this.zn(t),M.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Ur.br(t.targetId),this.targetCount-=1,M.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.Qr.forEach((s,c)=>{c.sequenceNumber<=t&&r.get(c.targetId)===null&&(this.Qr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),M.waitFor(o).next(()=>i)}getTargetCount(e){return M.resolve(this.targetCount)}getTargetData(e,t){let r=this.Qr.get(t)||null;return M.resolve(r)}addMatchingKeys(e,t,r){return this.Ur.yr(t,r),M.resolve()}removeMatchingKeys(e,t,r){this.Ur.Sr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),M.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Ur.br(t),M.resolve()}getMatchingKeysForTargetId(e,t){let r=this.Ur.vr(t);return M.resolve(r)}containsKey(e,t){return M.resolve(this.Ur.containsKey(t))}};var nu=class{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new lg(0),this.zr=!1,this.zr=!0,this.jr=new Ip,this.referenceDelegate=e(this),this.Hr=new Tp(this),this.indexManager=new lp,this.remoteDocumentCache=function(i){return new Ep(i)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new up(t),this.Yr=new vp(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new _p,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Wr[e.toKey()];return r||(r=new wp(t,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,r){k("MemoryPersistence","Starting transaction:",e);let i=new Cp(this.Gr.next());return this.referenceDelegate.Zr(),r(i).next(o=>this.referenceDelegate.Xr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}ei(e,t){return M.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,t)))}},Cp=class extends kf{constructor(e){super(),this.currentSequenceNumber=e}},bp=class n{constructor(e){this.persistence=e,this.ti=new is,this.ni=null}static ri(e){return new n(e)}get ii(){if(this.ni)return this.ni;throw L()}addReference(e,t,r){return this.ti.addReference(r,t),this.ii.delete(r.toString()),M.resolve()}removeReference(e,t,r){return this.ti.removeReference(r,t),this.ii.add(r.toString()),M.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),M.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(i=>this.ii.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.ii.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return M.forEach(this.ii,r=>{let i=V.fromPath(r);return this.si(e,i).next(o=>{o||t.removeEntry(i,B.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(r=>{r?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return M.or([()=>M.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}},ru=class n{constructor(e,t){this.persistence=e,this.oi=new un(r=>FP(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=Px(this,t)}static ri(e,t){return new n(e,t)}Zr(){}Xr(e){return M.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){let t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}sr(e){let t=0;return this.rr(e,r=>{t++}).next(()=>t)}rr(e,t){return M.forEach(this.oi,(r,i)=>this.ar(e,r,i).next(o=>o?M.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.qr(e,s=>this.ar(e,s,t).next(c=>{c||(r++,o.removeEntry(s,B.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),M.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),M.resolve()}removeReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),M.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),M.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Vc(e.data.value)),t}ar(e,t,r){return M.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let i=this.oi.get(t);return M.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var Sp=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Hi=r,this.Ji=i}static Yi(e,t){let r=J(),i=J();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var Ap=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Rp=class{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return JI()?8:kP(nt())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.rs(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ss(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new Ap;return this._s(e,t,s).next(c=>{if(o.result=c,this.Xi)return this.us(e,t,s,c.size)})}).next(()=>o.result)}us(e,t,r,i){return r.documentReadCount<this.es?(ai()<=K.DEBUG&&k("QueryEngine","SDK will not create cache indexes for query:",ci(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),M.resolve()):(ai()<=K.DEBUG&&k("QueryEngine","Query:",ci(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ts*i?(ai()<=K.DEBUG&&k("QueryEngine","The SDK decides to create cache indexes for query:",ci(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Bt(t))):M.resolve())}rs(e,t){if(lE(t))return M.resolve(null);let r=Bt(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=Qf(t,null,"F"),r=Bt(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=J(...o);return this.ns.getDocuments(e,s).next(c=>this.indexManager.getMinOffset(e,r).next(u=>{let d=this.cs(t,c);return this.ls(t,d,s,u.readTime)?this.rs(e,Qf(t,null,"F")):this.hs(e,d,t,u)}))})))}ss(e,t,r,i){return lE(t)||i.isEqual(B.min())?M.resolve(null):this.ns.getDocuments(e,r).next(o=>{let s=this.cs(t,o);return this.ls(t,s,r,i)?M.resolve(null):(ai()<=K.DEBUG&&k("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ci(t)),this.hs(e,s,t,MP(i,Zo)).next(c=>c))})}cs(e,t){let r=new Pe(mD(e));return t.forEach((i,o)=>{bu(e,o)&&(r=r.add(o))}),r}ls(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}_s(e,t,r){return ai()<=K.DEBUG&&k("QueryEngine","Using full collection scan to execute query:",ci(t)),this.ns.getDocumentsMatchingQuery(e,t,lr.min(),r)}hs(e,t,r,i){return this.ns.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var wg="LocalStore",xx=3e8,Mp=class{constructor(e,t,r,i){this.persistence=e,this.Ps=t,this.serializer=i,this.Ts=new we(G),this.Is=new un(o=>mg(o),yg),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new yp(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}};function kx(n,e,t,r){return new Mp(n,e,t,r)}function FD(n,e){return b(this,null,function*(){let t=U(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.As(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],c=[],u=J();for(let d of i){s.push(d.batchId);for(let f of d.mutations)u=u.add(f.key)}for(let d of o){c.push(d.batchId);for(let f of d.mutations)u=u.add(f.key)}return t.localDocuments.getDocuments(r,u).next(d=>({Rs:d,removedBatchIds:s,addedBatchIds:c}))})})})}function Ox(n,e){let t=U(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=t.ds.newChangeBuffer({trackRemovals:!0});return function(c,u,d,f){let g=d.batch,v=g.keys(),m=M.resolve();return v.forEach(S=>{m=m.next(()=>f.getEntry(u,S)).next(N=>{let P=d.docVersions.get(S);ae(P!==null),N.version.compareTo(P)<0&&(g.applyToRemoteDocument(N,d),N.isValidDocument()&&(N.setReadTime(d.commitVersion),f.addEntry(N)))})}),m.next(()=>c.mutationQueue.removeMutationBatch(u,g))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let u=J();for(let d=0;d<c.mutationResults.length;++d)c.mutationResults[d].transformResults.length>0&&(u=u.add(c.batch.mutations[d].key));return u}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function VD(n){let e=U(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function Fx(n,e){let t=U(n),r=e.snapshotVersion,i=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.ds.newChangeBuffer({trackRemovals:!0});i=t.Ts;let c=[];e.targetChanges.forEach((f,g)=>{let v=i.get(g);if(!v)return;c.push(t.Hr.removeMatchingKeys(o,f.removedDocuments,g).next(()=>t.Hr.addMatchingKeys(o,f.addedDocuments,g)));let m=v.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(g)!==null?m=m.withResumeToken(Be.EMPTY_BYTE_STRING,B.min()).withLastLimboFreeSnapshotVersion(B.min()):f.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(f.resumeToken,r)),i=i.insert(g,m),function(N,P,F){return N.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=xx?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0}(v,m,f)&&c.push(t.Hr.updateTargetData(o,m))});let u=ln(),d=J();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(o,f))}),c.push(Vx(o,s,e.documentUpdates).next(f=>{u=f.Vs,d=f.fs})),!r.isEqual(B.min())){let f=t.Hr.getLastRemoteSnapshotVersion(o).next(g=>t.Hr.setTargetsMetadata(o,o.currentSequenceNumber,r));c.push(f)}return M.waitFor(c).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,u,d)).next(()=>u)}).then(o=>(t.Ts=i,o))}function Vx(n,e,t){let r=J(),i=J();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=ln();return t.forEach((c,u)=>{let d=o.get(c);u.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(c)),u.isNoDocument()&&u.version.isEqual(B.min())?(e.removeEntry(c,u.readTime),s=s.insert(c,u)):!d.isValidDocument()||u.version.compareTo(d.version)>0||u.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(u),s=s.insert(c,u)):k(wg,"Ignoring outdated watch update for ",c,". Current version:",d.version," Watch version:",u.version)}),{Vs:s,fs:i}})}function Lx(n,e){let t=U(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=dg),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function jx(n,e){let t=U(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Hr.getTargetData(r,e).next(o=>o?(i=o,M.resolve(i)):t.Hr.allocateTargetId(r).next(s=>(i=new ns(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.Hr.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.Ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(r.targetId,r),t.Is.set(e,r.targetId)),r})}function Np(n,e,t){return b(this,null,function*(){let r=U(n),i=r.Ts.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Ni(s))throw s;k(wg,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Ts=r.Ts.remove(e),r.Is.delete(i.target)})}function DE(n,e,t){let r=U(n),i=B.min(),o=J();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,d,f){let g=U(u),v=g.Is.get(f);return v!==void 0?M.resolve(g.Ts.get(v)):g.Hr.getTargetData(d,f)}(r,s,Bt(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(s,c.targetId).next(u=>{o=u})}).next(()=>r.Ps.getDocumentsMatchingQuery(s,e,t?i:B.min(),t?o:J())).next(c=>(Ux(r,XP(e),c),{documents:c,gs:o})))}function Ux(n,e,t){let r=n.Es.get(e)||B.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.Es.set(e,r)}var iu=class{constructor(){this.activeTargetIds=ox()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var Pp=class{constructor(){this.ho=new iu,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,r){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new iu,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var xp=class{To(e){}shutdown(){}};var TE="ConnectivityMonitor",ou=class{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){k(TE,"Network connectivity changed: AVAILABLE");for(let e of this.Vo)e(0)}Ro(){k(TE,"Network connectivity changed: UNAVAILABLE");for(let e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Fc=null;function kp(){return Fc===null?Fc=function(){return 268435456+Math.round(2147483648*Math.random())}():Fc++,"0x"+Fc.toString(16)}var Df="RestConnection",Bx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},Op=class{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${r}/databases/${i}`,this.wo=this.databaseId.database===Gc?`project_id=${r}`:`project_id=${r}&database_id=${i}`}So(e,t,r,i,o){let s=kp(),c=this.bo(e,t.toUriEncodedString());k(Df,`Sending RPC '${e}' ${s}:`,c,r);let u={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(u,i,o),this.vo(e,c,u,r).then(d=>(k(Df,`Received RPC '${e}' ${s}: `,d),d),d=>{throw pi(Df,`RPC '${e}' ${s} failed with error: `,d,"url: ",c,"request:",r),d})}Co(e,t,r,i,o,s){return this.So(e,t,r,i,o)}Do(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ri}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}bo(e,t){let r=Bx[e];return`${this.po}/v1/${t}:${r}`}terminate(){}};var Fp=class{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}};var Ue="WebChannelConnection",Vp=class extends Op{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,r,i){let o=kp();return new Promise((s,c)=>{let u=new yf;u.setWithCredentials(!0),u.listenOnce(vf.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case zo.NO_ERROR:let f=u.getResponseJson();k(Ue,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),s(f);break;case zo.TIMEOUT:k(Ue,`RPC '${e}' ${o} timed out`),c(new O(R.DEADLINE_EXCEEDED,"Request time out"));break;case zo.HTTP_ERROR:let g=u.getStatus();if(k(Ue,`RPC '${e}' ${o} failed with status:`,g,"response text:",u.getResponseText()),g>0){let v=u.getResponseJson();Array.isArray(v)&&(v=v[0]);let m=v?.error;if(m&&m.status&&m.message){let S=function(P){let F=P.toLowerCase().replace(/_/g,"-");return Object.values(R).indexOf(F)>=0?F:R.UNKNOWN}(m.status);c(new O(S,m.message))}else c(new O(R.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new O(R.UNAVAILABLE,"Connection failed."));break;default:L()}}finally{k(Ue,`RPC '${e}' ${o} completed.`)}});let d=JSON.stringify(i);k(Ue,`RPC '${e}' ${o} sending request:`,i),u.send(t,"POST",d,r,15)})}Wo(e,t,r){let i=kp(),o=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=wf(),c=If(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(u.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Do(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;let f=o.join("");k(Ue,`Creating RPC '${e}' stream ${i}: ${f}`,u);let g=s.createWebChannel(f,u),v=!1,m=!1,S=new Fp({Fo:P=>{m?k(Ue,`Not sending because RPC '${e}' stream ${i} is closed:`,P):(v||(k(Ue,`Opening RPC '${e}' stream ${i} transport.`),g.open(),v=!0),k(Ue,`RPC '${e}' stream ${i} sending:`,P),g.send(P))},Mo:()=>g.close()}),N=(P,F,$)=>{P.listen(F,Q=>{try{$(Q)}catch(he){setTimeout(()=>{throw he},0)}})};return N(g,si.EventType.OPEN,()=>{m||(k(Ue,`RPC '${e}' stream ${i} transport opened.`),S.Qo())}),N(g,si.EventType.CLOSE,()=>{m||(m=!0,k(Ue,`RPC '${e}' stream ${i} transport closed`),S.Uo())}),N(g,si.EventType.ERROR,P=>{m||(m=!0,pi(Ue,`RPC '${e}' stream ${i} transport errored:`,P),S.Uo(new O(R.UNAVAILABLE,"The operation could not be completed")))}),N(g,si.EventType.MESSAGE,P=>{var F;if(!m){let $=P.data[0];ae(!!$);let Q=$,he=Q?.error||((F=Q[0])===null||F===void 0?void 0:F.error);if(he){k(Ue,`RPC '${e}' stream ${i} received error:`,he);let $e=he.status,ce=function(I){let w=Te[I];if(w!==void 0)return SD(w)}($e),E=he.message;ce===void 0&&(ce=R.INTERNAL,E="Unknown error status: "+$e+" with message "+he.message),m=!0,S.Uo(new O(ce,E)),g.close()}else k(Ue,`RPC '${e}' stream ${i} received:`,$),S.Ko($)}}),N(c,_f.STAT_EVENT,P=>{P.stat===xc.PROXY?k(Ue,`RPC '${e}' stream ${i} detected buffering proxy`):P.stat===xc.NOPROXY&&k(Ue,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{S.$o()},0),S}};function Tf(){return typeof document<"u"?document:null}function Su(n){return new ip(n,!0)}var su=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.Ti=e,this.timerId=t,this.Go=r,this.zo=i,this.jo=o,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();let t=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),i=Math.max(0,t-r);i>0&&k("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,i,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}};var CE="PersistentStream",au=class{constructor(e,t,r,i,o,s,c,u){this.Ti=e,this.n_=r,this.r_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new su(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}stop(){return b(this,null,function*(){this.u_()&&(yield this.close(0))})}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}T_(){return b(this,null,function*(){if(this.c_())return this.close(0)})}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}close(e,t){return b(this,null,function*(){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===R.RESOURCE_EXHAUSTED?(sn(t.toString()),sn("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===R.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.Lo(t)})}A_(){}auth(){this.state=1;let e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.i_===t&&this.V_(r,i)},r=>{e(()=>{let i=new O(R.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(i)})})}V_(e,t){let r=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(i=>{r(()=>this.m_(i))}),this.stream.onMessage(i=>{r(()=>++this.__==1?this.g_(i):this.onNext(i))})}l_(){this.state=5,this.a_.Xo(()=>b(this,null,function*(){this.state=0,this.start()}))}m_(e){return k(CE,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(k(CE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Lp=class extends au{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();let t=_x(this.serializer,e),r=function(o){if(!("targetChange"in o))return B.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?B.min():s.readTime?$t(s.readTime):B.min()}(e);return this.listener.p_(t,r)}y_(e){let t={};t.database=cp(this.serializer),t.addTarget=function(o,s){let c,u=s.target;if(c=Wf(u)?{documents:Ex(o,u)}:{query:Dx(o,u).ht},c.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){c.resumeToken=AD(o,s.resumeToken);let d=op(o,s.expectedCount);d!==null&&(c.expectedCount=d)}else if(s.snapshotVersion.compareTo(B.min())>0){c.readTime=eu(o,s.snapshotVersion.toTimestamp());let d=op(o,s.expectedCount);d!==null&&(c.expectedCount=d)}return c}(this.serializer,e);let r=Cx(this.serializer,e);r&&(t.labels=r),this.I_(t)}w_(e){let t={};t.database=cp(this.serializer),t.removeTarget=e,this.I_(t)}},jp=class extends au{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return ae(!!e.streamToken),this.lastStreamToken=e.streamToken,ae(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){ae(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();let t=wx(e.writeResults,e.commitTime),r=$t(e.commitTime);return this.listener.v_(r,t)}C_(){let e={};e.database=cp(this.serializer),this.I_(e)}b_(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>Ix(this.serializer,r))};this.I_(t)}};var Up=class{},Bp=class extends Up{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.F_=!1}M_(){if(this.F_)throw new O(R.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,r,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.So(e,sp(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===R.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new O(R.UNKNOWN,o.toString())})}Co(e,t,r,i,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,c])=>this.connection.Co(e,sp(t,r),i,s,c,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===R.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new O(R.UNKNOWN,s.toString())})}terminate(){this.F_=!0,this.connection.terminate()}},$p=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(sn(t),this.N_=!1):k("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}};var gr="RemoteStore",Hp=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=o,this.z_.To(s=>{r.enqueueAndForget(()=>b(this,null,function*(){vr(this)&&(k(gr,"Restarting streams for network reachability change."),yield function(u){return b(this,null,function*(){let d=U(u);d.W_.add(4),yield ls(d),d.j_.set("Unknown"),d.W_.delete(4),yield Au(d)})}(this))}))}),this.j_=new $p(r,i)}};function Au(n){return b(this,null,function*(){if(vr(n))for(let e of n.G_)yield e(!0)})}function ls(n){return b(this,null,function*(){for(let e of n.G_)yield e(!1)})}function LD(n,e){let t=U(n);t.K_.has(e.targetId)||(t.K_.set(e.targetId,e),Cg(t)?Tg(t):Pi(t).c_()&&Dg(t,e))}function Eg(n,e){let t=U(n),r=Pi(t);t.K_.delete(e),r.c_()&&jD(t,e),t.K_.size===0&&(r.c_()?r.P_():vr(t)&&t.j_.set("Unknown"))}function Dg(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(B.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Pi(n).y_(e)}function jD(n,e){n.H_.Ne(e),Pi(n).w_(e)}function Tg(n){n.H_=new rp({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.K_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),Pi(n).start(),n.j_.B_()}function Cg(n){return vr(n)&&!Pi(n).u_()&&n.K_.size>0}function vr(n){return U(n).W_.size===0}function UD(n){n.H_=void 0}function $x(n){return b(this,null,function*(){n.j_.set("Online")})}function Hx(n){return b(this,null,function*(){n.K_.forEach((e,t)=>{Dg(n,e)})})}function qx(n,e){return b(this,null,function*(){UD(n),Cg(n)?(n.j_.q_(e),Tg(n)):n.j_.set("Unknown")})}function zx(n,e,t){return b(this,null,function*(){if(n.j_.set("Online"),e instanceof Jc&&e.state===2&&e.cause)try{yield function(i,o){return b(this,null,function*(){let s=o.cause;for(let c of o.targetIds)i.K_.has(c)&&(yield i.remoteSyncer.rejectListen(c,s),i.K_.delete(c),i.H_.removeTarget(c))})}(n,e)}catch(r){k(gr,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield cu(n,r)}else if(e instanceof hi?n.H_.We(e):e instanceof Zc?n.H_.Ze(e):n.H_.je(e),!t.isEqual(B.min()))try{let r=yield VD(n.localStore);t.compareTo(r)>=0&&(yield function(o,s){let c=o.H_.ot(s);return c.targetChanges.forEach((u,d)=>{if(u.resumeToken.approximateByteSize()>0){let f=o.K_.get(d);f&&o.K_.set(d,f.withResumeToken(u.resumeToken,s))}}),c.targetMismatches.forEach((u,d)=>{let f=o.K_.get(u);if(!f)return;o.K_.set(u,f.withResumeToken(Be.EMPTY_BYTE_STRING,f.snapshotVersion)),jD(o,u);let g=new ns(f.target,u,d,f.sequenceNumber);Dg(o,g)}),o.remoteSyncer.applyRemoteEvent(c)}(n,t))}catch(r){k(gr,"Failed to raise snapshot:",r),yield cu(n,r)}})}function cu(n,e,t){return b(this,null,function*(){if(!Ni(e))throw e;n.W_.add(1),yield ls(n),n.j_.set("Offline"),t||(t=()=>VD(n.localStore)),n.asyncQueue.enqueueRetryable(()=>b(this,null,function*(){k(gr,"Retrying IndexedDB access"),yield t(),n.W_.delete(1),yield Au(n)}))})}function BD(n,e){return e().catch(t=>cu(n,t,e))}function Ru(n){return b(this,null,function*(){let e=U(n),t=Rn(e),r=e.U_.length>0?e.U_[e.U_.length-1].batchId:dg;for(;Gx(e);)try{let i=yield Lx(e.localStore,r);if(i===null){e.U_.length===0&&t.P_();break}r=i.batchId,Wx(e,i)}catch(i){yield cu(e,i)}$D(e)&&HD(e)})}function Gx(n){return vr(n)&&n.U_.length<10}function Wx(n,e){n.U_.push(e);let t=Rn(n);t.c_()&&t.S_&&t.b_(e.mutations)}function $D(n){return vr(n)&&!Rn(n).u_()&&n.U_.length>0}function HD(n){Rn(n).start()}function Kx(n){return b(this,null,function*(){Rn(n).C_()})}function Qx(n){return b(this,null,function*(){let e=Rn(n);for(let t of n.U_)e.b_(t.mutations)})}function Yx(n,e,t){return b(this,null,function*(){let r=n.U_.shift(),i=Xf.from(r,e,t);yield BD(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Ru(n)})}function Zx(n,e){return b(this,null,function*(){e&&Rn(n).S_&&(yield function(r,i){return b(this,null,function*(){if(function(s){return hx(s)&&s!==R.ABORTED}(i.code)){let o=r.U_.shift();Rn(r).h_(),yield BD(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Ru(r)}})}(n,e)),$D(n)&&HD(n)})}function bE(n,e){return b(this,null,function*(){let t=U(n);t.asyncQueue.verifyOperationInProgress(),k(gr,"RemoteStore received new credentials");let r=vr(t);t.W_.add(3),yield ls(t),r&&t.j_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),yield Au(t)})}function Jx(n,e){return b(this,null,function*(){let t=U(n);e?(t.W_.delete(2),yield Au(t)):e||(t.W_.add(2),yield ls(t),t.j_.set("Unknown"))})}function Pi(n){return n.J_||(n.J_=function(t,r,i){let o=U(t);return o.M_(),new Lp(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{xo:$x.bind(null,n),No:Hx.bind(null,n),Lo:qx.bind(null,n),p_:zx.bind(null,n)}),n.G_.push(e=>b(this,null,function*(){e?(n.J_.h_(),Cg(n)?Tg(n):n.j_.set("Unknown")):(yield n.J_.stop(),UD(n))}))),n.J_}function Rn(n){return n.Y_||(n.Y_=function(t,r,i){let o=U(t);return o.M_(),new jp(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:Kx.bind(null,n),Lo:Zx.bind(null,n),D_:Qx.bind(null,n),v_:Yx.bind(null,n)}),n.G_.push(e=>b(this,null,function*(){e?(n.Y_.h_(),yield Ru(n)):(yield n.Y_.stop(),n.U_.length>0&&(k(gr,`Stopping write stream with ${n.U_.length} pending writes`),n.U_=[]))}))),n.Y_}var qp=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Tt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,c=new n(e,t,s,i,o);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new O(R.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function bg(n,e){if(sn("AsyncQueue",`${e}: ${n}`),Ni(n))return new O(R.UNAVAILABLE,`${e}: ${n}`);throw n}var uu=class n{static emptySet(e){return new n(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||V.comparator(t.key,r.key):(t,r)=>V.comparator(t.key,r.key),this.keyedMap=Go(),this.sortedSet=new we(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var lu=class{constructor(){this.Z_=new we(V.comparator)}track(e){let t=e.doc.key,r=this.Z_.get(t);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(t):e.type===1&&r.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):L():this.Z_=this.Z_.insert(t,e)}X_(){let e=[];return this.Z_.inorderTraversal((t,r)=>{e.push(r)}),e}},Ci=class n{constructor(e,t,r,i,o,s,c,u,d){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=c,this.excludesMetadataChanges=u,this.hasCachedResults=d}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(c=>{s.push({type:0,doc:c})}),new n(e,t,uu.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Cu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var zp=class{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}},Gp=class{constructor(){this.queries=SE(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,r){let i=U(t),o=i.queries;i.queries=SE(),o.forEach((s,c)=>{for(let u of c.ta)u.onError(r)})})(this,new O(R.ABORTED,"Firestore shutting down"))}};function SE(){return new un(n=>gD(n),Cu)}function qD(n,e){return b(this,null,function*(){let t=U(n),r=3,i=e.query,o=t.queries.get(i);o?!o.na()&&e.ra()&&(r=2):(o=new zp,r=e.ra()?0:1);try{switch(r){case 0:o.ea=yield t.onListen(i,!0);break;case 1:o.ea=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(s){let c=bg(s,`Initialization of query '${ci(e.query)}' failed`);return void e.onError(c)}t.queries.set(i,o),o.ta.push(e),e.sa(t.onlineState),o.ea&&e.oa(o.ea)&&Sg(t)})}function zD(n,e){return b(this,null,function*(){let t=U(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.ta.indexOf(e);s>=0&&(o.ta.splice(s,1),o.ta.length===0?i=e.ra()?0:1:!o.na()&&e.ra()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function Xx(n,e){let t=U(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let c of s.ta)c.oa(i)&&(r=!0);s.ea=i}}r&&Sg(t)}function ek(n,e,t){let r=U(n),i=r.queries.get(e);if(i)for(let o of i.ta)o.onError(t);r.queries.delete(e)}function Sg(n){n.ia.forEach(e=>{e.next()})}var Wp,AE;(AE=Wp||(Wp={}))._a="default",AE.Cache="cache";var du=class{constructor(e,t,r){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Ci(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;let r=t!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;let t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=Ci.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Wp.Cache}};var hu=class{constructor(e){this.key=e}},fu=class{constructor(e){this.key=e}},Kp=class{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=J(),this.mutatedKeys=J(),this.ya=mD(e),this.wa=new uu(this.ya)}get Sa(){return this.fa}ba(e,t){let r=t?t.Da:new lu,i=t?t.wa:this.wa,o=t?t.mutatedKeys:this.mutatedKeys,s=i,c=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,g)=>{let v=i.get(f),m=bu(this.query,g)?g:null,S=!!v&&this.mutatedKeys.has(v.key),N=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations),P=!1;v&&m?v.data.isEqual(m.data)?S!==N&&(r.track({type:3,doc:m}),P=!0):this.va(v,m)||(r.track({type:2,doc:m}),P=!0,(u&&this.ya(m,u)>0||d&&this.ya(m,d)<0)&&(c=!0)):!v&&m?(r.track({type:0,doc:m}),P=!0):v&&!m&&(r.track({type:1,doc:v}),P=!0,(u||d)&&(c=!0)),P&&(m?(s=s.add(m),o=N?o.add(f):o.delete(f)):(s=s.delete(f),o=o.delete(f)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let f=this.query.limitType==="F"?s.last():s.first();s=s.delete(f.key),o=o.delete(f.key),r.track({type:1,doc:f})}return{wa:s,Da:r,ls:c,mutatedKeys:o}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;let s=e.Da.X_();s.sort((f,g)=>function(m,S){let N=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return L()}};return N(m)-N(S)}(f.type,g.type)||this.ya(f.doc,g.doc)),this.Ca(r),i=i!=null&&i;let c=t&&!i?this.Fa():[],u=this.pa.size===0&&this.current&&!i?1:0,d=u!==this.ga;return this.ga=u,s.length!==0||d?{snapshot:new Ci(this.query,e.wa,o,s,e.mutatedKeys,u===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:c}:{Ma:c}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new lu,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];let e=this.pa;this.pa=J(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});let t=[];return e.forEach(r=>{this.pa.has(r)||t.push(new fu(r))}),this.pa.forEach(r=>{e.has(r)||t.push(new hu(r))}),t}Oa(e){this.fa=e.gs,this.pa=J();let t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return Ci.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}},Ag="SyncEngine",Qp=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},Yp=class{constructor(e){this.key=e,this.Ba=!1}},Zp=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.La={},this.ka=new un(c=>gD(c),Cu),this.qa=new Map,this.Qa=new Set,this.$a=new we(V.comparator),this.Ua=new Map,this.Ka=new is,this.Wa={},this.Ga=new Map,this.za=rs.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}};function tk(n,e,t=!0){return b(this,null,function*(){let r=ZD(n),i,o=r.ka.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Na()):i=yield GD(r,e,t,!0),i})}function nk(n,e){return b(this,null,function*(){let t=ZD(n);yield GD(t,e,!0,!1)})}function GD(n,e,t,r){return b(this,null,function*(){let i=yield jx(n.localStore,Bt(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),c;return r&&(c=yield rk(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&LD(n.remoteStore,i),c})}function rk(n,e,t,r,i){return b(this,null,function*(){n.Ha=(g,v,m)=>function(N,P,F,$){return b(this,null,function*(){let Q=P.view.ba(F);Q.ls&&(Q=yield DE(N.localStore,P.query,!1).then(({documents:E})=>P.view.ba(E,Q)));let he=$&&$.targetChanges.get(P.targetId),$e=$&&$.targetMismatches.get(P.targetId)!=null,ce=P.view.applyChanges(Q,N.isPrimaryClient,he,$e);return ME(N,P.targetId,ce.Ma),ce.snapshot})}(n,g,v,m);let o=yield DE(n.localStore,e,!0),s=new Kp(e,o.gs),c=s.ba(o.documents),u=ts.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),d=s.applyChanges(c,n.isPrimaryClient,u);ME(n,t,d.Ma);let f=new Qp(e,t,s);return n.ka.set(e,f),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),d.snapshot})}function ik(n,e,t){return b(this,null,function*(){let r=U(n),i=r.ka.get(e),o=r.qa.get(i.targetId);if(o.length>1)return r.qa.set(i.targetId,o.filter(s=>!Cu(s,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Np(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&Eg(r.remoteStore,i.targetId),Jp(r,i.targetId)}).catch(Mi))):(Jp(r,i.targetId),yield Np(r.localStore,i.targetId,!0))})}function ok(n,e){return b(this,null,function*(){let t=U(n),r=t.ka.get(e),i=t.qa.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Eg(t.remoteStore,r.targetId))})}function sk(n,e,t){return b(this,null,function*(){let r=fk(n);try{let i=yield function(s,c){let u=U(s),d=Oe.now(),f=c.reduce((m,S)=>m.add(S.key),J()),g,v;return u.persistence.runTransaction("Locally write mutations","readwrite",m=>{let S=ln(),N=J();return u.ds.getEntries(m,f).next(P=>{S=P,S.forEach((F,$)=>{$.isValidDocument()||(N=N.add(F))})}).next(()=>u.localDocuments.getOverlayedDocuments(m,S)).next(P=>{g=P;let F=[];for(let $ of c){let Q=dx($,g.get($.key).overlayedDocument);Q!=null&&F.push(new dn($.key,Q,cD(Q.value.mapValue),cr.exists(!0)))}return u.mutationQueue.addMutationBatch(m,d,F,c)}).next(P=>{v=P;let F=P.applyToLocalDocumentSet(g,N);return u.documentOverlayCache.saveOverlays(m,P.batchId,F)})}).then(()=>({batchId:v.batchId,changes:vD(g)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,c,u){let d=s.Wa[s.currentUser.toKey()];d||(d=new we(G)),d=d.insert(c,u),s.Wa[s.currentUser.toKey()]=d}(r,i.batchId,t),yield ds(r,i.changes),yield Ru(r.remoteStore)}catch(i){let o=bg(i,"Failed to persist write");t.reject(o)}})}function WD(n,e){return b(this,null,function*(){let t=U(n);try{let r=yield Fx(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Ua.get(o);s&&(ae(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.Ba=!0:i.modifiedDocuments.size>0?ae(s.Ba):i.removedDocuments.size>0&&(ae(s.Ba),s.Ba=!1))}),yield ds(t,r,e)}catch(r){yield Mi(r)}})}function RE(n,e,t){let r=U(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.ka.forEach((o,s)=>{let c=s.view.sa(e);c.snapshot&&i.push(c.snapshot)}),function(s,c){let u=U(s);u.onlineState=c;let d=!1;u.queries.forEach((f,g)=>{for(let v of g.ta)v.sa(c)&&(d=!0)}),d&&Sg(u)}(r.eventManager,e),i.length&&r.La.p_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function ak(n,e,t){return b(this,null,function*(){let r=U(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Ua.get(e),o=i&&i.key;if(o){let s=new we(V.comparator);s=s.insert(o,Ct.newNoDocument(o,B.min()));let c=J().add(o),u=new Yc(B.min(),new Map,new we(G),s,c);yield WD(r,u),r.$a=r.$a.remove(o),r.Ua.delete(e),Rg(r)}else yield Np(r.localStore,e,!1).then(()=>Jp(r,e,t)).catch(Mi)})}function ck(n,e){return b(this,null,function*(){let t=U(n),r=e.batch.batchId;try{let i=yield Ox(t.localStore,e);QD(t,r,null),KD(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield ds(t,i)}catch(i){yield Mi(i)}})}function uk(n,e,t){return b(this,null,function*(){let r=U(n);try{let i=yield function(s,c){let u=U(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let f;return u.mutationQueue.lookupMutationBatch(d,c).next(g=>(ae(g!==null),f=g.keys(),u.mutationQueue.removeMutationBatch(d,g))).next(()=>u.mutationQueue.performConsistencyCheck(d)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(d,f,c)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,f)).next(()=>u.localDocuments.getDocuments(d,f))})}(r.localStore,e);QD(r,e,t),KD(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield ds(r,i)}catch(i){yield Mi(i)}})}function KD(n,e){(n.Ga.get(e)||[]).forEach(t=>{t.resolve()}),n.Ga.delete(e)}function QD(n,e,t){let r=U(n),i=r.Wa[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Wa[r.currentUser.toKey()]=i}}function Jp(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.qa.get(e))n.ka.delete(r),t&&n.La.Ja(r,t);n.qa.delete(e),n.isPrimaryClient&&n.Ka.br(e).forEach(r=>{n.Ka.containsKey(r)||YD(n,r)})}function YD(n,e){n.Qa.delete(e.path.canonicalString());let t=n.$a.get(e);t!==null&&(Eg(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ua.delete(t),Rg(n))}function ME(n,e,t){for(let r of t)r instanceof hu?(n.Ka.addReference(r.key,e),lk(n,r)):r instanceof fu?(k(Ag,"Document no longer in limbo: "+r.key),n.Ka.removeReference(r.key,e),n.Ka.containsKey(r.key)||YD(n,r.key)):L()}function lk(n,e){let t=e.key,r=t.path.canonicalString();n.$a.get(t)||n.Qa.has(r)||(k(Ag,"New document in limbo: "+t),n.Qa.add(r),Rg(n))}function Rg(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){let e=n.Qa.values().next().value;n.Qa.delete(e);let t=new V(_e.fromString(e)),r=n.za.next();n.Ua.set(r,new Yp(t)),n.$a=n.$a.insert(t,r),LD(n.remoteStore,new ns(Bt(vg(t.path)),r,"TargetPurposeLimboResolution",lg.ae))}}function ds(n,e,t){return b(this,null,function*(){let r=U(n),i=[],o=[],s=[];r.ka.isEmpty()||(r.ka.forEach((c,u)=>{s.push(r.Ha(u,e,t).then(d=>{var f;if((d||t)&&r.isPrimaryClient){let g=d?!d.fromCache:(f=t?.targetChanges.get(u.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(u.targetId,g?"current":"not-current")}if(d){i.push(d);let g=Sp.Yi(u.targetId,d);o.push(g)}}))}),yield Promise.all(s),r.La.p_(i),yield function(u,d){return b(this,null,function*(){let f=U(u);try{yield f.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>M.forEach(d,v=>M.forEach(v.Hi,m=>f.persistence.referenceDelegate.addReference(g,v.targetId,m)).next(()=>M.forEach(v.Ji,m=>f.persistence.referenceDelegate.removeReference(g,v.targetId,m)))))}catch(g){if(!Ni(g))throw g;k(wg,"Failed to update sequence numbers: "+g)}for(let g of d){let v=g.targetId;if(!g.fromCache){let m=f.Ts.get(v),S=m.snapshotVersion,N=m.withLastLimboFreeSnapshotVersion(S);f.Ts=f.Ts.insert(v,N)}}})}(r.localStore,o))})}function dk(n,e){return b(this,null,function*(){let t=U(n);if(!t.currentUser.isEqual(e)){k(Ag,"User change. New user:",e.toKey());let r=yield FD(t.localStore,e);t.currentUser=e,function(o,s){o.Ga.forEach(c=>{c.forEach(u=>{u.reject(new O(R.CANCELLED,s))})}),o.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield ds(t,r.Rs)}})}function hk(n,e){let t=U(n),r=t.Ua.get(e);if(r&&r.Ba)return J().add(r.key);{let i=J(),o=t.qa.get(e);if(!o)return i;for(let s of o){let c=t.ka.get(s);i=i.unionWith(c.view.Sa)}return i}}function ZD(n){let e=U(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=WD.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=hk.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ak.bind(null,e),e.La.p_=Xx.bind(null,e.eventManager),e.La.Ja=ek.bind(null,e.eventManager),e}function fk(n){let e=U(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ck.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=uk.bind(null,e),e}var JD=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return b(this,null,function*(){this.serializer=Su(t.databaseInfo.databaseId),this.sharedClientState=this.Za(t),this.persistence=this.Xa(t),yield this.persistence.start(),this.localStore=this.eu(t),this.gcScheduler=this.tu(t,this.localStore),this.indexBackfillerScheduler=this.nu(t,this.localStore)})}tu(t,r){return null}nu(t,r){return null}eu(t){return kx(this.persistence,new Rp,t.initialUser,this.serializer)}Xa(t){return new nu(bp.ri,this.serializer)}Za(t){return new Pp}terminate(){return b(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})(),Xp=class extends JD{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){ae(this.persistence.referenceDelegate instanceof ru);let r=this.persistence.referenceDelegate.garbageCollector;return new fp(r,e.asyncQueue,t)}Xa(e){let t=this.cacheSizeBytes!==void 0?lt.withCacheSize(this.cacheSizeBytes):lt.DEFAULT;return new nu(r=>ru.ri(r,t),this.serializer)}};var pk=(()=>{class n{initialize(t,r){return b(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>RE(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=dk.bind(null,this.syncEngine),yield Jx(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new Gp}()}createDatastore(t){let r=Su(t.databaseInfo.databaseId),i=function(s){return new Vp(s)}(t.databaseInfo);return function(s,c,u,d){return new Bp(s,c,u,d)}(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return function(i,o,s,c,u){return new Hp(i,o,s,c,u)}(this.localStore,this.datastore,t.asyncQueue,r=>RE(this.syncEngine,r,0),function(){return ou.D()?new ou:new xp}())}createSyncEngine(t,r){return function(o,s,c,u,d,f,g){let v=new Zp(o,s,c,u,d,f);return g&&(v.ja=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return b(this,null,function*(){var t,r;yield function(o){return b(this,null,function*(){let s=U(o);k(gr,"RemoteStore shutting down."),s.W_.add(5),yield ls(s),s.z_.shutdown(),s.j_.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var pu=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):sn("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var Mn="FirestoreClient",eg=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Ne.UNAUTHENTICATED,this.clientId=$c.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>b(this,null,function*(){k(Mn,"Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(k(Mn,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Tt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>b(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=bg(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function Cf(n,e){return b(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),k(Mn,"Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>b(this,null,function*(){r.isEqual(i)||(yield FD(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function NE(n,e){return b(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield gk(n);k(Mn,"Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>bE(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>bE(e.remoteStore,i)),n._onlineComponents=e})}function gk(n){return b(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){k(Mn,"Using user provided OfflineComponentProvider");try{yield Cf(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(i){return i.name==="FirebaseError"?i.code===R.FAILED_PRECONDITION||i.code===R.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;pi("Error using user provided cache. Falling back to memory cache: "+t),yield Cf(n,new JD)}}else k(Mn,"Using default OfflineComponentProvider"),yield Cf(n,new Xp(void 0));return n._offlineComponents})}function XD(n){return b(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(k(Mn,"Using user provided OnlineComponentProvider"),yield NE(n,n._uninitializedComponentsProvider._online)):(k(Mn,"Using default OnlineComponentProvider"),yield NE(n,new pk))),n._onlineComponents})}function mk(n){return XD(n).then(e=>e.syncEngine)}function eT(n){return b(this,null,function*(){let e=yield XD(n),t=e.eventManager;return t.onListen=tk.bind(null,e.syncEngine),t.onUnlisten=ik.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=nk.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=ok.bind(null,e.syncEngine),t})}function yk(n,e,t={}){let r=new Tt;return n.asyncQueue.enqueueAndForget(()=>b(this,null,function*(){return function(o,s,c,u,d){let f=new pu({next:v=>{f.su(),s.enqueueAndForget(()=>zD(o,g));let m=v.docs.has(c);!m&&v.fromCache?d.reject(new O(R.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&v.fromCache&&u&&u.source==="server"?d.reject(new O(R.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(v)},error:v=>d.reject(v)}),g=new du(vg(c.path),f,{includeMetadataChanges:!0,Ta:!0});return qD(o,g)}(yield eT(n),n.asyncQueue,e,t,r)})),r.promise}function vk(n,e,t={}){let r=new Tt;return n.asyncQueue.enqueueAndForget(()=>b(this,null,function*(){return function(o,s,c,u,d){let f=new pu({next:v=>{f.su(),s.enqueueAndForget(()=>zD(o,g)),v.fromCache&&u.source==="server"?d.reject(new O(R.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(v)},error:v=>d.reject(v)}),g=new du(c,f,{includeMetadataChanges:!0,Ta:!0});return qD(o,g)}(yield eT(n),n.asyncQueue,e,t,r)})),r.promise}function tT(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var PE=new Map;function nT(n,e,t){if(!t)throw new O(R.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function _k(n,e,t,r){if(e===!0&&r===!0)throw new O(R.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function xE(n){if(!V.isDocumentKey(n))throw new O(R.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function kE(n){if(V.isDocumentKey(n))throw new O(R.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Mu(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":L()}function mr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new O(R.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=Mu(n);throw new O(R.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}var rT="firestore.googleapis.com",OE=!0,gu=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new O(R.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=rT,this.ssl=OE}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:OE;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=OD;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Nx)throw new O(R.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}_k("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=tT((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new O(R.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new O(R.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new O(R.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},bi=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new gu({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new O(R.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new O(R.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new gu(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new bf;switch(r.type){case"firstParty":return new Mf(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new O(R.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return b(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=PE.get(t);r&&(k("ComponentProvider","Removing Datastore"),PE.delete(t),r.terminate())}(this),Promise.resolve()}};function iT(n,e,t,r={}){var i;let o=(n=mr(n,bi))._getSettings(),s=Object.assign(Object.assign({},o),{emulatorOptions:n._getEmulatorOptions()}),c=`${e}:${t}`;o.host!==rT&&o.host!==c&&pi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let u=Object.assign(Object.assign({},o),{host:c,ssl:!1,emulatorOptions:r});if(!Yn(u,s)&&(n._setSettings(u),r.mockUserToken)){let d,f;if(typeof r.mockUserToken=="string")d=r.mockUserToken,f=Ne.MOCK_USER;else{d=WI(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new O(R.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Ne(g)}n._authCredentials=new Sf(new Uc(d,f))}}var Si=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},Xe=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Sn(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},Sn=class n extends Si{constructor(e,t,r){super(e,t,vg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Xe(this.firestore,null,new V(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function oT(n,e,...t){if(n=rt(n),nT("collection","path",e),n instanceof bi){let r=_e.fromString(e,...t);return kE(r),new Sn(n,null,r)}{if(!(n instanceof Xe||n instanceof Sn))throw new O(R.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(_e.fromString(e,...t));return kE(r),new Sn(n.firestore,null,r)}}function sT(n,e,...t){if(n=rt(n),arguments.length===1&&(e=$c.newId()),nT("doc","path",e),n instanceof bi){let r=_e.fromString(e,...t);return xE(r),new Xe(n,null,new V(r))}{if(!(n instanceof Xe||n instanceof Sn))throw new O(R.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(_e.fromString(e,...t));return xE(r),new Xe(n.firestore,n instanceof Sn?n.converter:null,new V(r))}}var FE="AsyncQueue",mu=class{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new su(this,"async_queue_retry"),this.Su=()=>{let r=Tf();r&&k(FE,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=e;let t=Tf();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;let t=Tf();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});let t=new Tt;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}Cu(){return b(this,null,function*(){if(this.Vu.length!==0){try{yield this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Ni(e))throw e;k(FE,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}})}vu(e){let t=this.bu.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;let i=function(s){let c=s.message||"";return s.stack&&(c=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),c}(r);throw sn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.pu=!1,r))));return this.bu=t,t}enqueueAfterDelay(e,t,r){this.Du(),this.wu.indexOf(e)>-1&&(t=0);let i=qp.createAndSchedule(this,e,t,r,o=>this.Fu(o));return this.fu.push(i),i}Du(){this.gu&&L()}verifyOperationInProgress(){}Mu(){return b(this,null,function*(){let e;do e=this.bu,yield e;while(e!==this.bu)})}xu(e){for(let t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){let t=this.fu.indexOf(e);this.fu.splice(t,1)}};var Ai=class extends bi{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new mu,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return b(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new mu(e),this._firestoreClient=void 0,yield e}})}};function aT(n,e){let t=typeof n=="object"?n:ri(),r=typeof n=="string"?n:e||Gc,i=pc(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=zI("firestore");o&&iT(i,...o)}return i}function Mg(n){if(n._terminated)throw new O(R.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||Ik(n),n._firestoreClient}function Ik(n){var e,t,r;let i=n._freezeSettings(),o=function(c,u,d,f){return new Of(c,u,d,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,tT(f.experimentalLongPollingOptions),f.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new eg(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(c){let u=c?._online.build();return{_offline:c?._offline.build(u),_online:u}}(n._componentsProvider))}var os=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(Be.fromBase64String(e))}catch(t){throw new O(R.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(Be.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var ss=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new O(R.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ot(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var yu=class{constructor(e){this._methodName=e}};var as=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new O(R.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new O(R.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return G(this._lat,e._lat)||G(this._long,e._long)}};var cs=class{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var wk=/^__.*__$/,tg=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new dn(e,this.data,this.fieldMask,t,this.fieldTransforms):new pr(e,this.data,t,this.fieldTransforms)}};function cT(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw L()}}var ng=class n{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Bu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ku({path:r,Qu:!1});return i.$u(e),i}Uu(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ku({path:r,Qu:!1});return i.Bu(),i}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return vu(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(cT(this.Lu)&&wk.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}},rg=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Su(e)}ju(e,t,r,i=!1){return new ng({Lu:e,methodName:t,zu:r,path:ot.emptyPath(),Qu:!1,Gu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function uT(n){let e=n._freezeSettings(),t=Su(n._databaseId);return new rg(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Ek(n,e,t,r,i,o={}){let s=n.ju(o.merge||o.mergeFields?2:0,e,t,i);hT("Data must be an object, but it was:",s,r);let c=lT(r,s),u,d;if(o.merge)u=new jt(s.fieldMask),d=s.fieldTransforms;else if(o.mergeFields){let f=[];for(let g of o.mergeFields){let v=Tk(e,g,t);if(!s.contains(v))throw new O(R.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);bk(f,v)||f.push(v)}u=new jt(f),d=s.fieldTransforms.filter(g=>u.covers(g.field))}else u=null,d=s.fieldTransforms;return new tg(new Dt(c),u,d)}function Dk(n,e,t,r=!1){return Ng(t,n.ju(r?4:3,e))}function Ng(n,e){if(dT(n=rt(n)))return hT("Unsupported field value:",e,n),lT(n,e);if(n instanceof yu)return function(r,i){if(!cT(i.Lu))throw i.Wu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Wu(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let c of r){let u=Ng(c,i.Ku(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if((r=rt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return sx(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=Oe.fromDate(r);return{timestampValue:eu(i.serializer,o)}}if(r instanceof Oe){let o=new Oe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:eu(i.serializer,o)}}if(r instanceof as)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof os)return{bytesValue:AD(i.serializer,r._byteString)};if(r instanceof Xe){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Wu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Ig(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof cs)return function(s,c){return{mapValue:{fields:{[fg]:{stringValue:pg},[mi]:{arrayValue:{values:s.toArray().map(d=>{if(typeof d!="number")throw c.Wu("VectorValues must only contain numeric values.");return _g(c.serializer,d)})}}}}}}(r,i);throw i.Wu(`Unsupported field value: ${Mu(r)}`)}(n,e)}function lT(n,e){let t={};return eD(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):yr(n,(r,i)=>{let o=Ng(i,e.qu(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function dT(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Oe||n instanceof as||n instanceof os||n instanceof Xe||n instanceof yu||n instanceof cs)}function hT(n,e,t){if(!dT(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){let r=Mu(t);throw r==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+r)}}function Tk(n,e,t){if((e=rt(e))instanceof ss)return e._internalPath;if(typeof e=="string")return fT(n,e);throw vu("Field path arguments must be of type string or ",n,!1,void 0,t)}var Ck=new RegExp("[~\\*/\\[\\]]");function fT(n,e,t){if(e.search(Ck)>=0)throw vu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new ss(...e.split("."))._internalPath}catch{throw vu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function vu(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new O(R.INVALID_ARGUMENT,c+n+u)}function bk(n,e){return n.some(t=>t.isEqual(e))}var _u=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Xe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new ig(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(Pg("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},ig=class extends _u{data(){return super.data()}};function Pg(n,e){return typeof e=="string"?fT(n,e):e instanceof ss?e._internalPath:e._delegate._internalPath}function Sk(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new O(R.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var us=class{},og=class extends us{};function pT(n,e,...t){let r=[];e instanceof us&&r.push(e),r=r.concat(t),function(o){let s=o.filter(u=>u instanceof sg).length,c=o.filter(u=>u instanceof Iu).length;if(s>1||s>0&&c>0)throw new O(R.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)n=i._apply(n);return n}var Iu=class n extends og{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new n(e,t,r)}_apply(e){let t=this._parse(e);return mT(e._query,t),new Si(e.firestore,e.converter,Kf(e._query,t))}_parse(e){let t=uT(e.firestore);return function(o,s,c,u,d,f,g){let v;if(d.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new O(R.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){LE(g,f);let S=[];for(let N of g)S.push(VE(u,o,N));v={arrayValue:{values:S}}}else v=VE(u,o,g)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||LE(g,f),v=Dk(c,s,g,f==="in"||f==="not-in");return be.create(d,f,v)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};function gT(n,e,t){let r=e,i=Pg("where",n);return Iu._create(i,r,t)}var sg=class n extends us{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:bt.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:(function(i,o){let s=i,c=o.getFlattenedFilters();for(let u of c)mT(s,u),s=Kf(s,u)}(e._query,t),new Si(e.firestore,e.converter,Kf(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function VE(n,e,t){if(typeof(t=rt(t))=="string"){if(t==="")throw new O(R.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!pD(e)&&t.indexOf("/")!==-1)throw new O(R.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let r=e.path.child(_e.fromString(t));if(!V.isDocumentKey(r))throw new O(R.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return iE(n,new V(r))}if(t instanceof Xe)return iE(n,t._key);throw new O(R.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Mu(t)}.`)}function LE(n,e){if(!Array.isArray(n)||n.length===0)throw new O(R.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function mT(n,e){let t=function(i,o){for(let s of i)for(let c of s.getFlattenedFilters())if(o.indexOf(c.op)>=0)return c.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new O(R.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new O(R.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}var ag=class{convertValue(e,t="none"){switch(An(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ye(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(cn(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw L()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return yr(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;let o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[mi].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>ye(s.doubleValue));return new cs(o)}convertGeoPoint(e){return new as(ye(e.latitude),ye(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=Tu(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Xo(e));default:return null}}convertTimestamp(e){let t=an(e);return new Oe(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=_e.fromString(e);ae(kD(r));let i=new Wc(r.get(1),r.get(3)),o=new V(r.popFirst(5));return i.isEqual(t)||sn(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};function Ak(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var ar=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},wu=class extends _u{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new fi(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(Pg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},fi=class extends wu{data(e={}){return super.data(e)}},cg=class{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new ar(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new fi(this._firestore,this._userDataWriter,r.key,r,new ar(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new O(R.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(c=>{let u=new fi(i._firestore,i._userDataWriter,c.doc.key,c.doc,new ar(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>o||c.type!==3).map(c=>{let u=new fi(i._firestore,i._userDataWriter,c.doc.key,c.doc,new ar(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter),d=-1,f=-1;return c.type!==0&&(d=s.indexOf(c.doc.key),s=s.delete(c.doc.key)),c.type!==1&&(s=s.add(c.doc),f=s.indexOf(c.doc.key)),{type:Rk(c.type),doc:u,oldIndex:d,newIndex:f}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function Rk(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return L()}}function yT(n){n=mr(n,Xe);let e=mr(n.firestore,Ai);return yk(Mg(e),n._key).then(t=>Nk(e,n,t))}var Eu=class extends ag{constructor(e){super(),this.firestore=e}convertBytes(e){return new os(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new Xe(this.firestore,null,t)}};function vT(n){n=mr(n,Si);let e=mr(n.firestore,Ai),t=Mg(e),r=new Eu(e);return Sk(n._query),vk(t,n._query).then(i=>new cg(e,r,n,i))}function _T(n,e,t){n=mr(n,Xe);let r=mr(n.firestore,Ai),i=Ak(n.converter,e,t);return Mk(r,[Ek(uT(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,cr.none())])}function Mk(n,e){return function(r,i){let o=new Tt;return r.asyncQueue.enqueueAndForget(()=>b(this,null,function*(){return sk(yield mk(r),i,o)})),o.promise}(Mg(n),e)}function Nk(n,e,t){let r=t.docs.get(e._key),i=new Eu(n);return new wu(n,i,e._key,r,new ar(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){Ri=i})(ni),wt(new Ze("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),c=new Ai(new Af(r.getProvider("auth-internal")),new Nf(s,r.getProvider("app-check-internal")),function(d,f){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new O(R.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wc(d.options.projectId,f)}(s,i),s);return o=Object.assign({useFetchStreams:t},o),c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),Ee(Kw,Qw,e),Ee(Kw,Qw,"esm2017")})();var _r=class{constructor(e){return e}},IT="firestore",xg=class{constructor(){return oi(IT)}};var kg=new z("angularfire2.firestore-instances");function Pk(n,e){let t=yc(IT,n,e);return t&&new _r(t)}function xk(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new _r(r)}}var kk={provide:xg,deps:[[new wn,kg]]},Ok={provide:_r,useFactory:Pk,deps:[[new wn,kg],tr]};function wT(n,...e){return Ee("angularfire",Xn.full,"fst"),ka([Ok,kk,{provide:kg,useFactory:xk(n),multi:!0,deps:[me,ct,er,Lo,[new wn,Nc],[new wn,_c],...e]}])}var Og=it(oT,!0,2);var Nu=it(sT,!0,2);var ET=it(yT,!0);var Fg=it(vT,!0);var DT=it(aT,!0);var TT=it(pT,!0,2);var Vg=it(_T,!0,2);var CT=it(gT,!0,2);var Pu=class n{constructor(e){this.firestore=e;this.rsvpCollection=Og(this.firestore,"rsvps"),this.playersCollection=Og(this.firestore,"players")}rsvpCollection;playersCollection;updateRsvp(e,t){return b(this,null,function*(){let r=Nu(this.rsvpCollection,e.id),i=Nu(this.playersCollection,e.id);yield Promise.all([Vg(r,{playerId:e.id,status:t,updatedAt:new Date().toISOString()}),Vg(i,{id:e.id,name:e.name,email:e.email})]),console.log(`RSVP updated and player saved: ${e.name}`)})}getConfirmedAttendees(){let e=TT(this.rsvpCollection,CT("status","==","Yes"));return new pe(t=>{Fg(e).then(r=>{let o=r.docs.map(s=>s.data().playerId).map(s=>{let c=Nu(this.playersCollection,s);return ET(c).then(u=>u.data())});Promise.all(o).then(s=>{t.next(s)})})})}getResponseCounts(){return new pe(e=>{Fg(this.rsvpCollection).then(t=>{let r=t.docs.map(o=>o.data()),i={total:r.length,confirmed:r.filter(o=>o.status==="Yes").length,declined:r.filter(o=>o.status==="No").length};e.next(i)})})}static \u0275fac=function(t){return new(t||n)(re(_r))};static \u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})};var jk=(n,e)=>e.id;function Uk(n,e){if(n&1&&(ee(0,"li"),Ae(1),ie()),n&2){let t=e.$implicit;kt(),bo(t.name)}}var xu=class n{constructor(e){this.rsvpService=e}attendees=[];responseCounts={};addOrUpdateRsvp(e,t){let r={id:e,name:`Player ${e}`,email:`${e}@example.com`};this.rsvpService.updateRsvp(r,t).then(()=>{console.log(`RSVP updated for ${r.name}`)})}fetchConfirmedAttendees(){this.rsvpService.getConfirmedAttendees().subscribe(e=>{this.attendees=e,console.log("Confirmed Attendees:",e)})}fetchResponseCounts(){this.rsvpService.getResponseCounts().subscribe(e=>{this.responseCounts=e,console.log("Response Counts:",e)})}static \u0275fac=function(t){return new(t||n)(Qe(Pu))};static \u0275cmp=To({type:n,selectors:[["app-rsvp-tester"]],decls:36,vars:3,consts:[["playerId",""],["status",""],["type","text","placeholder","Player ID"],["value","Yes"],["value","No"],["value","Maybe"],[3,"click"]],template:function(t,r){if(t&1){let i=hI();ee(0,"h1"),Ae(1,"RSVP Tester"),ie(),ee(2,"div")(3,"h3"),Ae(4,"Add/Update RSVP"),ie(),Ye(5,"input",2,0),ee(7,"select",null,1)(9,"option",3),Ae(10,"Yes"),ie(),ee(11,"option",4),Ae(12,"No"),ie(),ee(13,"option",5),Ae(14,"Maybe"),ie()(),ee(15,"button",6),En("click",function(){Ua(i);let s=uh(6),c=uh(8);return Ba(r.addOrUpdateRsvp(s.value,c.value))}),Ae(16,"Submit RSVP"),ie()(),ee(17,"div")(18,"h3"),Ae(19,"Confirmed Attendees"),ie(),ee(20,"button",6),En("click",function(){return Ua(i),Ba(r.fetchConfirmedAttendees())}),Ae(21,"Get Confirmed Attendees"),ie(),ee(22,"ul"),Za(23,Uk,2,1,"li",null,jk),ie()(),ee(25,"div")(26,"h3"),Ae(27,"Response Counts"),ie(),ee(28,"button",6),En("click",function(){return Ua(i),Ba(r.fetchResponseCounts())}),Ae(29,"Get Response Counts"),ie(),ee(30,"p"),Ae(31),ie(),ee(32,"p"),Ae(33),ie(),ee(34,"p"),Ae(35),ie()()}t&2&&(kt(23),Ja(r.attendees),kt(8),Dn("Total Responses: ",r.responseCounts.total,""),kt(2),Dn("Confirmed Responses: ",r.responseCounts.confirmed,""),kt(2),Dn("Declined Responses: ",r.responseCounts.declined,""))},dependencies:[ec,jI,FI,LI],encapsulation:2})};var Bk=()=>({title:"Explore the Docs",link:"https://angular.dev"}),$k=()=>({title:"Learn with Tutorials",link:"https://angular.dev/tutorials"}),Hk=()=>({title:"CLI Docs",link:"https://angular.dev/tools/cli"}),qk=()=>({title:"Angular Language Service",link:"https://angular.dev/tools/language-service"}),zk=()=>({title:"Angular DevTools",link:"https://angular.dev/tools/devtools"}),Gk=(n,e,t,r,i)=>[n,e,t,r,i],Wk=(n,e)=>e.title;function Kk(n,e){if(n&1&&(ee(0,"a",21)(1,"span"),Ae(2),ie(),Yr(),ee(3,"svg",32),Ye(4,"path",33),ie()()),n&2){let t=e.$implicit;ch("href",t.link,A_),kt(2),bo(t.title)}}var ku=class n{title="gametime-rsvp";static \u0275fac=function(t){return new(t||n)};static \u0275cmp=To({type:n,selectors:[["app-root"]],decls:40,vars:12,consts:[[1,"main"],[1,"content"],[1,"left-side"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 982 239","fill","none",1,"angular-logo"],["clip-path","url(#a)"],["fill","url(#b)","d","M388.676 191.625h30.849L363.31 31.828h-35.758l-56.215 159.797h30.848l13.174-39.356h60.061l13.256 39.356Zm-65.461-62.675 21.602-64.311h1.227l21.602 64.311h-44.431Zm126.831-7.527v70.202h-28.23V71.839h27.002v20.374h1.392c2.782-6.71 7.2-12.028 13.255-15.956 6.056-3.927 13.584-5.89 22.503-5.89 8.264 0 15.465 1.8 21.684 5.318 6.137 3.518 10.964 8.673 14.319 15.382 3.437 6.71 5.074 14.81 4.992 24.383v76.175h-28.23v-71.92c0-8.019-2.046-14.237-6.219-18.819-4.173-4.5-9.819-6.791-17.102-6.791-4.91 0-9.328 1.063-13.174 3.272-3.846 2.128-6.792 5.237-9.001 9.328-2.046 4.009-3.191 8.918-3.191 14.728ZM589.233 239c-10.147 0-18.82-1.391-26.103-4.091-7.282-2.7-13.092-6.382-17.511-10.964-4.418-4.582-7.528-9.655-9.164-15.219l25.448-6.136c1.145 2.372 2.782 4.663 4.991 6.954 2.209 2.291 5.155 4.255 8.837 5.81 3.683 1.554 8.428 2.291 14.074 2.291 8.019 0 14.647-1.964 19.884-5.81 5.237-3.845 7.856-10.227 7.856-19.064v-22.665h-1.391c-1.473 2.946-3.601 5.892-6.383 9.001-2.782 3.109-6.464 5.645-10.965 7.691-4.582 2.046-10.228 3.109-17.101 3.109-9.165 0-17.511-2.209-25.039-6.545-7.446-4.337-13.42-10.883-17.757-19.474-4.418-8.673-6.628-19.473-6.628-32.565 0-13.091 2.21-24.301 6.628-33.383 4.419-9.082 10.311-15.955 17.839-20.7 7.528-4.746 15.874-7.037 25.039-7.037 7.037 0 12.846 1.145 17.347 3.518 4.582 2.373 8.182 5.236 10.883 8.51 2.7 3.272 4.746 6.382 6.137 9.327h1.554v-19.8h27.821v121.749c0 10.228-2.454 18.737-7.364 25.447-4.91 6.709-11.538 11.7-20.048 15.055-8.509 3.355-18.165 4.991-28.884 4.991Zm.245-71.266c5.974 0 11.047-1.473 15.302-4.337 4.173-2.945 7.446-7.118 9.573-12.519 2.21-5.482 3.274-12.027 3.274-19.637 0-7.609-1.064-14.155-3.274-19.8-2.127-5.646-5.318-10.064-9.491-13.255-4.174-3.11-9.329-4.746-15.384-4.746s-11.537 1.636-15.792 4.91c-4.173 3.272-7.365 7.772-9.492 13.418-2.128 5.727-3.191 12.191-3.191 19.392 0 7.2 1.063 13.745 3.273 19.228 2.127 5.482 5.318 9.736 9.573 12.764 4.174 3.027 9.41 4.582 15.629 4.582Zm141.56-26.51V71.839h28.23v119.786h-27.412v-21.273h-1.227c-2.7 6.709-7.119 12.191-13.338 16.446-6.137 4.255-13.747 6.382-22.748 6.382-7.855 0-14.81-1.718-20.783-5.237-5.974-3.518-10.72-8.591-14.075-15.382-3.355-6.709-5.073-14.891-5.073-24.464V71.839h28.312v71.921c0 7.609 2.046 13.664 6.219 18.083 4.173 4.5 9.655 6.709 16.365 6.709 4.173 0 8.183-.982 12.111-3.028 3.927-2.045 7.118-5.072 9.655-9.082 2.537-4.091 3.764-9.164 3.764-15.218Zm65.707-109.395v159.796h-28.23V31.828h28.23Zm44.841 162.169c-7.61 0-14.402-1.391-20.457-4.091-6.055-2.7-10.883-6.791-14.32-12.109-3.518-5.319-5.237-11.946-5.237-19.801 0-6.791 1.228-12.355 3.765-16.773 2.536-4.419 5.891-7.937 10.228-10.637 4.337-2.618 9.164-4.664 14.647-6.055 5.4-1.391 11.046-2.373 16.856-3.027 7.037-.737 12.683-1.391 17.102-1.964 4.337-.573 7.528-1.555 9.574-2.782 1.963-1.309 3.027-3.273 3.027-5.973v-.491c0-5.891-1.718-10.391-5.237-13.664-3.518-3.191-8.51-4.828-15.056-4.828-6.955 0-12.356 1.473-16.447 4.5-4.009 3.028-6.71 6.546-8.183 10.719l-26.348-3.764c2.046-7.282 5.483-13.336 10.31-18.328 4.746-4.909 10.638-8.59 17.511-11.045 6.955-2.455 14.565-3.682 22.912-3.682 5.809 0 11.537.654 17.265 2.045s10.965 3.6 15.711 6.71c4.746 3.109 8.51 7.282 11.455 12.6 2.864 5.318 4.337 11.946 4.337 19.883v80.184h-27.166v-16.446h-.9c-1.719 3.355-4.092 6.464-7.201 9.328-3.109 2.864-6.955 5.237-11.619 6.955-4.828 1.718-10.229 2.536-16.529 2.536Zm7.364-20.701c5.646 0 10.556-1.145 14.729-3.354 4.173-2.291 7.364-5.237 9.655-9.001 2.292-3.763 3.355-7.854 3.355-12.273v-14.155c-.9.737-2.373 1.391-4.5 2.046-2.128.654-4.419 1.145-7.037 1.636-2.619.491-5.155.9-7.692 1.227-2.537.328-4.746.655-6.628.901-4.173.572-8.019 1.472-11.292 2.781-3.355 1.31-5.973 3.11-7.855 5.401-1.964 2.291-2.864 5.318-2.864 8.918 0 5.237 1.882 9.164 5.728 11.782 3.682 2.782 8.51 4.091 14.401 4.091Zm64.643 18.328V71.839h27.412v19.965h1.227c2.21-6.955 5.974-12.274 11.292-16.038 5.319-3.763 11.456-5.645 18.329-5.645 1.555 0 3.355.082 5.237.163 1.964.164 3.601.328 4.91.573v25.938c-1.227-.41-3.109-.819-5.646-1.146a58.814 58.814 0 0 0-7.446-.49c-5.155 0-9.738 1.145-13.829 3.354-4.091 2.209-7.282 5.236-9.655 9.164-2.373 3.927-3.519 8.427-3.519 13.5v70.448h-28.312ZM222.077 39.192l-8.019 125.923L137.387 0l84.69 39.192Zm-53.105 162.825-57.933 33.056-57.934-33.056 11.783-28.556h92.301l11.783 28.556ZM111.039 62.675l30.357 73.803H80.681l30.358-73.803ZM7.937 165.115 0 39.192 84.69 0 7.937 165.115Z"],["fill","url(#c)","d","M388.676 191.625h30.849L363.31 31.828h-35.758l-56.215 159.797h30.848l13.174-39.356h60.061l13.256 39.356Zm-65.461-62.675 21.602-64.311h1.227l21.602 64.311h-44.431Zm126.831-7.527v70.202h-28.23V71.839h27.002v20.374h1.392c2.782-6.71 7.2-12.028 13.255-15.956 6.056-3.927 13.584-5.89 22.503-5.89 8.264 0 15.465 1.8 21.684 5.318 6.137 3.518 10.964 8.673 14.319 15.382 3.437 6.71 5.074 14.81 4.992 24.383v76.175h-28.23v-71.92c0-8.019-2.046-14.237-6.219-18.819-4.173-4.5-9.819-6.791-17.102-6.791-4.91 0-9.328 1.063-13.174 3.272-3.846 2.128-6.792 5.237-9.001 9.328-2.046 4.009-3.191 8.918-3.191 14.728ZM589.233 239c-10.147 0-18.82-1.391-26.103-4.091-7.282-2.7-13.092-6.382-17.511-10.964-4.418-4.582-7.528-9.655-9.164-15.219l25.448-6.136c1.145 2.372 2.782 4.663 4.991 6.954 2.209 2.291 5.155 4.255 8.837 5.81 3.683 1.554 8.428 2.291 14.074 2.291 8.019 0 14.647-1.964 19.884-5.81 5.237-3.845 7.856-10.227 7.856-19.064v-22.665h-1.391c-1.473 2.946-3.601 5.892-6.383 9.001-2.782 3.109-6.464 5.645-10.965 7.691-4.582 2.046-10.228 3.109-17.101 3.109-9.165 0-17.511-2.209-25.039-6.545-7.446-4.337-13.42-10.883-17.757-19.474-4.418-8.673-6.628-19.473-6.628-32.565 0-13.091 2.21-24.301 6.628-33.383 4.419-9.082 10.311-15.955 17.839-20.7 7.528-4.746 15.874-7.037 25.039-7.037 7.037 0 12.846 1.145 17.347 3.518 4.582 2.373 8.182 5.236 10.883 8.51 2.7 3.272 4.746 6.382 6.137 9.327h1.554v-19.8h27.821v121.749c0 10.228-2.454 18.737-7.364 25.447-4.91 6.709-11.538 11.7-20.048 15.055-8.509 3.355-18.165 4.991-28.884 4.991Zm.245-71.266c5.974 0 11.047-1.473 15.302-4.337 4.173-2.945 7.446-7.118 9.573-12.519 2.21-5.482 3.274-12.027 3.274-19.637 0-7.609-1.064-14.155-3.274-19.8-2.127-5.646-5.318-10.064-9.491-13.255-4.174-3.11-9.329-4.746-15.384-4.746s-11.537 1.636-15.792 4.91c-4.173 3.272-7.365 7.772-9.492 13.418-2.128 5.727-3.191 12.191-3.191 19.392 0 7.2 1.063 13.745 3.273 19.228 2.127 5.482 5.318 9.736 9.573 12.764 4.174 3.027 9.41 4.582 15.629 4.582Zm141.56-26.51V71.839h28.23v119.786h-27.412v-21.273h-1.227c-2.7 6.709-7.119 12.191-13.338 16.446-6.137 4.255-13.747 6.382-22.748 6.382-7.855 0-14.81-1.718-20.783-5.237-5.974-3.518-10.72-8.591-14.075-15.382-3.355-6.709-5.073-14.891-5.073-24.464V71.839h28.312v71.921c0 7.609 2.046 13.664 6.219 18.083 4.173 4.5 9.655 6.709 16.365 6.709 4.173 0 8.183-.982 12.111-3.028 3.927-2.045 7.118-5.072 9.655-9.082 2.537-4.091 3.764-9.164 3.764-15.218Zm65.707-109.395v159.796h-28.23V31.828h28.23Zm44.841 162.169c-7.61 0-14.402-1.391-20.457-4.091-6.055-2.7-10.883-6.791-14.32-12.109-3.518-5.319-5.237-11.946-5.237-19.801 0-6.791 1.228-12.355 3.765-16.773 2.536-4.419 5.891-7.937 10.228-10.637 4.337-2.618 9.164-4.664 14.647-6.055 5.4-1.391 11.046-2.373 16.856-3.027 7.037-.737 12.683-1.391 17.102-1.964 4.337-.573 7.528-1.555 9.574-2.782 1.963-1.309 3.027-3.273 3.027-5.973v-.491c0-5.891-1.718-10.391-5.237-13.664-3.518-3.191-8.51-4.828-15.056-4.828-6.955 0-12.356 1.473-16.447 4.5-4.009 3.028-6.71 6.546-8.183 10.719l-26.348-3.764c2.046-7.282 5.483-13.336 10.31-18.328 4.746-4.909 10.638-8.59 17.511-11.045 6.955-2.455 14.565-3.682 22.912-3.682 5.809 0 11.537.654 17.265 2.045s10.965 3.6 15.711 6.71c4.746 3.109 8.51 7.282 11.455 12.6 2.864 5.318 4.337 11.946 4.337 19.883v80.184h-27.166v-16.446h-.9c-1.719 3.355-4.092 6.464-7.201 9.328-3.109 2.864-6.955 5.237-11.619 6.955-4.828 1.718-10.229 2.536-16.529 2.536Zm7.364-20.701c5.646 0 10.556-1.145 14.729-3.354 4.173-2.291 7.364-5.237 9.655-9.001 2.292-3.763 3.355-7.854 3.355-12.273v-14.155c-.9.737-2.373 1.391-4.5 2.046-2.128.654-4.419 1.145-7.037 1.636-2.619.491-5.155.9-7.692 1.227-2.537.328-4.746.655-6.628.901-4.173.572-8.019 1.472-11.292 2.781-3.355 1.31-5.973 3.11-7.855 5.401-1.964 2.291-2.864 5.318-2.864 8.918 0 5.237 1.882 9.164 5.728 11.782 3.682 2.782 8.51 4.091 14.401 4.091Zm64.643 18.328V71.839h27.412v19.965h1.227c2.21-6.955 5.974-12.274 11.292-16.038 5.319-3.763 11.456-5.645 18.329-5.645 1.555 0 3.355.082 5.237.163 1.964.164 3.601.328 4.91.573v25.938c-1.227-.41-3.109-.819-5.646-1.146a58.814 58.814 0 0 0-7.446-.49c-5.155 0-9.738 1.145-13.829 3.354-4.091 2.209-7.282 5.236-9.655 9.164-2.373 3.927-3.519 8.427-3.519 13.5v70.448h-28.312ZM222.077 39.192l-8.019 125.923L137.387 0l84.69 39.192Zm-53.105 162.825-57.933 33.056-57.934-33.056 11.783-28.556h92.301l11.783 28.556ZM111.039 62.675l30.357 73.803H80.681l30.358-73.803ZM7.937 165.115 0 39.192 84.69 0 7.937 165.115Z"],["id","c","cx","0","cy","0","r","1","gradientTransform","rotate(118.122 171.182 60.81) scale(205.794)","gradientUnits","userSpaceOnUse"],["stop-color","#FF41F8"],["offset",".707","stop-color","#FF41F8","stop-opacity",".5"],["offset","1","stop-color","#FF41F8","stop-opacity","0"],["id","b","x1","0","x2","982","y1","192","y2","192","gradientUnits","userSpaceOnUse"],["stop-color","#F0060B"],["offset","0","stop-color","#F0070C"],["offset",".526","stop-color","#CC26D5"],["offset","1","stop-color","#7702FF"],["id","a"],["fill","#fff","d","M0 0h982v239H0z"],["role","separator","aria-label","Divider",1,"divider"],[1,"right-side"],[1,"pill-group"],["target","_blank","rel","noopener",1,"pill",3,"href"],[1,"social-links"],["href","https://github.com/angular/angular","aria-label","Github","target","_blank","rel","noopener"],["width","25","height","24","viewBox","0 0 25 24","fill","none","xmlns","http://www.w3.org/2000/svg","alt","Github"],["d","M12.3047 0C5.50634 0 0 5.50942 0 12.3047C0 17.7423 3.52529 22.3535 8.41332 23.9787C9.02856 24.0946 9.25414 23.7142 9.25414 23.3871C9.25414 23.0949 9.24389 22.3207 9.23876 21.2953C5.81601 22.0377 5.09414 19.6444 5.09414 19.6444C4.53427 18.2243 3.72524 17.8449 3.72524 17.8449C2.61064 17.082 3.81137 17.0973 3.81137 17.0973C5.04697 17.1835 5.69604 18.3647 5.69604 18.3647C6.79321 20.2463 8.57636 19.7029 9.27978 19.3881C9.39052 18.5924 9.70736 18.0499 10.0591 17.7423C7.32641 17.4347 4.45429 16.3765 4.45429 11.6618C4.45429 10.3185 4.9311 9.22133 5.72065 8.36C5.58222 8.04931 5.16694 6.79833 5.82831 5.10337C5.82831 5.10337 6.85883 4.77319 9.2121 6.36459C10.1965 6.09082 11.2424 5.95546 12.2883 5.94931C13.3342 5.95546 14.3801 6.09082 15.3644 6.36459C17.7023 4.77319 18.7328 5.10337 18.7328 5.10337C19.3942 6.79833 18.9789 8.04931 18.8559 8.36C19.6403 9.22133 20.1171 10.3185 20.1171 11.6618C20.1171 16.3888 17.2409 17.4296 14.5031 17.7321C14.9338 18.1012 15.3337 18.8559 15.3337 20.0084C15.3337 21.6552 15.3183 22.978 15.3183 23.3779C15.3183 23.7009 15.5336 24.0854 16.1642 23.9623C21.0871 22.3484 24.6094 17.7341 24.6094 12.3047C24.6094 5.50942 19.0999 0 12.3047 0Z"],["href","https://twitter.com/angular","aria-label","Twitter","target","_blank","rel","noopener"],["width","24","height","24","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg","alt","Twitter"],["d","M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"],["href","https://www.youtube.com/channel/UCbn1OgGei-DV7aSRo_HaAiw","aria-label","Youtube","target","_blank","rel","noopener"],["width","29","height","20","viewBox","0 0 29 20","fill","none","xmlns","http://www.w3.org/2000/svg","alt","Youtube"],["fill-rule","evenodd","clip-rule","evenodd","d","M27.4896 1.52422C27.9301 1.96749 28.2463 2.51866 28.4068 3.12258C29.0004 5.35161 29.0004 10 29.0004 10C29.0004 10 29.0004 14.6484 28.4068 16.8774C28.2463 17.4813 27.9301 18.0325 27.4896 18.4758C27.0492 18.9191 26.5 19.2389 25.8972 19.4032C23.6778 20 14.8068 20 14.8068 20C14.8068 20 5.93586 20 3.71651 19.4032C3.11363 19.2389 2.56449 18.9191 2.12405 18.4758C1.68361 18.0325 1.36732 17.4813 1.20683 16.8774C0.613281 14.6484 0.613281 10 0.613281 10C0.613281 10 0.613281 5.35161 1.20683 3.12258C1.36732 2.51866 1.68361 1.96749 2.12405 1.52422C2.56449 1.08095 3.11363 0.76113 3.71651 0.596774C5.93586 0 14.8068 0 14.8068 0C14.8068 0 23.6778 0 25.8972 0.596774C26.5 0.76113 27.0492 1.08095 27.4896 1.52422ZM19.3229 10L11.9036 5.77905V14.221L19.3229 10Z"],["xmlns","http://www.w3.org/2000/svg","height","14","viewBox","0 -960 960 960","width","14","fill","currentColor"],["d","M200-120q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h280v80H200v560h560v-280h80v280q0 33-23.5 56.5T760-120H200Zm188-212-56-56 372-372H560v-80h280v280h-80v-144L388-332Z"]],template:function(t,r){t&1&&(ee(0,"main",0)(1,"div",1)(2,"div",2),Yr(),ee(3,"svg",3)(4,"g",4),Ye(5,"path",5)(6,"path",6),ie(),ee(7,"defs")(8,"radialGradient",7),Ye(9,"stop",8)(10,"stop",9)(11,"stop",10),ie(),ee(12,"linearGradient",11),Ye(13,"stop",12)(14,"stop",13)(15,"stop",14)(16,"stop",15),ie(),ee(17,"clipPath",16),Ye(18,"path",17),ie()()(),_o(),ee(19,"h1"),Ae(20),ie(),ee(21,"p"),Ae(22,"Congratulations! Your app is running. \u{1F389}"),ie()(),Ye(23,"div",18),ee(24,"div",19)(25,"div",20),Za(26,Kk,5,2,"a",21,Wk),ie(),ee(28,"div",22)(29,"a",23),Yr(),ee(30,"svg",24),Ye(31,"path",25),ie()(),_o(),ee(32,"a",26),Yr(),ee(33,"svg",27),Ye(34,"path",28),ie()(),_o(),ee(35,"a",29),Yr(),ee(36,"svg",30),Ye(37,"path",31),ie()()()()()(),_o(),Ye(38,"app-rsvp-tester")(39,"router-outlet")),t&2&&(kt(20),Dn("Hello, ",r.title,""),kt(6),Ja(pI(6,Gk,ti(1,Bk),ti(2,$k),ti(3,Hk),ti(4,qk),ti(5,zk))))},dependencies:[bh,xu],styles:['[_nghost-%COMP%]{--bright-blue: oklch(51.01% .274 263.83);--electric-violet: oklch(53.18% .28 296.97);--french-violet: oklch(47.66% .246 305.88);--vivid-pink: oklch(69.02% .277 332.77);--hot-red: oklch(61.42% .238 15.34);--orange-red: oklch(63.32% .24 31.68);--gray-900: oklch(19.37% .006 300.98);--gray-700: oklch(36.98% .014 302.71);--gray-400: oklch(70.9% .015 304.04);--red-to-pink-to-purple-vertical-gradient: linear-gradient( 180deg, var(--orange-red) 0%, var(--vivid-pink) 50%, var(--electric-violet) 100% );--red-to-pink-to-purple-horizontal-gradient: linear-gradient( 90deg, var(--orange-red) 0%, var(--vivid-pink) 50%, var(--electric-violet) 100% );--pill-accent: var(--bright-blue);font-family:Inter,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol;box-sizing:border-box;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}h1[_ngcontent-%COMP%]{font-size:3.125rem;color:var(--gray-900);font-weight:500;line-height:100%;letter-spacing:-.125rem;margin:0;font-family:Inter Tight,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol}p[_ngcontent-%COMP%]{margin:0;color:var(--gray-700)}main[_ngcontent-%COMP%]{width:100%;min-height:100%;display:flex;justify-content:center;align-items:center;padding:1rem;box-sizing:inherit;position:relative}.angular-logo[_ngcontent-%COMP%]{max-width:9.2rem}.content[_ngcontent-%COMP%]{display:flex;justify-content:space-around;width:100%;max-width:700px;margin-bottom:3rem}.content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-top:1.75rem}.content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:1.5rem}.divider[_ngcontent-%COMP%]{width:1px;background:var(--red-to-pink-to-purple-vertical-gradient);margin-inline:.5rem}.pill-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:start;flex-wrap:wrap;gap:1.25rem}.pill[_ngcontent-%COMP%]{display:flex;align-items:center;--pill-accent: var(--bright-blue);background:color-mix(in srgb,var(--pill-accent) 5%,transparent);color:var(--pill-accent);padding-inline:.75rem;padding-block:.375rem;border-radius:2.75rem;border:0;transition:background .3s ease;font-family:var(--inter-font);font-size:.875rem;font-style:normal;font-weight:500;line-height:1.4rem;letter-spacing:-.00875rem;text-decoration:none}.pill[_ngcontent-%COMP%]:hover{background:color-mix(in srgb,var(--pill-accent) 15%,transparent)}.pill-group[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]:nth-child(6n+1){--pill-accent: var(--bright-blue)}.pill-group[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]:nth-child(6n+2){--pill-accent: var(--french-violet)}.pill-group[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]:nth-child(6n+3), .pill-group[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]:nth-child(6n+4), .pill-group[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]:nth-child(6n+5){--pill-accent: var(--hot-red)}.pill-group[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{margin-inline-start:.25rem}.social-links[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.73rem;margin-top:1.5rem}.social-links[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{transition:fill .3s ease;fill:var(--gray-400)}.social-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:var(--gray-900)}@media screen and (max-width: 650px){.content[_ngcontent-%COMP%]{flex-direction:column;width:max-content}.divider[_ngcontent-%COMP%]{height:1px;width:100%;background:var(--red-to-pink-to-purple-horizontal-gradient);margin-block:1.5rem}}']})};var bT={production:!1,firebase:{apiKey:"AIzaSyBrOT2SEihJGZPyDAlvaKLBM4e4JPQJv8M",authDomain:"gametime-rsvp.firebaseapp.com",projectId:"gametime-rsvp",storageBucket:"gametime-rsvp.firebasestorage.app",messagingSenderId:"663617689433",appId:"1:663617689433:web:d5755bfe82cf47e3e99e48",measurementId:"G-4VLNSJJYQ2"}};var Qk=typeof window<"u";Eh(ku,{providers:[yw(()=>vw(bT.firebase)),...Qk?[wT(()=>DT())]:[]]});
